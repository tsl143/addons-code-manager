(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(module,exports,__webpack_require__){module.exports={VersionChooser:"styles_VersionChooser__2s7S6",popover:"styles_popover__3_8jY",submitButton:"styles_submitButton__3XQ2t",formRow:"styles_formRow__1cfqR",versionSelect:"styles_versionSelect__1Mg6z",versionSelectControl:"styles_versionSelectControl__1Ivt3"}},11:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ScrollTarget})),__webpack_require__.d(__webpack_exports__,"c",(function(){return changeTypes})),__webpack_require__.d(__webpack_exports__,"b",(function(){return actions})),__webpack_require__.d(__webpack_exports__,"g",(function(){return createInternalVersionEntry})),__webpack_require__.d(__webpack_exports__,"d",(function(){return createEntryStatusMap})),__webpack_require__.d(__webpack_exports__,"f",(function(){return createInternalVersion})),__webpack_require__.d(__webpack_exports__,"p",(function(){return getVersionInfo})),__webpack_require__.d(__webpack_exports__,"l",(function(){return getEntryStatusMap})),__webpack_require__.d(__webpack_exports__,"q",(function(){return selectCurrentVersionInfo})),__webpack_require__.d(__webpack_exports__,"m",(function(){return getMostRelevantEntryStatus})),__webpack_require__.d(__webpack_exports__,"o",(function(){return getVersionFile})),__webpack_require__.d(__webpack_exports__,"k",(function(){return getDiffAnchors})),__webpack_require__.d(__webpack_exports__,"n",(function(){return getRelativeDiffAnchor})),__webpack_require__.d(__webpack_exports__,"i",(function(){return fetchVersion})),__webpack_require__.d(__webpack_exports__,"j",(function(){return fetchVersionsList})),__webpack_require__.d(__webpack_exports__,"e",(function(){return createInternalCompareInfo})),__webpack_require__.d(__webpack_exports__,"r",(function(){return viewVersionFile}));var ScrollTarget,_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(17),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(86),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1),typesafe_actions__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(10),loglevel__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(39),loglevel__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(loglevel__WEBPACK_IMPORTED_MODULE_5__),react_diff_view__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(59),connected_react_router__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(132),_api__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(40),_utils__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(6),_errors__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(82),_fileTree__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(76),createAction=typesafe_actions__WEBPACK_IMPORTED_MODULE_4__.deprecated.createAction;!function(ScrollTarget){ScrollTarget.firstDiff="firstDiff",ScrollTarget.lastDiff="lastDiff"}(ScrollTarget||(ScrollTarget={}));var changeTypes=Object.freeze({delete:"delete",deleteEofnl:"delete-eofnl",insert:"insert",insertEofnl:"insert-eofnl",normal:"normal",normalEofnl:"normal-eofnl"}),actions={loadVersionFile:createAction("LOAD_VERSION_FILE",(function(resolve){return function(payload){return resolve(payload)}})),loadVersionInfo:createAction("LOAD_VERSION_INFO",(function(resolve){return function(payload){return resolve(payload)}})),loadEntryStatusMap:createAction("LOAD_ENTRY_STATUS_MAP",(function(resolve){return function(payload){return resolve(payload)}})),updateSelectedPath:createAction("UPDATE_SELECTED_PATH",(function(resolve){return function(payload){return resolve(payload)}})),setCurrentBaseVersionId:createAction("SET_CURRENT_BASE_VERSION_ID",(function(resolve){return function(payload){return resolve(payload)}})),setCurrentVersionId:createAction("SET_CURRENT_VERSION_ID",(function(resolve){return function(payload){return resolve(payload)}})),unsetCurrentBaseVersionId:createAction("UNSET_CURRENT_BASE_VERSION_ID"),unsetCurrentVersionId:createAction("UNSET_CURRENT_VERSION_ID",(function(resolve){return function(){return resolve()}})),setVisibleSelectedPath:createAction("SET_VISIBLE_SELECTED_PATH",(function(resolve){return function(payload){return resolve(payload)}})),toggleExpandedPath:createAction("TOGGLE_EXPANDED_PATH",(function(resolve){return function(payload){return resolve(payload)}})),expandTree:createAction("EXPAND_TREE",(function(resolve){return function(payload){return resolve(payload)}})),collapseTree:createAction("COLLAPSE_TREE",(function(resolve){return function(payload){return resolve(payload)}})),loadVersionsList:createAction("LOAD_VERSIONS_LIST",(function(resolve){return function(payload){return resolve(payload)}})),beginFetchDiff:createAction("BEGIN_FETCH_DIFF",(function(resolve){return function(payload){return resolve(payload)}})),beginFetchVersionFile:createAction("BEGIN_FETCH_VERSION_FILE",(function(resolve){return function(payload){return resolve(payload)}})),abortFetchDiff:createAction("ABORT_FETCH_DIFF",(function(resolve){return function(payload){return resolve(payload)}})),abortFetchVersionFile:createAction("ABORT_FETCH_VERSION_FILE",(function(resolve){return function(payload){return resolve(payload)}})),loadDiff:createAction("LOAD_DIFF",(function(resolve){return function(payload){return resolve(payload)}})),beginFetchVersion:createAction("BEGIN_FETCH_VERSION",(function(resolve){return function(payload){return resolve(payload)}})),abortFetchVersion:createAction("ABORT_FETCH_VERSION",(function(resolve){return function(payload){return resolve(payload)}})),setPendingBaseVersionId:createAction("SET_PENDING_BASE_VERSION_ID",(function(resolve){return function(payload){return resolve(payload)}})),setPendingHeadVersionId:createAction("SET_PENDING_HEAD_VERSION_ID",(function(resolve){return function(payload){return resolve(payload)}}))},initialState={byAddonId:{},compareInfo:{},compareInfoIsLoading:{},currentBaseVersionId:void 0,currentVersionId:void 0,entryStatusMaps:{},expandedPaths:void 0,pendingBaseVersionId:void 0,pendingHeadVersionId:void 0,selectedPath:null,visibleSelectedPath:null,versionFiles:{},versionFilesLoading:{},versionInfo:{},versionInfoLoading:{}},getParentFolders=function getParentFolders(path){for(var parents=[_fileTree__WEBPACK_IMPORTED_MODULE_11__.a],folders=path.split("/");folders.length>1;)folders.pop(),parents.push(folders.join("/"));return parents},createInternalVersionFile=function createInternalVersionFile(_ref){var file=_ref.file,path=_ref.path;return{content:file.content,created:file.created,downloadURL:file.download_url,id:file.id,sha256:file.entries[path]?file.entries[path].sha256:null,size:file.size}},createInternalVersionEntry=function createInternalVersionEntry(entry){return{depth:entry.depth,filename:entry.filename,mimeType:entry.mimetype,modified:entry.modified,path:entry.path,sha256:entry.sha256,type:entry.mime_category}},getEntryStatusMapKey=function getEntryStatusMapKey(_ref2){var versionId=_ref2.versionId,comparedToVersionId=_ref2.comparedToVersionId;return"versionId=".concat(versionId,";comparedToVersionId=").concat(comparedToVersionId)},createEntryStatusMap=function createEntryStatusMap(version){for(var entries=version.file.entries,entryStatusMap={},_i=0,_Object$keys=Object.keys(entries);_i<_Object$keys.length;_i++){var _nodeName=_Object$keys[_i];entryStatusMap[_nodeName]=entries[_nodeName].status}return entryStatusMap},createInternalVersionAddon=function createInternalVersionAddon(addon){return{iconUrl:addon.icon_url,id:addon.id,name:addon.name,slug:addon.slug}},createInternalVersion=function createInternalVersion(version){return{addon:createInternalVersionAddon(version.addon),initialPath:version.file.selected_file,entries:Object.keys(version.file.entries).map((function(nodeName){return createInternalVersionEntry(version.file.entries[nodeName])})),expandedPaths:getParentFolders(version.file.selected_file),id:version.id,reviewed:version.reviewed,selectedPath:version.file.selected_file,version:version.version,validationURL:version.validation_url_json,visibleSelectedPath:null}},getVersionFiles=function getVersionFiles(versions,versionId){return versions.versionFiles[versionId]},getVersionInfo=function getVersionInfo(versions,versionId){return versions.versionInfo[versionId]},createVersionPathChecker=function createVersionPathChecker(version){var paths=new Set(version.entries.map((function(e){return e.path})));return function(path){return paths.has(path)}},getPrunedExpandedPaths=function getPrunedExpandedPaths(expandedPaths,version){var doesPathExist=createVersionPathChecker(version);return expandedPaths.filter(doesPathExist)},versionPathExists=function versionPathExists(path,version){return createVersionPathChecker(version)(path)},getEntryStatusMap=function getEntryStatusMap(_ref3){var versions=_ref3.versions,versionId=_ref3.versionId,comparedToVersionId=_ref3.comparedToVersionId;return versions.entryStatusMaps[getEntryStatusMapKey({versionId:versionId,comparedToVersionId:comparedToVersionId})]},selectCurrentVersionInfo=function selectCurrentVersionInfo(versions){return versions.currentVersionId?getVersionInfo(versions,versions.currentVersionId):void 0===versions.currentVersionId&&void 0},selectVersionIsLoading=function selectVersionIsLoading(versions,versionId){return versions.versionInfoLoading[versionId]||!1},getMostRelevantEntryStatus=function getMostRelevantEntryStatus(_ref4){for(var version=_ref4.version,entryStatusMap=_ref4.entryStatusMap,path=_ref4.path,statuses=version.entries.filter((function(e){return e.path.startsWith(path)})).map((function(e){return entryStatusMap[e.path]})),_i2=0,_priorities=["A","M","D"];_i2<_priorities.length;_i2++){var p=_priorities[_i2];if(statuses.includes(p))return p}return statuses.length?statuses[0]:void 0},getVersionFile=function getVersionFile(versions,versionId,path){var _ref5=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},_ref5$_log=_ref5._log,_log=void 0===_ref5$_log?loglevel__WEBPACK_IMPORTED_MODULE_5___default.a:_ref5$_log,version=getVersionInfo(versions,versionId),filesForVersion=getVersionFiles(versions,versionId);if(version&&filesForVersion){var file=filesForVersion[path];if(null===file)return null;var entry=version.entries.find((function(e){return e.path===path}));if(!entry)return void _log.debug("Entry missing for path: ".concat(path,", versionId: ").concat(versionId));if(file)return file.sha256?Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},file,{filename:entry.filename,mimeType:entry.mimeType,path:path,sha256:file.sha256,type:entry.type,version:version.version}):void _log.debug("sha256 missing for file: ".concat(path,", versionId: ").concat(versionId))}},getDiffAnchors=function getDiffAnchors(diff){var anchors=[],_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=diff.hunks[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var hunk=_step.value,seekingChange=!0,_iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=hunk.changes[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var change=_step2.value;"normal"===change.type?seekingChange=!0:seekingChange&&(anchors.push(Object(react_diff_view__WEBPACK_IMPORTED_MODULE_6__.d)(change)),seekingChange=!1)}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{_iteratorNormalCompletion2||null==_iterator2.return||_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return anchors},getRelativeDiffAnchor=function getRelativeDiffAnchor(_ref6){var _ref6$currentAnchor=_ref6.currentAnchor,currentAnchor=void 0===_ref6$currentAnchor?"":_ref6$currentAnchor,diff=_ref6.diff,_ref6$position=_ref6.position,position=void 0===_ref6$position?_fileTree__WEBPACK_IMPORTED_MODULE_11__.b.next:_ref6$position,anchors=getDiffAnchors(diff);if(anchors.length){if(!currentAnchor)return anchors[0];var currentIndex=anchors.indexOf(currentAnchor);if(currentIndex>=0){var newIndex=position===_fileTree__WEBPACK_IMPORTED_MODULE_11__.b.previous?currentIndex-1:currentIndex+1;return newIndex>=0&&newIndex<anchors.length?anchors[newIndex]:null}var currentAnchorNumber=Object(_utils__WEBPACK_IMPORTED_MODULE_9__.f)(currentAnchor),sortedAnchors=position===_fileTree__WEBPACK_IMPORTED_MODULE_11__.b.previous?Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__.a)(anchors).reverse():anchors;if(currentAnchorNumber){var _iteratorNormalCompletion5=!0,_didIteratorError5=!1,_iteratorError5=void 0;try{for(var _step5,_iterator5=sortedAnchors[Symbol.iterator]();!(_iteratorNormalCompletion5=(_step5=_iterator5.next()).done);_iteratorNormalCompletion5=!0){var anchor=_step5.value,anchorNumber=Object(_utils__WEBPACK_IMPORTED_MODULE_9__.f)(anchor);if(anchorNumber&&(position===_fileTree__WEBPACK_IMPORTED_MODULE_11__.b.previous&&anchorNumber<=currentAnchorNumber||position===_fileTree__WEBPACK_IMPORTED_MODULE_11__.b.next&&anchorNumber>=currentAnchorNumber))return anchor}}catch(err){_didIteratorError5=!0,_iteratorError5=err}finally{try{_iteratorNormalCompletion5||null==_iterator5.return||_iterator5.return()}finally{if(_didIteratorError5)throw _iteratorError5}}}}return null},fetchVersion=function fetchVersion(_ref8){var _ref8$_getVersion=_ref8._getVersion,_getVersion=void 0===_ref8$_getVersion?_api__WEBPACK_IMPORTED_MODULE_8__.f:_ref8$_getVersion,addonId=_ref8.addonId,versionId=_ref8.versionId,path=_ref8.path,_ref8$setAsCurrent=_ref8.setAsCurrent,setAsCurrent=void 0===_ref8$setAsCurrent||_ref8$setAsCurrent;return function _callee(dispatch,getState){var _getState,apiState,versions,response,selected_file;return _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.async((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(_getState=getState(),apiState=_getState.api,versions=_getState.versions,!selectVersionIsLoading(versions,versionId)){_context.next=3;break}return _context.abrupt("return");case 3:return dispatch(actions.beginFetchVersion({versionId:versionId})),setAsCurrent&&dispatch(actions.setCurrentVersionId({versionId:versionId})),_context.next=7,_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.awrap(_getVersion({addonId:addonId,apiState:apiState,path:path,versionId:versionId}));case 7:response=_context.sent,Object(_api__WEBPACK_IMPORTED_MODULE_8__.h)(response)?(dispatch(actions.abortFetchVersion({versionId:versionId})),dispatch(_errors__WEBPACK_IMPORTED_MODULE_10__.a.addError({error:response.error}))):(selected_file=response.file.selected_file,dispatch(actions.beginFetchVersionFile({versionId:versionId,path:selected_file})),dispatch(actions.loadVersionInfo({version:response,updatePathInfo:setAsCurrent})),dispatch(actions.loadVersionFile({version:response,path:selected_file})));case 9:case"end":return _context.stop()}}))}},createVersionsMap=function createVersionsMap(versions){return{listed:versions.filter((function(version){return"listed"===version.channel})),unlisted:versions.filter((function(version){return"unlisted"===version.channel}))}},fetchVersionsList=function fetchVersionsList(_ref10){var _ref10$_getVersionsLi=_ref10._getVersionsList,_getVersionsList=void 0===_ref10$_getVersionsLi?_api__WEBPACK_IMPORTED_MODULE_8__.g:_ref10$_getVersionsLi,addonId=_ref10.addonId;return function _callee3(dispatch,getState){var _getState3,apiState,response;return _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.async((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _getState3=getState(),apiState=_getState3.api,_context3.next=3,_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.awrap(_getVersionsList({addonId:addonId,apiState:apiState}));case 3:response=_context3.sent,Object(_api__WEBPACK_IMPORTED_MODULE_8__.h)(response)?dispatch(_errors__WEBPACK_IMPORTED_MODULE_10__.a.addError({error:response.error})):dispatch(actions.loadVersionsList({addonId:addonId,versions:response}));case 5:case"end":return _context3.stop()}}))}},createInternalChangeInfo=function createInternalChangeInfo(change){return{content:change.content,isDelete:"delete"===change.type,isInsert:"insert"===change.type,isNormal:"normal"===change.type,lineNumber:["delete","delete-eofnl"].includes(change.type)?change.old_line_number:change.new_line_number,newLineNumber:change.new_line_number,oldLineNumber:change.old_line_number,type:change.type}},createInternalHunk=function createInternalHunk(hunk){return{changes:hunk.changes.map(createInternalChangeInfo),content:hunk.header,isPlain:!1,newLines:hunk.new_lines,newStart:hunk.new_start,oldLines:hunk.old_lines,oldStart:hunk.old_start}},createInternalDiff=function createInternalDiff(_ref11){var baseVersionId=_ref11.baseVersionId,headVersionId=_ref11.headVersionId,GIT_STATUS_TO_TYPE={A:"add",C:"copy",D:"delete",M:"modify",R:"rename"},diff=_ref11.version.file.diff;return diff?{newRevision:String(headVersionId),oldRevision:String(baseVersionId),hunks:diff.hunks.map(createInternalHunk),type:GIT_STATUS_TO_TYPE[diff.mode]||GIT_STATUS_TO_TYPE.M,newEndingNewLine:diff.new_ending_new_line,oldEndingNewLine:diff.old_ending_new_line,newMode:diff.mode,oldMode:diff.mode,newPath:diff.path,oldPath:diff.old_path}:null},getCompareInfoKey=function getCompareInfoKey(_ref12){return[_ref12.addonId,_ref12.baseVersionId,_ref12.headVersionId,_ref12.path].join("/")},createInternalCompareInfo=function createInternalCompareInfo(_ref13){var baseVersionId=_ref13.baseVersionId,headVersionId=_ref13.headVersionId,entry=_ref13.entry,version=_ref13.version;return{diff:createInternalDiff({baseVersionId:baseVersionId,headVersionId:headVersionId,version:version}),mimeType:entry.mimeType}},viewVersionFile=function viewVersionFile(_ref15){var _ref15$preserveHash=_ref15.preserveHash,preserveHash=void 0!==_ref15$preserveHash&&_ref15$preserveHash,selectedPath=_ref15.selectedPath,scrollTo=_ref15.scrollTo,versionId=_ref15.versionId;return function _callee5(dispatch,getState){var _getState5,router,newLocation;return _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.async((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:_getState5=getState(),router=_getState5.router,newLocation=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},router.location,{search:Object(_utils__WEBPACK_IMPORTED_MODULE_9__.e)(router.location,{path:selectedPath,scrollTo:scrollTo})}),preserveHash||delete newLocation.hash,dispatch(actions.updateSelectedPath({versionId:versionId,selectedPath:selectedPath})),dispatch(Object(connected_react_router__WEBPACK_IMPORTED_MODULE_7__.push)(newLocation));case 5:case"end":return _context5.stop()}}))}};__webpack_exports__.h=function createReducer(){var _ref17=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref17$_getPrunedExpa=_ref17._getPrunedExpandedPaths,_getPrunedExpandedPaths=void 0===_ref17$_getPrunedExpa?getPrunedExpandedPaths:_ref17$_getPrunedExpa,reducer=function reducer(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:initialState,action=arguments.length>1?arguments[1]:void 0;switch(action.type){case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_4__.getType)(actions.beginFetchVersion):var _versionId=action.payload.versionId;return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state,{versionInfo:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionInfo,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_versionId,void 0)),versionInfoLoading:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionInfoLoading,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_versionId,!0))});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_4__.getType)(actions.loadVersionInfo):var _action$payload=action.payload,updatePathInfo=_action$payload.updatePathInfo,version=_action$payload.version,internalVersion=createInternalVersion(version);if(!updatePathInfo)return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state,{versionInfo:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionInfo,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},version.id,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},internalVersion))),versionInfoLoading:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionInfoLoading,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},version.id,!1))});var expandedPathsInState=state.expandedPaths,selectedPathInState=state.selectedPath,expandedPaths=expandedPathsInState?_getPrunedExpandedPaths(expandedPathsInState,internalVersion):getParentFolders(version.file.selected_file),selectedPath=selectedPathInState&&versionPathExists(selectedPathInState,internalVersion)?selectedPathInState:version.file.selected_file;return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state,{expandedPaths:expandedPaths,selectedPath:selectedPath,visibleSelectedPath:null,versionInfo:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionInfo,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},version.id,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},internalVersion,{expandedPaths:expandedPaths,selectedPath:selectedPath}))),versionInfoLoading:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionInfoLoading,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},version.id,!1))});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_4__.getType)(actions.abortFetchVersion):var _versionId2=action.payload.versionId;return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state,{versionInfo:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionInfo,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_versionId2,null)),versionInfoLoading:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionInfoLoading,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_versionId2,!1))});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_4__.getType)(actions.loadEntryStatusMap):var _action$payload2=action.payload,_version=_action$payload2.version,comparedToVersionId=_action$payload2.comparedToVersionId,key=getEntryStatusMapKey({versionId:_version.id,comparedToVersionId:comparedToVersionId});return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state,{entryStatusMaps:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.entryStatusMaps,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},key,createEntryStatusMap(_version)))});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_4__.getType)(actions.loadVersionFile):var _action$payload3=action.payload,_path=_action$payload3.path,_version2=_action$payload3.version;return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state,{versionFiles:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionFiles,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_version2.id,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionFiles[_version2.id],Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_path,createInternalVersionFile({file:_version2.file,path:_path}))))),versionFilesLoading:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionFilesLoading,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_version2.id,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionFilesLoading[_version2.id],Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_path,!1))))});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_4__.getType)(actions.beginFetchVersionFile):var _action$payload4=action.payload,_path2=_action$payload4.path,_versionId3=_action$payload4.versionId;return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state,{versionFilesLoading:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionFilesLoading,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_versionId3,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionFilesLoading[_versionId3],Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_path2,!0))))});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_4__.getType)(actions.abortFetchVersionFile):var _action$payload5=action.payload,_path3=_action$payload5.path,_versionId4=_action$payload5.versionId;return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state,{versionFiles:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionFiles,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_versionId4,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionFiles[_versionId4],Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_path3,null)))),versionFilesLoading:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionFilesLoading,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_versionId4,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionFilesLoading[_versionId4],Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_path3,!1))))});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_4__.getType)(actions.updateSelectedPath):var _action$payload6=action.payload,_selectedPath=_action$payload6.selectedPath,_versionId5=_action$payload6.versionId,_version3=state.versionInfo[_versionId5];if(!_version3)throw new Error("Version missing for versionId: ".concat(_versionId5));var _expandedPaths=state.expandedPaths;if(!_expandedPaths)throw new Error("Expanded paths are undefined");var parents=getParentFolders(_selectedPath),newExpandedPaths=[].concat(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__.a)(_expandedPaths),Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__.a)(parents.filter((function(newPath){return!_expandedPaths.includes(newPath)}))));return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state,{expandedPaths:newExpandedPaths,selectedPath:_selectedPath,versionInfo:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionInfo,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_versionId5,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},_version3,{expandedPaths:newExpandedPaths,selectedPath:_selectedPath})))});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_4__.getType)(actions.setVisibleSelectedPath):var _action$payload7=action.payload,_path4=_action$payload7.path,_versionId6=_action$payload7.versionId,_version4=state.versionInfo[_versionId6];if(!_version4)throw new Error("Version missing for versionId: ".concat(_versionId6));if(_path4&&!_version4.entries.find((function(e){return e.path===_path4})))throw new Error('Path "'.concat(_path4,'" is an unknown path for version ID ').concat(_versionId6));return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state,{visibleSelectedPath:_path4,versionInfo:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionInfo,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_versionId6,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},_version4,{visibleSelectedPath:_path4})))});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_4__.getType)(actions.toggleExpandedPath):var _action$payload8=action.payload,_path5=_action$payload8.path,_versionId7=_action$payload8.versionId,_version5=state.versionInfo[_versionId7];if(!_version5)throw new Error("Version missing for versionId: ".concat(_versionId7));var _expandedPaths2=state.expandedPaths;if(void 0===_expandedPaths2)throw new Error("ExpandedPaths is undefined");var _newExpandedPaths=_expandedPaths2.includes(_path5)?_expandedPaths2.filter((function(storedPath){return _path5!==storedPath})):[].concat(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__.a)(_expandedPaths2),[_path5]);return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state,{expandedPaths:_newExpandedPaths,versionInfo:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionInfo,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_versionId7,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},_version5,{expandedPaths:_newExpandedPaths})))});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_4__.getType)(actions.expandTree):var _versionId8=action.payload.versionId,_version6=state.versionInfo[_versionId8];if(!_version6)throw new Error("Version missing for versionId: ".concat(_versionId8));var _expandedPaths3=_version6.entries.filter((function(entry){return"directory"===entry.type})).map((function(entry){return entry.path}));return _expandedPaths3.push(_fileTree__WEBPACK_IMPORTED_MODULE_11__.a),Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state,{expandedPaths:_expandedPaths3,versionInfo:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionInfo,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_versionId8,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},_version6,{expandedPaths:_expandedPaths3})))});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_4__.getType)(actions.collapseTree):var _versionId9=action.payload.versionId,_version7=state.versionInfo[_versionId9],_expandedPaths4=[_fileTree__WEBPACK_IMPORTED_MODULE_11__.a];if(!_version7)throw new Error("Version missing for versionId: ".concat(_versionId9));return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state,{expandedPaths:_expandedPaths4,versionInfo:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionInfo,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_versionId9,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},_version7,{expandedPaths:_expandedPaths4})))});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_4__.getType)(actions.loadVersionsList):var _action$payload9=action.payload,_addonId=_action$payload9.addonId,versions=_action$payload9.versions;return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state,{byAddonId:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.byAddonId,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_addonId,createVersionsMap(versions)))});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_4__.getType)(actions.beginFetchDiff):var _key=getCompareInfoKey(action.payload);return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state,{compareInfo:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.compareInfo,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_key,void 0)),compareInfoIsLoading:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.compareInfoIsLoading,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_key,!0))});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_4__.getType)(actions.abortFetchDiff):var _key2=getCompareInfoKey(action.payload);return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state,{compareInfo:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.compareInfo,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_key2,null)),compareInfoIsLoading:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.compareInfoIsLoading,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_key2,!1))});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_4__.getType)(actions.loadDiff):var _action$payload10=action.payload,_addonId2=_action$payload10.addonId,baseVersionId=_action$payload10.baseVersionId,headVersionId=_action$payload10.headVersionId,_path6=_action$payload10.path,_version8=_action$payload10.version,_compareInfoKey=getCompareInfoKey({addonId:_addonId2,baseVersionId:baseVersionId,headVersionId:headVersionId,path:_path6}),headVersion=getVersionInfo(state,headVersionId);if(!headVersion)throw new Error("Version missing for headVersionId: ".concat(headVersionId));var entries=headVersion.entries,_selectedPath2=headVersion.selectedPath,entry=entries.find((function(e){return e.path===_selectedPath2}));if(!entry)throw new Error("Entry missing for headVersionId: ".concat(headVersionId));return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state,{compareInfo:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.compareInfo,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_compareInfoKey,createInternalCompareInfo({baseVersionId:baseVersionId,headVersionId:headVersionId,entry:entry,version:_version8}))),compareInfoIsLoading:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.compareInfoIsLoading,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_compareInfoKey,!1))});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_4__.getType)(actions.setCurrentBaseVersionId):var _versionId10=action.payload.versionId;return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state,{currentBaseVersionId:_versionId10});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_4__.getType)(actions.setPendingBaseVersionId):var _versionId11=action.payload.versionId;return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state,{pendingBaseVersionId:_versionId11});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_4__.getType)(actions.setPendingHeadVersionId):var _versionId12=action.payload.versionId;return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state,{pendingHeadVersionId:_versionId12});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_4__.getType)(actions.setCurrentVersionId):var _versionId13=action.payload.versionId,_expandedPaths5=state.expandedPaths,_selectedPath3=state.selectedPath,versionInfo=state.versionInfo,visibleSelectedPath=state.visibleSelectedPath,_version9=getVersionInfo(state,_versionId13);return _version9&&_expandedPaths5&&(_expandedPaths5=_getPrunedExpandedPaths(_expandedPaths5,_version9)),_version9&&(_selectedPath3=_selectedPath3&&versionPathExists(_selectedPath3,_version9)?_selectedPath3:_version9.selectedPath,versionInfo=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},versionInfo,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_version9.id,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},_version9,{selectedPath:_selectedPath3,visibleSelectedPath:visibleSelectedPath})))),Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state,{currentVersionId:_versionId13,expandedPaths:_expandedPaths5,selectedPath:_selectedPath3,versionInfo:versionInfo});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_4__.getType)(actions.unsetCurrentBaseVersionId):return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state,{currentBaseVersionId:!1});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_4__.getType)(actions.unsetCurrentVersionId):return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state,{currentVersionId:!1});default:return state}};return reducer}()},110:function(module,exports,__webpack_require__){module.exports={FullscreenGrid:"styles_FullscreenGrid__mRxaT",withMainSidePanelCollapsed:"styles_withMainSidePanelCollapsed__3SpKY",withAltSidePanelCollapsed:"styles_withAltSidePanelCollapsed__3i9Jr",withBothSidePanelsCollapsed:"styles_withBothSidePanelsCollapsed__2dNEn",Header:"styles_Header__140hh",topContent:"styles_topContent__2a2wa",content:"styles_content__tbCAP",mainSidePanel:"styles_mainSidePanel__17O2H",altSidePanel:"styles_altSidePanel__2e63i"}},1171:function(module,exports){},118:function(module,__webpack_exports__,__webpack_require__){"use strict";var _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(24),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(25),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(30),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(29),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(31),react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(0),react_redux__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(28),react_router_dom__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(250),_reducers_linter__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(43),LinterProviderBase=function(_React$Component){function LinterProviderBase(props){var _this;return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__.a)(this,LinterProviderBase),(_this=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__.a)(this,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__.a)(LinterProviderBase).call(this,props))).loadData=void 0,_this._loadData=function(){var _this$props=_this.props,_fetchLinterMessagesIfNeeded=_this$props._fetchLinterMessagesIfNeeded,dispatch=_this$props.dispatch,messageMap=_this$props.messageMap,validationURL=_this$props.validationURL,versionId=_this$props.versionId;void 0===messageMap&&dispatch(_fetchLinterMessagesIfNeeded({versionId:versionId,url:validationURL}))},_this.loadData=props._loadData||_this._loadData,_this}return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__.a)(LinterProviderBase,_React$Component),Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__.a)(LinterProviderBase,[{key:"componentDidMount",value:function componentDidMount(){this.loadData()}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.loadData()}},{key:"render",value:function render(){var _this$props2=this.props,messageMap=_this$props2.messageMap,messagesAreLoading=_this$props2.messagesAreLoading,selectedMessageMap=_this$props2.selectedMessageMap;return this.props.children({messageMap:messageMap,messagesAreLoading:messagesAreLoading,selectedMessageMap:selectedMessageMap})}}]),LinterProviderBase}(react__WEBPACK_IMPORTED_MODULE_5__.Component);LinterProviderBase.defaultProps={_fetchLinterMessagesIfNeeded:_reducers_linter__WEBPACK_IMPORTED_MODULE_8__.d};__webpack_exports__.a=Object(react_router_dom__WEBPACK_IMPORTED_MODULE_7__.a)(Object(react_redux__WEBPACK_IMPORTED_MODULE_6__.connect)((function mapStateToProps(state,ownProps){var selectedMessageMap,selectedPath=ownProps.selectedPath,versionId=ownProps.versionId,map=Object(_reducers_linter__WEBPACK_IMPORTED_MODULE_8__.h)(state.linter,versionId);return map&&(selectedMessageMap=map.byPath[selectedPath]?map.byPath[selectedPath]:null),{messageMap:map,messagesAreLoading:state.linter.isLoading,selectedMessageMap:selectedMessageMap}}))(LinterProviderBase))},1185:function(module,exports){},1187:function(module,exports){},1289:function(module,exports,__webpack_require__){},1290:function(module,exports,__webpack_require__){},1291:function(module,exports,__webpack_require__){var map={"./AccordionMenu.stories.tsx":1292,"./CodeLineShapes.stories.tsx":1293,"./CodeOverview.stories.tsx":1294,"./CodeView.stories.tsx":197,"./Comment.stories.tsx":1470,"./CommentList.stories.tsx":1471,"./CommentSummary.stories.tsx":332,"./CommentSummaryButton.stories.tsx":1472,"./Commentable.stories.tsx":1473,"./DiffView.stories.tsx":1474,"./ErrorBoundary.stories.tsx":1476,"./FadableContent.stories.tsx":1477,"./FileMetadata.stories.tsx":1478,"./FileTree.stories.tsx":1479,"./FileTreeNode.stories.tsx":1480,"./FullscreenGrid.stories.tsx":1481,"./LinterMessage.stories.tsx":1482,"./Loading.stories.tsx":1483,"./LoginButton.stories.tsx":1484,"./Navbar.stories.tsx":1485,"./PopoverButton.stories.tsx":1486,"./Skeleton.stories.tsx":1487,"./SlowPageAlert.stories.tsx":1488,"./ToggleButton.stories.tsx":1489,"./VersionChooser.stories.tsx":1490};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=1291},1292:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(12),_src_components_FullscreenGrid_ContentShell__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(85),_src_components_FullscreenGrid__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(83),_src_components_AccordionMenu__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(63),_utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(13),getParams=function getParams(){return Object(_utils__WEBPACK_IMPORTED_MODULE_5__.e)({fullscreen:!0})},loremIpsumWords=_utils__WEBPACK_IMPORTED_MODULE_5__.b.split(" "),makeText=function makeText(){var text=loremIpsumWords.map((function(){return loremIpsumWords[Math.floor(Math.random()*(loremIpsumWords.length-1))]}));return Object(_utils__WEBPACK_IMPORTED_MODULE_5__.a)(10,{text:text.join(" ")})},render=function render(children){return Object(_utils__WEBPACK_IMPORTED_MODULE_5__.d)(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_components_FullscreenGrid__WEBPACK_IMPORTED_MODULE_3__.b,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_components_FullscreenGrid__WEBPACK_IMPORTED_MODULE_3__.a,null),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_components_FullscreenGrid_ContentShell__WEBPACK_IMPORTED_MODULE_2__.a,{mainSidePanel:children,className:"AccordionMenuStory-ContentShell",mainSidePanelIsBorderless:!0},"This page was intentionally left blank")))};Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("AccordionMenu",module).add("long content",(function(){return render(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_components_AccordionMenu__WEBPACK_IMPORTED_MODULE_4__.b,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_components_AccordionMenu__WEBPACK_IMPORTED_MODULE_4__.a,{title:"Files"},makeText()),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_components_AccordionMenu__WEBPACK_IMPORTED_MODULE_4__.a,{title:"Information"},makeText()),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_components_AccordionMenu__WEBPACK_IMPORTED_MODULE_4__.a,{title:"Keyboard Shortcuts"},makeText()),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_components_AccordionMenu__WEBPACK_IMPORTED_MODULE_4__.a,{title:"Help"},makeText()),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_components_AccordionMenu__WEBPACK_IMPORTED_MODULE_4__.a,{title:"About"},makeText())))}),getParams()).add("short content",(function(){return render(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_components_AccordionMenu__WEBPACK_IMPORTED_MODULE_4__.b,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_components_AccordionMenu__WEBPACK_IMPORTED_MODULE_4__.a,{title:"Files"},"Example of short content"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_components_AccordionMenu__WEBPACK_IMPORTED_MODULE_4__.a,{title:"Information"},"Another example of short content"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_components_AccordionMenu__WEBPACK_IMPORTED_MODULE_4__.a,{title:"Keyboard Shortcuts"},"A different example of short content"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_components_AccordionMenu__WEBPACK_IMPORTED_MODULE_4__.a,{title:"Help"},"Yet another example of short content"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_components_AccordionMenu__WEBPACK_IMPORTED_MODULE_4__.a,{title:"About"},"Short content is short")))}),getParams()).add("expanded by default",(function(){return render(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_components_AccordionMenu__WEBPACK_IMPORTED_MODULE_4__.b,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_components_AccordionMenu__WEBPACK_IMPORTED_MODULE_4__.a,{expandedByDefault:!0,title:"Files"},makeText()),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_components_AccordionMenu__WEBPACK_IMPORTED_MODULE_4__.a,{title:"Information"},makeText()),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_components_AccordionMenu__WEBPACK_IMPORTED_MODULE_4__.a,{title:"Keyboard Shortcuts"},makeText()),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_components_AccordionMenu__WEBPACK_IMPORTED_MODULE_4__.a,{title:"Help"},makeText()),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_components_AccordionMenu__WEBPACK_IMPORTED_MODULE_4__.a,{title:"About"},makeText())))}),getParams())}.call(this,__webpack_require__(32)(module))},1293:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(12),_src_components_CodeLineShapes__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(242),_src_components_CodeLineShapes_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(193),exampleCode="browser.runtime.onMessage.addListener(\n  (message, sender, sendResponse) => {\n    console.log(\n      'Background: got message:',\n      message,\n      'from:',\n      sender,\n    );\n  }\n);\n".trim(),buildAndRender=function buildAndRender(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref$code=_ref.code,code=void 0===_ref$code?exampleCode:_ref$code,_ref$maxLineLength=_ref.maxLineLength,maxLineLength=void 0===_ref$maxLineLength?40:_ref$maxLineLength,fileLines=code.split("\n"),allLineShapes=Object(_src_components_CodeLineShapes_utils__WEBPACK_IMPORTED_MODULE_3__.b)(fileLines,{maxLineLength:maxLineLength}),codeParts=[],shapeParts=[];fileLines.forEach((function(line,lineIndex){codeParts.push(react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{key:line,className:"CodeLineShapesStory-actualCode"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("pre",null,line.replace("\n","")))),shapeParts.push(react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{key:line,className:"CodeLineShapesStory-lineShape"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src_components_CodeLineShapes__WEBPACK_IMPORTED_MODULE_2__.a,{lineShapes:allLineShapes[lineIndex]})))}));var style={width:"".concat(10*maxLineLength,"px")};return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"CodeLineShapesStory"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"CodeLineShapesStory-panel",style:style},codeParts),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"CodeLineShapesStory-panel",style:style},shapeParts))};Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("CodeLineShapes",module).addWithChapters("all variants",{chapters:[{sections:[{title:"Single line of code",sectionFn:function sectionFn(){return buildAndRender({code:'"use strict;"',maxLineLength:30})}},{title:"40 Character window",sectionFn:function sectionFn(){return buildAndRender({maxLineLength:40})}},{title:"20 Character window",sectionFn:function sectionFn(){return buildAndRender({maxLineLength:20})}}]}]})}.call(this,__webpack_require__(32)(module))},1294:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),_storybook_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(12),_src_reducers_linter__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(43),_fixtures_long_file_sample__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(450),_src_components_FullscreenGrid_ContentShell__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(85),_src_components_FullscreenGrid__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(83),_src_components_CodeOverview__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(704),_src_components_CodeView__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(194),_src_configureStore__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(26),_CodeView_stories__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(197),_src_reducers_versions__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(11),_src_test_helpers__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(4),_utils__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(13),render=function render(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref$content=_ref.content,content=void 0===_ref$content?_CodeView_stories__WEBPACK_IMPORTED_MODULE_11__.JS_SAMPLE:_ref$content,_ref$messages=_ref.messages,messages=void 0===_ref$messages?[]:_ref$messages,_ref$store=_ref.store,store=void 0===_ref$store?Object(_src_configureStore__WEBPACK_IMPORTED_MODULE_10__.a)():_ref$store,path="background.js",version=Object(_src_reducers_versions__WEBPACK_IMPORTED_MODULE_12__.f)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_13__.j,{file:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_13__.m,{entries:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},path,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_13__.l,{path:path})),selected_file:path})}));if(messages.length){var result=Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_13__.b)({messages:messages.map((function(msg){return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({uid:Object(_utils__WEBPACK_IMPORTED_MODULE_14__.c)()},msg,{file:path})}))});store.dispatch(_src_reducers_linter__WEBPACK_IMPORTED_MODULE_4__.a.loadLinterResult({versionId:version.id,result:result}))}return Object(_utils__WEBPACK_IMPORTED_MODULE_14__.d)(react__WEBPACK_IMPORTED_MODULE_2__.createElement(_src_components_FullscreenGrid__WEBPACK_IMPORTED_MODULE_7__.b,null,react__WEBPACK_IMPORTED_MODULE_2__.createElement(_src_components_FullscreenGrid__WEBPACK_IMPORTED_MODULE_7__.a,null),react__WEBPACK_IMPORTED_MODULE_2__.createElement(_src_components_FullscreenGrid_ContentShell__WEBPACK_IMPORTED_MODULE_6__.a,{altSidePanel:react__WEBPACK_IMPORTED_MODULE_2__.createElement(_src_components_CodeOverview__WEBPACK_IMPORTED_MODULE_8__.a,{content:content,version:version})},react__WEBPACK_IMPORTED_MODULE_2__.createElement(_src_components_CodeView__WEBPACK_IMPORTED_MODULE_9__.a,{content:content,mimeType:"application/javascript",version:version}))),{store:store})},getParams=function getParams(){return Object(_utils__WEBPACK_IMPORTED_MODULE_14__.e)({fullscreen:!0})};Object(_storybook_react__WEBPACK_IMPORTED_MODULE_3__.storiesOf)("CodeOverview",module).add("short file",(function(){return render({content:_CodeView_stories__WEBPACK_IMPORTED_MODULE_11__.JS_SAMPLE})}),getParams()).add("long file",(function(){return render({content:_fixtures_long_file_sample__WEBPACK_IMPORTED_MODULE_5__.a})}),getParams()).add("long file with messages",(function(){return render({content:_fixtures_long_file_sample__WEBPACK_IMPORTED_MODULE_5__.a,messages:[{line:27,type:"warning",message:"Use of console.log() detected",description:["This call to console.log() is pretty much Okay."]},{line:66,type:"notice",message:"Bizarre use of undefined",description:["...but I guess it's fine"]},{line:151,type:"error",message:"Use of queryTabs() is not permitted",description:["Calls to queryTabs() will not work in a future version"]}]})}),getParams())}.call(this,__webpack_require__(32)(module))},13:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"d",(function(){return renderWithStoreAndRouter})),__webpack_require__.d(__webpack_exports__,"c",(function(){return newLinterMessageUID})),__webpack_require__.d(__webpack_exports__,"e",(function(){return rootAttributeParams})),__webpack_require__.d(__webpack_exports__,"b",(function(){return loremIpsum})),__webpack_require__.d(__webpack_exports__,"a",(function(){return generateParagraphs}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react_redux__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(28),react_router_dom__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1497),_src_configureStore__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(26),_src_test_helpers__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4),renderWithStoreAndRouter=function renderWithStoreAndRouter(element){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_redux__WEBPACK_IMPORTED_MODULE_1__.Provider,{store:options.store?options.store:Object(_src_configureStore__WEBPACK_IMPORTED_MODULE_3__.a)()},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__.a,{initialEntries:options.location?[options.location]:void 0},element))},newLinterMessageUID=function newLinterMessageUID(){return"msg-".concat(Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_4__.o)())},rootAttributeParams=function rootAttributeParams(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref$fullscreen=_ref.fullscreen,fullscreen=void 0!==_ref$fullscreen&&_ref$fullscreen,defaultState={name:"Body is not set to fullscreen",value:null};return fullscreen&&(defaultState={name:"Body is set to fullscreen",value:"fullscreen"}),{rootAttribute:{root:"body",attribute:"class",defaultState:defaultState,states:[]}}},loremIpsum="\nLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod\ntempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,\nquis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo\nconsequat. Duis aute irure dolor in reprehenderit in voluptate velit esse\ncillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat\nnon proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\n",generateParagraphs=function generateParagraphs(count){var _ref2=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_ref2$text=_ref2.text,text=void 0===_ref2$text?loremIpsum:_ref2$text;return new Array(count).fill(text).map((function(p,i){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",{key:i},p)}))}},133:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return actions})),__webpack_require__.d(__webpack_exports__,"d",(function(){return requestLogOut})),__webpack_require__.d(__webpack_exports__,"e",(function(){return selectCurrentUser})),__webpack_require__.d(__webpack_exports__,"b",(function(){return currentUserIsLoading}));var _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(17),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__),typesafe_actions__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(10),_api__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(40),createAction=(__webpack_require__(82),typesafe_actions__WEBPACK_IMPORTED_MODULE_2__.deprecated.createAction),actions={abortFetchCurrentUser:createAction("ABORT_FETCH_CURRENT_USER"),beginFetchCurrentUser:createAction("BEGIN_FETCH_CURRENT_USER"),loadCurrentUser:createAction("LOAD_CURRENT_USER",(function(resolve){return function(payload){return resolve(payload)}})),logOut:createAction("LOG_OUT")},requestLogOut=function requestLogOut(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref$_logOutFromServe=_ref._logOutFromServer,_logOutFromServer=void 0===_ref$_logOutFromServe?_api__WEBPACK_IMPORTED_MODULE_3__.i:_ref$_logOutFromServe;return function _callee(dispatch,getState){return _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.async((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.awrap(_logOutFromServer(getState().api));case 2:dispatch(actions.logOut());case 3:case"end":return _context.stop()}}))}},initialState={currentUser:null},createInternalUser=function createInternalUser(user){return{email:user.email,id:user.id,name:user.name,permissions:user.permissions}},selectCurrentUser=function selectCurrentUser(users){return users.currentUser||null},currentUserIsLoading=function currentUserIsLoading(users){return void 0===users.currentUser};__webpack_exports__.c=function reducer(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:initialState,action=arguments.length>1?arguments[1]:void 0;switch(action.type){case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_2__.getType)(actions.beginFetchCurrentUser):return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},state,{currentUser:void 0});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_2__.getType)(actions.abortFetchCurrentUser):return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},state,{currentUser:initialState.currentUser});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_2__.getType)(actions.loadCurrentUser):return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},state,{currentUser:createInternalUser(action.payload.user)});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_2__.getType)(actions.logOut):return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},state,{currentUser:null});default:return state}}},145:function(module,__webpack_exports__,__webpack_require__){"use strict";var _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(24),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(25),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(30),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(29),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(31),react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(0),react_redux__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(28),_reducers_comments__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(18),_Comment__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(240),_styles_module_scss__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(699),_styles_module_scss__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(_styles_module_scss__WEBPACK_IMPORTED_MODULE_9__),CommentListBase=function(_React$Component){function CommentListBase(){return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__.a)(this,CommentListBase),Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__.a)(this,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__.a)(CommentListBase).apply(this,arguments))}return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__.a)(CommentListBase,_React$Component),Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__.a)(CommentListBase,[{key:"componentDidMount",value:function componentDidMount(){this.loadData()}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.loadData()}},{key:"loadData",value:function loadData(){var _this$props=this.props,_fetchAndLoadComments=_this$props._fetchAndLoadComments,addonId=_this$props.addonId,dispatch=_this$props.dispatch,versionHasComments=_this$props.versionHasComments,versionId=_this$props.versionId;void 0===versionHasComments&&dispatch(_fetchAndLoadComments({addonId:addonId,versionId:versionId}))}},{key:"render",value:function render(){var _this$props2=this.props,addonId=_this$props2.addonId,children=_this$props2.children,className=_this$props2.className,commentInfo=_this$props2.commentInfo,fileName=_this$props2.fileName,line=_this$props2.line,versionId=_this$props2.versionId,comments=[];if(commentInfo){var base={addonId:addonId,className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_9___default.a.comment,fileName:fileName,line:line,versionId:versionId};commentInfo.beginNewComment&&comments.push(react__WEBPACK_IMPORTED_MODULE_5__.createElement(_Comment__WEBPACK_IMPORTED_MODULE_8__.a,Object.assign({},base,{commentId:null,key:"comment-entry-form"})));var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=commentInfo.commentIds[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var id=_step.value;comments.push(react__WEBPACK_IMPORTED_MODULE_5__.createElement(_Comment__WEBPACK_IMPORTED_MODULE_8__.a,Object.assign({},base,{commentId:id,key:id})))}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}}return 0===comments.length?null:children(react__WEBPACK_IMPORTED_MODULE_5__.createElement("div",{className:className},comments))}}]),CommentListBase}(react__WEBPACK_IMPORTED_MODULE_5__.Component);CommentListBase.defaultProps={_fetchAndLoadComments:_reducers_comments__WEBPACK_IMPORTED_MODULE_7__.f};__webpack_exports__.a=Object(react_redux__WEBPACK_IMPORTED_MODULE_6__.connect)((function mapStateToProps(state,_ref){var versionId=_ref.versionId,fileName=_ref.fileName,line=_ref.line;return{commentInfo:Object(_reducers_comments__WEBPACK_IMPORTED_MODULE_7__.i)({comments:state.comments,versionId:versionId,commentId:void 0,fileName:fileName,line:line}),versionHasComments:Object(_reducers_comments__WEBPACK_IMPORTED_MODULE_7__.l)({comments:state.comments,versionId:versionId})}}))(CommentListBase)},146:function(module,__webpack_exports__,__webpack_require__){"use strict";var _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(24),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(25),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(30),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(29),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(31),classnames__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(5),classnames__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_5__),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(0),react_bootstrap__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(1499),react_bootstrap__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(460),react_bootstrap__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(87),react_redux__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(28),_reducers_popover__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(70),_styles_module_scss__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(700),_styles_module_scss__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(_styles_module_scss__WEBPACK_IMPORTED_MODULE_12__),PopoverButtonBase=function(_React$Component){function PopoverButtonBase(props){var _this;return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__.a)(this,PopoverButtonBase),(_this=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__.a)(this,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__.a)(PopoverButtonBase).call(this,props))).buttonRef=_this.props.createRef(),_this.state={canAccessRefs:!1},_this}return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__.a)(PopoverButtonBase,_React$Component),Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__.a)(PopoverButtonBase,[{key:"componentDidMount",value:function componentDidMount(){this.setState({canAccessRefs:!0})}},{key:"renderOverlay",value:function renderOverlay(){var _this$props=this.props,content=_this$props.content,dispatch=_this$props.dispatch,id=_this$props.id,popoverClassName=_this$props.popoverClassName,show=_this$props.show;if(!this.state.canAccessRefs)return null;if(!this.buttonRef.current)throw new Error("buttonRef.current was unexpectedly empty");return react__WEBPACK_IMPORTED_MODULE_6__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_7__.a,{onHide:function onHide(){dispatch(_reducers_popover__WEBPACK_IMPORTED_MODULE_11__.a.hide(id))},placement:"bottom",rootClose:!0,show:show,target:this.buttonRef.current},(function(_ref){var arrowProps=_ref.arrowProps,placement=_ref.placement,ref=_ref.ref,style=_ref.style;return react__WEBPACK_IMPORTED_MODULE_6__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_8__.a,{arrowProps:arrowProps,className:classnames__WEBPACK_IMPORTED_MODULE_5___default()(_styles_module_scss__WEBPACK_IMPORTED_MODULE_12___default.a.popover,popoverClassName),id:"".concat(id,"-popover"),placement:placement,ref:ref,style:style},content)}))}},{key:"render",value:function render(){var _this$props2=this.props,dispatch=_this$props2.dispatch,id=_this$props2.id,prompt=_this$props2.prompt;return react__WEBPACK_IMPORTED_MODULE_6__.createElement(react__WEBPACK_IMPORTED_MODULE_6__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_6__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_9__.a,{onClick:function onClick(){dispatch(_reducers_popover__WEBPACK_IMPORTED_MODULE_11__.a.show(id))},ref:this.buttonRef,size:"sm",variant:"primary"},prompt),this.renderOverlay())}}]),PopoverButtonBase}(react__WEBPACK_IMPORTED_MODULE_6__.Component);PopoverButtonBase.defaultProps={createRef:function createRef(){return react__WEBPACK_IMPORTED_MODULE_6__.createRef()}};__webpack_exports__.a=Object(react_redux__WEBPACK_IMPORTED_MODULE_10__.connect)((function mapStateToProps(state,ownProps){return{show:Object(_reducers_popover__WEBPACK_IMPORTED_MODULE_11__.c)({id:ownProps.id,popover:state.popover})}}))(PopoverButtonBase)},1468:function(module,exports,__webpack_require__){},1469:function(module,exports,__webpack_require__){},147:function(module,__webpack_exports__,__webpack_require__){"use strict";var react=__webpack_require__(0),classnames=__webpack_require__(5),classnames_default=__webpack_require__.n(classnames),es=__webpack_require__(28),Button=__webpack_require__(192),comments=__webpack_require__(18),utils=__webpack_require__(6),styles_module=__webpack_require__(323),styles_module_default=__webpack_require__.n(styles_module),AddComment=Object(es.connect)()((function AddCommentBase(_ref){var className=_ref.className,dispatch=_ref.dispatch,fileName=_ref.fileName,line=_ref.line,versionId=_ref.versionId;return react.createElement(Button.a,{onClick:function onClick(){dispatch(comments.a.beginComment({versionId:versionId,commentId:void 0,fileName:fileName,line:line}))},className:classnames_default()(styles_module_default.a.button,className),title:Object(utils.k)("Add a comment")})}));__webpack_exports__.a=function CommentableBase(_ref){var addCommentClassName=_ref.addCommentClassName,AsComponent=_ref.as,children=_ref.children,className=_ref.className,fileName=_ref.fileName,id=_ref.id,line=_ref.line,shellRef=_ref.shellRef,versionId=_ref.versionId;return react.createElement(AsComponent,{className:classnames_default()(styles_module_default.a.commentable,className),id:id,ref:shellRef},children(react.createElement(AddComment,{className:addCommentClassName,versionId:versionId,fileName:fileName,line:line})))}},1470:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(27),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),_storybook_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(12),_src_configureStore__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(26),_src_components_Comment__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(240),_src_reducers_comments__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(18),_src_test_helpers__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(4),_utils__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(13),fakeComment=Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_7__.a)({comment:["The use of `eval()` is dangerous. ","It looks like you don't even need it here.","\n","Maybe you could remove it?"].join("")}),render=function render(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref$considerDelete=_ref.considerDelete,considerDelete=void 0!==_ref$considerDelete&&_ref$considerDelete,_ref$deleting=_ref.deleting,deleting=void 0!==_ref$deleting&&_ref$deleting,_ref$fileName=_ref.fileName,fileName=void 0===_ref$fileName?null:_ref$fileName,initialComment=_ref.initialComment,_ref$line=_ref.line,line=void 0===_ref$line?null:_ref$line,_ref$beginComment=_ref.beginComment,beginComment=void 0!==_ref$beginComment&&_ref$beginComment,_ref$store=_ref.store,store=void 0===_ref$store?Object(_src_configureStore__WEBPACK_IMPORTED_MODULE_4__.a)():_ref$store,_ref$versionId=_ref.versionId,versionId=void 0===_ref$versionId?2:_ref$versionId,moreProps=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__.a)(_ref,["considerDelete","deleting","fileName","initialComment","line","beginComment","store","versionId"]),key={fileName:fileName,line:line,versionId:versionId},commentId=null;initialComment&&(store.dispatch(_src_reducers_comments__WEBPACK_IMPORTED_MODULE_6__.a.setComments(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},key,{comments:[initialComment]}))),commentId=initialComment.id,considerDelete&&store.dispatch(_src_reducers_comments__WEBPACK_IMPORTED_MODULE_6__.a.considerDeleteComment({commentId:commentId})),deleting&&store.dispatch(_src_reducers_comments__WEBPACK_IMPORTED_MODULE_6__.a.beginDeleteComment({commentId:commentId}))),beginComment&&store.dispatch(_src_reducers_comments__WEBPACK_IMPORTED_MODULE_6__.a.beginComment({commentId:commentId||void 0,fileName:fileName,line:line,versionId:versionId}));var props=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({addonId:1,commentId:commentId},key,{},moreProps);return Object(_utils__WEBPACK_IMPORTED_MODULE_8__.d)(react__WEBPACK_IMPORTED_MODULE_2__.createElement(_src_components_Comment__WEBPACK_IMPORTED_MODULE_5__.a,props),{store:store})};Object(_storybook_react__WEBPACK_IMPORTED_MODULE_3__.storiesOf)("Comment",module).addWithChapters("form variants",{chapters:[{sections:[{title:"adding a new comment",sectionFn:function sectionFn(){return render({beginComment:!0})}},{title:"editing a comment",sectionFn:function sectionFn(){return render({initialComment:fakeComment,beginComment:!0})}},{title:"saving a comment",sectionFn:function sectionFn(){var keyParams={commentId:void 0,fileName:null,line:null,versionId:1},store=Object(_src_configureStore__WEBPACK_IMPORTED_MODULE_4__.a)();return store.dispatch(_src_reducers_comments__WEBPACK_IMPORTED_MODULE_6__.a.beginComment(keyParams)),store.dispatch(_src_reducers_comments__WEBPACK_IMPORTED_MODULE_6__.a.beginSaveComment(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},keyParams,{pendingCommentText:"This call to browser.getFuzzTabs() has been deprecated."}))),render(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},keyParams,{store:store}))}},{title:"consider discarding a comment",sectionFn:function sectionFn(){var keyParams={commentId:void 0,fileName:null,line:null,versionId:1},store=Object(_src_configureStore__WEBPACK_IMPORTED_MODULE_4__.a)();return store.dispatch(_src_reducers_comments__WEBPACK_IMPORTED_MODULE_6__.a.beginComment(keyParams)),store.dispatch(_src_reducers_comments__WEBPACK_IMPORTED_MODULE_6__.a.considerDiscardComment(keyParams)),render(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},keyParams,{initialComment:fakeComment,store:store}))}}]}]}).addWithChapters("read-only variants",{chapters:[{sections:[{title:"viewing an existing comment",sectionFn:function sectionFn(){return render({initialComment:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},fakeComment,{comment:"This is not allowed."})})}},{title:"viewing a multi-line comment",sectionFn:function sectionFn(){return render({initialComment:fakeComment})}},{title:"viewing a very long comment",sectionFn:function sectionFn(){return render({initialComment:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},fakeComment,{comment:_utils__WEBPACK_IMPORTED_MODULE_8__.b.replace(/[\n\s]+/g,"")})})}},{title:"consider deleting a comment",sectionFn:function sectionFn(){return render({considerDelete:!0,initialComment:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},fakeComment,{id:321,comment:"This function call is dangerous."})})}},{title:"deleting a comment",sectionFn:function sectionFn(){return render({deleting:!0,initialComment:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},fakeComment,{id:321,comment:"This function call is dangerous."})})}}]}]})}.call(this,__webpack_require__(32)(module))},1471:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(27),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),_storybook_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(12),_src_configureStore__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(26),_src_components_CommentList__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(145),_src_reducers_comments__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(18),_src_test_helpers__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(4),_utils__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(13),render=function render(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref$addonId=_ref.addonId,addonId=void 0===_ref$addonId?1:_ref$addonId,_ref$beginComment=_ref.beginComment,beginComment=void 0!==_ref$beginComment&&_ref$beginComment,_ref$comments=_ref.comments,comments=void 0===_ref$comments?[]:_ref$comments,_ref$fileName=_ref.fileName,fileName=void 0===_ref$fileName?null:_ref$fileName,_ref$line=_ref.line,line=void 0===_ref$line?null:_ref$line,_ref$store=_ref.store,store=void 0===_ref$store?Object(_src_configureStore__WEBPACK_IMPORTED_MODULE_4__.a)():_ref$store,_ref$versionId=_ref.versionId,versionId=void 0===_ref$versionId?2:_ref$versionId,moreProps=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__.a)(_ref,["addonId","beginComment","comments","fileName","line","store","versionId"]);beginComment&&store.dispatch(_src_reducers_comments__WEBPACK_IMPORTED_MODULE_6__.a.beginComment({commentId:void 0,fileName:fileName,line:line,versionId:versionId}));var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=comments[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var comment=_step.value;store.dispatch(_src_reducers_comments__WEBPACK_IMPORTED_MODULE_6__.a.setComments({versionId:versionId,comments:[comment]}))}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}var indent=react__WEBPACK_IMPORTED_MODULE_2__.createElement(react__WEBPACK_IMPORTED_MODULE_2__.Fragment,null,""),codeLine=function codeLine(){for(var _len=arguments.length,content=new Array(_len),_key=0;_key<_len;_key++)content[_key]=arguments[_key];return react__WEBPACK_IMPORTED_MODULE_2__.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_2__.createElement("code",null,content))},props=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({addonId:addonId,fileName:fileName,line:line,versionId:versionId},moreProps);return Object(_utils__WEBPACK_IMPORTED_MODULE_8__.d)(react__WEBPACK_IMPORTED_MODULE_2__.createElement("div",{className:"CommentListStory"},codeLine("body {"),codeLine(indent,"margin: 0;"),codeLine(indent,"padding: 0;"),react__WEBPACK_IMPORTED_MODULE_2__.createElement(_src_components_CommentList__WEBPACK_IMPORTED_MODULE_5__.a,props,(function(content){return content})),codeLine(indent,'background-color: "fuschia";'),codeLine(indent,"box-sizing: border-box;"),codeLine("}"),codeLine(indent),codeLine("button {"),codeLine(indent,'color: "blue";'),codeLine("}")),{store:store})};Object(_storybook_react__WEBPACK_IMPORTED_MODULE_3__.storiesOf)("CommentList",module).add("One comment",(function(){return render({comments:[Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_7__.a)({id:1,comment:"This is unnecessary due to the reset library up above"})]})})).add("Multiple comments",(function(){return render({comments:[Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_7__.a)({id:1,comment:"This is unnecessary due to the reset library up above"}),Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_7__.a)({id:2,comment:"Thanks for promptly addressing our other change requests"})]})})).add("Comment entry form",(function(){return render({beginComment:!0})})).add("Comment entry form with saved comments",(function(){return render({beginComment:!0,comments:[Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_7__.a)({id:1,comment:"This is unnecessary due to the reset library up above"}),Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_7__.a)({id:2,comment:"Thanks for promptly addressing our other change requests"})]})}))}.call(this,__webpack_require__(32)(module))},1472:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(12),_src_reducers_popover__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(70),_src_components_CommentSummaryButton__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(334),_src_test_helpers__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4),_utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(13),_CommentSummary_stories__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(332),setUpStore=function setUpStore(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref$comments=_ref.comments,comments=void 0===_ref$comments?[Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_4__.a)()]:_ref$comments,store=Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_4__.e)({comments:comments});return store.dispatch(_src_reducers_popover__WEBPACK_IMPORTED_MODULE_2__.a.show("COMMENTS_SUMMARY")),store},render=function render(){var _ref2=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref2$store=_ref2.store,store=void 0===_ref2$store?setUpStore():_ref2$store;return Object(_utils__WEBPACK_IMPORTED_MODULE_5__.d)(react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src_components_CommentSummaryButton__WEBPACK_IMPORTED_MODULE_3__.a,null)),{store:store})};Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("CommentSummaryButton",module).add("one line comment",(function(){return render({store:setUpStore({comments:Object(_CommentSummary_stories__WEBPACK_IMPORTED_MODULE_6__.createOneLineComment)()})})})).add("very long comments",(function(){return render({store:setUpStore({comments:Object(_CommentSummary_stories__WEBPACK_IMPORTED_MODULE_6__.createVeryLongComments)()})})}))}.call(this,__webpack_require__(32)(module))},1473:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(12),_src_components_Commentable__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(147),_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(13),renderRow=function renderRow(_ref){var content=_ref.content,line=_ref.line;return Object(_utils__WEBPACK_IMPORTED_MODULE_3__.d)(react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src_components_Commentable__WEBPACK_IMPORTED_MODULE_2__.a,{addCommentClassName:"CommentableStory-addComment",as:"div",className:"CommentableStory-row",fileName:"manifest.json",line:line,versionId:1},(function(addCommentButton){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,addCommentButton,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"CommentableStory-content"},content))})))};Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("Commentable",module).add("default",(function(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,renderRow({line:1,content:"This is line 1"}),renderRow({line:2,content:"This is line 2"}),renderRow({line:3,content:"This is line 3"}))}))}.call(this,__webpack_require__(32)(module))},1474:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(27),query_string__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(71),query_string__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(query_string__WEBPACK_IMPORTED_MODULE_3__),react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__),_storybook_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(12),react_diff_view__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(59),_src_configureStore__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(26),_src_components_FullscreenGrid__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(83),_src_components_FullscreenGrid_ContentShell__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(85),_src_components_DiffView__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(707),_src_components_DiffView_fixtures_basicDiff__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(454),_src_components_DiffView_fixtures_minifiedDiff__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(455),_src_components_DiffView_fixtures_diffWithDeletions__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(456),_src_components_DiffView_fixtures_largeDiff__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(457),_src_reducers_linter__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(43),_src_reducers_versions__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(11),_src_test_helpers__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(4),_src_utils__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(6),_fixtures_long_unbroken_minified_diff__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(331),_utils__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(13),getParams=function getParams(){return Object(_utils__WEBPACK_IMPORTED_MODULE_20__.e)({fullscreen:!0})},render=function render(){var moreProps=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},store=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(_src_configureStore__WEBPACK_IMPORTED_MODULE_7__.a)(),location=moreProps.location,remainingProps=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__.a)(moreProps,["location"]),props=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({diff:Object(react_diff_view__WEBPACK_IMPORTED_MODULE_6__.e)(_src_components_DiffView_fixtures_basicDiff__WEBPACK_IMPORTED_MODULE_11__.a)[0],mimeType:"application/javascript",version:Object(_src_reducers_versions__WEBPACK_IMPORTED_MODULE_16__.f)(_src_test_helpers__WEBPACK_IMPORTED_MODULE_17__.j)},remainingProps);return Object(_utils__WEBPACK_IMPORTED_MODULE_20__.d)(react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_src_components_FullscreenGrid__WEBPACK_IMPORTED_MODULE_8__.b,null,react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_src_components_FullscreenGrid__WEBPACK_IMPORTED_MODULE_8__.a,null),react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_src_components_FullscreenGrid_ContentShell__WEBPACK_IMPORTED_MODULE_9__.a,null,react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_src_components_DiffView__WEBPACK_IMPORTED_MODULE_10__.a,props))),{store:store,location:location})},renderWithMessages=function renderWithMessages(messages){var _ref=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_ref$diff=_ref.diff,diff=void 0===_ref$diff?Object(react_diff_view__WEBPACK_IMPORTED_MODULE_6__.e)(_src_components_DiffView_fixtures_basicDiff__WEBPACK_IMPORTED_MODULE_11__.a)[0]:_ref$diff,moreProps=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__.a)(_ref,["diff"]),path="lib/some-file.js",result=Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_17__.b)({messages:messages.map((function(msg){return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({uid:Object(_utils__WEBPACK_IMPORTED_MODULE_20__.c)()},msg,{file:path})}))}),store=Object(_src_configureStore__WEBPACK_IMPORTED_MODULE_7__.a)(),version=Object(_src_reducers_versions__WEBPACK_IMPORTED_MODULE_16__.f)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_17__.j,{file:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_17__.m,{entries:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},path,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_17__.l,{path:path})),selected_file:path})}));store.dispatch(_src_reducers_linter__WEBPACK_IMPORTED_MODULE_15__.a.loadLinterResult({versionId:version.id,result:result}));var props=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({diff:diff,mimeType:"application/javascript",version:version},moreProps);return render(props,store)};Object(_storybook_react__WEBPACK_IMPORTED_MODULE_5__.storiesOf)("DiffView",module).add("diff with additions and deletions",(function(){return render({diff:Object(react_diff_view__WEBPACK_IMPORTED_MODULE_6__.e)(_src_components_DiffView_fixtures_diffWithDeletions__WEBPACK_IMPORTED_MODULE_13__.a)[0]})}),getParams()).add("no differences",(function(){return render({diff:null})}),getParams()).add("one global linter message",(function(){return renderWithMessages([{line:null,message:"The &#34;update_url&#34; property is not used by Firefox.",description:["The &#34;update_url&#34; is not used by Firefox in the root of a manifest; your add-on will be updated via the Add-ons site and not your &#34;update_url&#34;."],type:"warning"}])}),getParams()).add("multiple global linter messages",(function(){return renderWithMessages([{line:null,message:"The &#34;update_url&#34; property is not used by Firefox.",description:["The &#34;update_url&#34; is not used by Firefox in the root of a manifest; your add-on will be updated via the Add-ons site and not your &#34;update_url&#34;."],type:"warning"},{line:null,message:"/permissions: Unknown permissions &#34;unlimitedStorage&#34; at 8.",description:["See ... for more information."],type:"notice"}])}),getParams()).add("one linter message on one line",(function(){return renderWithMessages([{line:39,message:"expect().toHaveProp() detected",description:["Calls to expect().toHaveProp() might lead to your add-on getting approved."],type:"warning"}])}),getParams()).add("multiple linter messages on one line",(function(){return renderWithMessages([{line:39,message:"expect().toHaveProp() detected",description:["Calls to expect().toHaveProp() might lead to your add-on getting approved."],type:"warning"},{line:39,message:"Unsafe call to expect()",description:["Calling expect() like this is unsafe but not really."],type:"error"}])}),getParams()).add("multiple linter messages on multiple lines",(function(){return renderWithMessages([{line:9,message:"Third party library detected",description:["This add-on may require additional review."],type:"warning"},{line:24,message:"Unsafe call to console.log()",description:["Calling console.log() like this is unsafe but not really."],type:"error"}],{diff:Object(react_diff_view__WEBPACK_IMPORTED_MODULE_6__.e)(_src_components_DiffView_fixtures_diffWithDeletions__WEBPACK_IMPORTED_MODULE_13__.a)[0]})}),getParams()).add("slow syntax highlighting warning",(function(){return render({diff:Object(react_diff_view__WEBPACK_IMPORTED_MODULE_6__.e)(_src_components_DiffView_fixtures_minifiedDiff__WEBPACK_IMPORTED_MODULE_12__.a)[0]})}),getParams()).add("slow syntax highlighting warning w/ linter message",(function(){return renderWithMessages([{line:null,message:"There is a problem with this file.",description:["This file has a problem"],type:"warning"}],{diff:Object(react_diff_view__WEBPACK_IMPORTED_MODULE_6__.e)(_src_components_DiffView_fixtures_minifiedDiff__WEBPACK_IMPORTED_MODULE_12__.a)[0]})}),getParams()).add("slow diff warning",(function(){return render({diff:Object(react_diff_view__WEBPACK_IMPORTED_MODULE_6__.e)(_src_components_DiffView_fixtures_largeDiff__WEBPACK_IMPORTED_MODULE_14__.a)[0],location:Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_17__.c)({search:query_string__WEBPACK_IMPORTED_MODULE_3___default.a.stringify(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_src_utils__WEBPACK_IMPORTED_MODULE_18__.c,!1))})})}),getParams()).add("slow diff warning (overridden)",(function(){return render({diff:Object(react_diff_view__WEBPACK_IMPORTED_MODULE_6__.e)(_src_components_DiffView_fixtures_largeDiff__WEBPACK_IMPORTED_MODULE_14__.a)[0],location:Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_17__.c)({search:query_string__WEBPACK_IMPORTED_MODULE_3___default.a.stringify(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_src_utils__WEBPACK_IMPORTED_MODULE_18__.c,!0))})})}),getParams()).add("long unbroken minified diff",(function(){return renderWithMessages([{line:1,message:"Minified diff detected",description:["You do not need to minify add-on code."],type:"warning"}],{diff:Object(react_diff_view__WEBPACK_IMPORTED_MODULE_6__.e)("diff --git a/src/components/DiffView.test.tsx b/src/components/DiffView.test.tsx\nindex 5ca1a30..4e2c90f 100644\n--- a/src/components/DiffView.test.tsx\n+++ b/src/components/DiffView.test.tsx\n@@ -1,1 +1,1 @@\n-\n+".concat(_fixtures_long_unbroken_minified_diff__WEBPACK_IMPORTED_MODULE_19__.a))[0]})}),getParams())}.call(this,__webpack_require__(32)(module))},1476:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(12),_src_components_ErrorBoundary__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(708),render=function render(children){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_components_ErrorBoundary__WEBPACK_IMPORTED_MODULE_2__.a,null,children)};Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("ErrorBoundary",module).add("with error",(function(){return render(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,new Error("Test Error")))})).add("without error",(function(){return render(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,"This is error-less content"))}))}.call(this,__webpack_require__(32)(module))},1477:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(12),_src_configureStore__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(26),_src_components_CodeView__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(194),_src_components_FadableContent__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(195),_src_reducers_versions__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(11),_src_test_helpers__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(4),_CodeView_stories__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(197),_utils__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(13),renderWithContent=function renderWithContent(content){return Object(_utils__WEBPACK_IMPORTED_MODULE_8__.d)(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"FadableContent-shell"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_components_FadableContent__WEBPACK_IMPORTED_MODULE_4__.a,{fade:!0},content)),{store:Object(_src_configureStore__WEBPACK_IMPORTED_MODULE_2__.a)()})};Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("FadableContent",module).add("fading out code",(function(){return renderWithContent(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_components_CodeView__WEBPACK_IMPORTED_MODULE_3__.a,{content:_CodeView_stories__WEBPACK_IMPORTED_MODULE_7__.JS_SAMPLE,mimeType:"application/javascript",version:Object(_src_reducers_versions__WEBPACK_IMPORTED_MODULE_5__.f)(_src_test_helpers__WEBPACK_IMPORTED_MODULE_6__.j)}))})).add("fading out text",(function(){return renderWithContent(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment,null,Object(_utils__WEBPACK_IMPORTED_MODULE_8__.a)(6)))}))}.call(this,__webpack_require__(32)(module))},1478:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__),_storybook_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(12),_src_components_FileMetadata__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(458),_src_reducers_versions__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(11),_src_test_helpers__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(4),loadVersionFile=function loadVersionFile(){var version=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_src_test_helpers__WEBPACK_IMPORTED_MODULE_6__.j,store=Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_6__.d)({version:version});store.dispatch(_src_reducers_versions__WEBPACK_IMPORTED_MODULE_5__.b.loadVersionFile({path:version.file.selected_file,version:version}));var versionFile=Object(_src_reducers_versions__WEBPACK_IMPORTED_MODULE_5__.o)(store.getState().versions,version.id,version.file.selected_file);return versionFile};Object(_storybook_react__WEBPACK_IMPORTED_MODULE_3__.storiesOf)("FileMetadata",module).addWithChapters("all variants",{chapters:[{sections:[{title:"with lists of versions loaded",sectionFn:function sectionFn(){var versionFile=loadVersionFile();return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_src_components_FileMetadata__WEBPACK_IMPORTED_MODULE_4__.a,{file:versionFile})}},{title:"with a constrained width",sectionFn:function sectionFn(){var path="very-long-file-name.json",version=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_6__.j,{file:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_6__.j.file,{entries:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},path,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_6__.l,{filename:path,path:path,sha256:"521fce5b388cd8f06d7fbf35bf4988b16a3a465fd3f1af92727eeaf5b6ab8ca6"})),selected_file:path})}),versionFile=loadVersionFile(version);return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{style:{width:"200px"}},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_src_components_FileMetadata__WEBPACK_IMPORTED_MODULE_4__.a,{file:versionFile}))}}]}]})}.call(this,__webpack_require__(32)(module))},1479:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(27),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__),_storybook_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(12),_src_components_FileTree__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(709),_src_reducers_versions__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(11),_src_reducers_linter__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(43),_src_test_helpers__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(4),_utils__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(13),fakeDirectoryEntry=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_7__.l,{mime_category:"directory"}),defaultVersion=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_7__.j,{id:456,file:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_7__.j.file,{entries:{"manifest.json":Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_7__.l,{filename:"manifest.json",path:"manifest.json"}),"background-scripts":Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},fakeDirectoryEntry,{filename:"background-scripts",path:"background-scripts"}),"background-scripts/index.js":Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_7__.l,{depth:1,filename:"index.js",path:"background-scripts/index.js"}),"background-scripts/libs":Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},fakeDirectoryEntry,{depth:1,filename:"libs",path:"background-scripts/libs"}),"background-scripts/libs/jquery.min.js":Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_7__.l,{depth:2,filename:"jquery.min.js",path:"background-scripts/libs/jquery.min.js"}),"background-scripts/extra":Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},fakeDirectoryEntry,{depth:1,filename:"extra",path:"background-scripts/extra"}),"styles.css":Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_7__.l,{filename:"styles.css",path:"styles.css"}),"jquery-ui":Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},fakeDirectoryEntry,{depth:0,filename:"jquery-ui",path:"jquery-ui"}),"jquery-ui/css":Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},fakeDirectoryEntry,{depth:1,filename:"css",path:"jquery-ui/css"}),"jquery-ui/js":Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},fakeDirectoryEntry,{depth:1,filename:"js",path:"jquery-ui/js"}),"jquery-ui/js/jquery-1.7.1.min.js":Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_7__.l,{depth:2,filename:"jquery-1.7.1.min.js",path:"jquery-ui/js/jquery-1.7.1.min.js"}),"jquery-ui/js/jquery-ui-1.8.16.custom.min.js":Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_7__.l,{depth:2,filename:"jquery-ui-1.8.16.custom.min.js",path:"jquery-ui/js/jquery-ui-1.8.16.custom.min.js"}),lib:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},fakeDirectoryEntry,{depth:0,filename:"lib",path:"lib"}),"lib/adblockplus.js":Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_7__.l,{depth:1,filename:"adblockplus.js",path:"lib/adblockplus.js"}),"lib/compat.js":Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_7__.l,{depth:1,filename:"compat.js",path:"lib/compat.js"}),"lib/info.js":Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_7__.l,{depth:1,filename:"info.js",path:"lib/info.js"}),"lib/publicSuffixList.js":Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_7__.l,{depth:1,filename:"publicSuffixList.js",path:"lib/publicSuffixList.js"})}})}),messages=[Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_7__.h,{type:"error",file:"jquery-ui/js/jquery-1.7.1.min.js"}),Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_7__.h,{type:"warning",file:"lib/compat.js"}),Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_7__.h,{type:"notice",file:"lib/info.js"})],onSelectFile=function onSelectFile(path){alert("Selected file: ".concat(path))},render=function render(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref$version=_ref.version,version=void 0===_ref$version?defaultVersion:_ref$version,_ref$store=_ref.store,store=void 0===_ref$store?Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_7__.d)({version:version}):_ref$store,moreProps=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__.a)(_ref,["version","store"]);store.dispatch(_src_reducers_linter__WEBPACK_IMPORTED_MODULE_6__.a.loadLinterResult({versionId:version.id,result:Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_7__.b)({messages:messages})}));var props=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({onSelect:onSelectFile,versionId:version.id,comparedToVersionId:null},moreProps);return Object(_utils__WEBPACK_IMPORTED_MODULE_8__.d)(react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_src_components_FileTree__WEBPACK_IMPORTED_MODULE_4__.a,props),{store:store})};Object(_storybook_react__WEBPACK_IMPORTED_MODULE_3__.storiesOf)("FileTree",module).add("fluid width",(function(){return render()})).add("small width",(function(){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"FileTreeStory-smallWidth"}," ",render())})).add("files with comments",(function(){var version=defaultVersion,store=Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_7__.d)({version:version});return store.dispatch(_src_reducers_versions__WEBPACK_IMPORTED_MODULE_5__.b.expandTree({versionId:version.id})),Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_7__.f)({store:store,versionId:version.id,comments:[Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_7__.a)({filename:version.file.entries["manifest.json"].path}),Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_7__.a)({filename:version.file.entries["jquery-ui/js/jquery-1.7.1.min.js"].path}),Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_7__.a)({filename:version.file.entries["background-scripts/libs/jquery.min.js"].path}),Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_7__.a)({filename:version.file.entries["lib/compat.js"].path})]}),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"FileTreeStory-halfWidth"},render({store:store}))}))}.call(this,__webpack_require__(32)(module))},1480:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(27),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__),_storybook_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(12),_src_components_FileTreeNode__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(243),_src_test_helpers__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(4),_utils__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(13),getProps=function getProps(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref$hasChildNodes=_ref.hasChildNodes,hasChildNodes=void 0!==_ref$hasChildNodes&&_ref$hasChildNodes,_ref$isExpanded=_ref.isExpanded,isExpanded=void 0!==_ref$isExpanded&&_ref$isExpanded,_ref$isFolder=_ref.isFolder,isFolder=void 0!==_ref$isFolder&&_ref$isFolder,_ref$level=_ref.level,level=void 0===_ref$level?0:_ref$level,_ref$nodeName=_ref.nodeName,nodeName=void 0===_ref$nodeName?"node name":_ref$nodeName,_ref$nodeId=_ref.nodeId,nodeId=void 0===_ref$nodeId?"node-id":_ref$nodeId,_ref$renderChildNodes=_ref.renderChildNodes,renderChildNodes=void 0===_ref$renderChildNodes?function(){return{}}:_ref$renderChildNodes,_ref$versionId=_ref.versionId,versionId=void 0===_ref$versionId?_src_test_helpers__WEBPACK_IMPORTED_MODULE_5__.j.id:_ref$versionId;return{getToggleProps:function getToggleProps(){return{onClick:function onClick(){},onKeyDown:function onKeyDown(){},role:"button",tabIndex:0}},hasChildNodes:hasChildNodes,isExpanded:isExpanded,isFolder:isFolder,level:level,node:{id:nodeId,name:nodeName},renderChildNodes:renderChildNodes,onSelect:function onSelect(){},versionId:versionId,comparedToVersionId:null}},render=function render(){var _ref2=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref2$versionId=_ref2.versionId,versionId=void 0===_ref2$versionId?543219:_ref2$versionId,_ref2$store=_ref2.store,store=void 0===_ref2$store?Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_5__.d)({version:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_5__.j,{id:versionId})}):_ref2$store,props=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__.a)(_ref2,["versionId","store"]);return Object(_utils__WEBPACK_IMPORTED_MODULE_6__.d)(react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"FileTreeNodeStory-shell"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_src_components_FileTreeNode__WEBPACK_IMPORTED_MODULE_4__.a,getProps(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({versionId:versionId},props)))),{store:store})};Object(_storybook_react__WEBPACK_IMPORTED_MODULE_3__.storiesOf)("FileTreeNode",module).addWithChapters("all variants",{chapters:[{sections:[{title:"file node",sectionFn:function sectionFn(){return render({nodeName:"manifest.json"})}},{title:"directory node",sectionFn:function sectionFn(){return render({isFolder:!0,nodeName:"background-scripts"})}},{title:"directory, expanded, without children",sectionFn:function sectionFn(){return render({isFolder:!0,isExpanded:!0,nodeName:"background-scripts"})}},{title:"directory, expanded, with a child",sectionFn:function sectionFn(){var store=Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_5__.d)({version:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_5__.j,{id:921})});return render({versionId:921,hasChildNodes:!0,isExpanded:!0,isFolder:!0,nodeName:"background-scripts",renderChildNodes:function renderChildNodes(){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_src_components_FileTreeNode__WEBPACK_IMPORTED_MODULE_4__.a,getProps({versionId:921,level:1,nodeName:"background.js"}))},store:store})}},{title:"selected node",sectionFn:function sectionFn(){var externalVersion=_src_test_helpers__WEBPACK_IMPORTED_MODULE_5__.j,store=Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_5__.d)({version:externalVersion});return render({store:store,versionId:externalVersion.id,nodeId:externalVersion.file.selected_file})}}]}]})}.call(this,__webpack_require__(32)(module))},1481:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var classnames__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5),classnames__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),_storybook_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(12),_src_components_FullscreenGrid_ContentShell__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(85),_src_components_FullscreenGrid__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(83),_utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(13),getParams=function getParams(){return Object(_utils__WEBPACK_IMPORTED_MODULE_5__.e)({fullscreen:!0})},renderInGrid=function renderInGrid(content){return Object(_utils__WEBPACK_IMPORTED_MODULE_5__.d)(react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_src_components_FullscreenGrid__WEBPACK_IMPORTED_MODULE_4__.b,null,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_src_components_FullscreenGrid__WEBPACK_IMPORTED_MODULE_4__.a,{className:"FullscreenGridStory-Header"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"FullscreenGridStory-placeholder"},"Header")),content))};Object(_storybook_react__WEBPACK_IMPORTED_MODULE_2__.storiesOf)("FullscreenGrid",module).add("default",(function(){return renderInGrid(react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_src_components_FullscreenGrid_ContentShell__WEBPACK_IMPORTED_MODULE_3__.a,{altSidePanel:react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"FullscreenGridStory-placeholder"},"altSidePanel"),altSidePanelClass:"FullscreenGridStory-altSidePanel",className:"FullscreenGridStory-content",mainSidePanel:react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"FullscreenGridStory-placeholder"},"mainSidePanel"),mainSidePanelClass:"FullscreenGridStory-mainSidePanel"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"FullscreenGridStory-placeholder"},"Content")))}),getParams()).add("long content",(function(){var someText=Object(_utils__WEBPACK_IMPORTED_MODULE_5__.a)(10);return renderInGrid(react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_src_components_FullscreenGrid_ContentShell__WEBPACK_IMPORTED_MODULE_3__.a,{altSidePanel:someText,mainSidePanel:someText},someText))}),getParams()).add("top content",(function(){return renderInGrid(react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_src_components_FullscreenGrid_ContentShell__WEBPACK_IMPORTED_MODULE_3__.a,{topContent:react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_0___default()("FullscreenGridStory-placeholder","FullscreenGridStory-topContent")},"Example of top content")}))}),getParams())}.call(this,__webpack_require__(32)(module))},1482:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),query_string__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(71),query_string__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(query_string__WEBPACK_IMPORTED_MODULE_1__),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),_storybook_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(12),_src_components_LinterMessage__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(50),_src_reducers_linter__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(43),_src_test_helpers__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(4),_utils__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(13),createMessage=function createMessage(){var attributes=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(_src_reducers_linter__WEBPACK_IMPORTED_MODULE_5__.b)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_6__.h,{},attributes))},render=function render(children){return Object(_utils__WEBPACK_IMPORTED_MODULE_7__.d)(children)},renderWithMessageUid=function renderWithMessageUid(children,messageUid){return Object(_utils__WEBPACK_IMPORTED_MODULE_7__.d)(children,{location:Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_6__.c)({search:query_string__WEBPACK_IMPORTED_MODULE_1___default.a.stringify({messageUid:messageUid})})})};Object(_storybook_react__WEBPACK_IMPORTED_MODULE_3__.storiesOf)("LinterMessage",module).addWithChapters("all variants",{chapters:[{sections:[{title:"Error",sectionFn:function sectionFn(){return render(react__WEBPACK_IMPORTED_MODULE_2__.createElement(_src_components_LinterMessage__WEBPACK_IMPORTED_MODULE_4__.a,{message:createMessage({type:"error",message:"The value of &lt;em:id&gt; is invalid",description:["The values supplied for &lt;em:id&gt; in the install.rdf file is not a valid UUID string."]})}))}},{title:"Error highlighted",sectionFn:function sectionFn(){return renderWithMessageUid(react__WEBPACK_IMPORTED_MODULE_2__.createElement(_src_components_LinterMessage__WEBPACK_IMPORTED_MODULE_4__.a,{message:createMessage({type:"error",message:"The value of &lt;em:id&gt; is invalid",description:["The values supplied for &lt;em:id&gt; in the install.rdf file is not a valid UUID string."],uid:"some-uid"})}),"some-uid")}},{title:"Warning",sectionFn:function sectionFn(){return render(react__WEBPACK_IMPORTED_MODULE_2__.createElement(_src_components_LinterMessage__WEBPACK_IMPORTED_MODULE_4__.a,{message:createMessage({type:"warning",message:"The manifest contains a dictionary but no id property.",description:["A dictionary was found in the manifest, but there was no id set."]})}))}},{title:"Warning highlighted",sectionFn:function sectionFn(){return renderWithMessageUid(react__WEBPACK_IMPORTED_MODULE_2__.createElement(_src_components_LinterMessage__WEBPACK_IMPORTED_MODULE_4__.a,{message:createMessage({type:"warning",message:"The manifest contains a dictionary but no id property.",description:["A dictionary was found in the manifest, but there was no id set."],uid:"some-uid"})}),"some-uid")}},{title:"Notice",sectionFn:function sectionFn(){return render(react__WEBPACK_IMPORTED_MODULE_2__.createElement(_src_components_LinterMessage__WEBPACK_IMPORTED_MODULE_4__.a,{message:createMessage({type:"notice",message:"Known JS library detected",description:["JavaScript libraries are discouraged for\n                simple add-ons, but are generally accepted."]})}))}},{title:"Notice highlighted",sectionFn:function sectionFn(){return renderWithMessageUid(react__WEBPACK_IMPORTED_MODULE_2__.createElement(_src_components_LinterMessage__WEBPACK_IMPORTED_MODULE_4__.a,{message:createMessage({type:"notice",message:"Known JS library detected",description:["JavaScript libraries are discouraged for\n                simple add-ons, but are generally accepted."],uid:"some-uid"})}),"some-uid")}},{title:"Multi-line description",sectionFn:function sectionFn(){return render(react__WEBPACK_IMPORTED_MODULE_2__.createElement(_src_components_LinterMessage__WEBPACK_IMPORTED_MODULE_4__.a,{message:createMessage({type:"error",message:"Markup parsing error",description:["There was an error parsing the markup document.","malformed start tag, at line 1, column 26"]})}))}},{title:"Message with a link",sectionFn:function sectionFn(){return render(react__WEBPACK_IMPORTED_MODULE_2__.createElement(_src_components_LinterMessage__WEBPACK_IMPORTED_MODULE_4__.a,{message:createMessage({type:"error",message:"Banned 3rd-party JS library",description:['Your add-on uses a JavaScript library we\n                  consider unsafe. Read more:\n                  <a href="https://bit.ly/1TRIyZY">https://bit.ly/1TRIyZY</a>']})}))}},{title:"Inlined error",sectionFn:function sectionFn(){return render(react__WEBPACK_IMPORTED_MODULE_2__.createElement(_src_components_LinterMessage__WEBPACK_IMPORTED_MODULE_4__.a,{inline:!0,message:createMessage({type:"error",message:"The value of &lt;em:id&gt; is invalid",description:["The values supplied for &lt;em:id&gt; in the install.rdf file is not a valid UUID string."]})}))}},{title:"Inlined error highlighted",sectionFn:function sectionFn(){return renderWithMessageUid(react__WEBPACK_IMPORTED_MODULE_2__.createElement(_src_components_LinterMessage__WEBPACK_IMPORTED_MODULE_4__.a,{inline:!0,message:createMessage({type:"error",message:"The value of &lt;em:id&gt; is invalid",description:["The values supplied for &lt;em:id&gt; in the install.rdf file is not a valid UUID string."],uid:"some-uid"})}),"some-uid")}},{title:"Inlined warning",sectionFn:function sectionFn(){return render(react__WEBPACK_IMPORTED_MODULE_2__.createElement(_src_components_LinterMessage__WEBPACK_IMPORTED_MODULE_4__.a,{inline:!0,message:createMessage({type:"warning",message:"The manifest contains a dictionary but no id property.",description:["A dictionary was found in the manifest, but there was no id set."]})}))}},{title:"Inlined notice",sectionFn:function sectionFn(){return render(react__WEBPACK_IMPORTED_MODULE_2__.createElement(_src_components_LinterMessage__WEBPACK_IMPORTED_MODULE_4__.a,{inline:!0,message:createMessage({type:"notice",message:"Known JS library detected",description:["JavaScript libraries are discouraged for\n                simple add-ons, but are generally accepted."]})}))}},{title:"Two inline messages stacked",sectionFn:function sectionFn(){return render(react__WEBPACK_IMPORTED_MODULE_2__.createElement(react__WEBPACK_IMPORTED_MODULE_2__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_2__.createElement(_src_components_LinterMessage__WEBPACK_IMPORTED_MODULE_4__.a,{inline:!0,message:createMessage({type:"notice",message:"Known JS library detected",description:["JavaScript libraries are discouraged for\n                simple add-ons, but are generally accepted."]})}),react__WEBPACK_IMPORTED_MODULE_2__.createElement(_src_components_LinterMessage__WEBPACK_IMPORTED_MODULE_4__.a,{inline:!0,message:createMessage({type:"error",message:"Markup parsing error",description:["There was an error parsing the markup document.","malformed start tag, at line 1, column 26"]})})))}},{title:"Two inline messages stacked with one highlighted",sectionFn:function sectionFn(){return renderWithMessageUid(react__WEBPACK_IMPORTED_MODULE_2__.createElement(react__WEBPACK_IMPORTED_MODULE_2__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_2__.createElement(_src_components_LinterMessage__WEBPACK_IMPORTED_MODULE_4__.a,{inline:!0,message:createMessage({type:"notice",message:"Known JS library detected",description:["JavaScript libraries are discouraged for\n                simple add-ons, but are generally accepted."]})}),react__WEBPACK_IMPORTED_MODULE_2__.createElement(_src_components_LinterMessage__WEBPACK_IMPORTED_MODULE_4__.a,{inline:!0,message:createMessage({type:"error",message:"Markup parsing error",description:["There was an error parsing the markup document.","malformed start tag, at line 1, column 26"],uid:"some-uid"})})),"some-uid")}}]}]})}.call(this,__webpack_require__(32)(module))},1483:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(12),_src_components_Loading__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(244);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("Loading",module).add("default",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_components_Loading__WEBPACK_IMPORTED_MODULE_2__.a,{message:"Loading content..."})}))}.call(this,__webpack_require__(32)(module))},1484:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(12),_src_components_LoginButton__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(335),_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(13);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("LoginButton",module).add("default",(function(){return Object(_utils__WEBPACK_IMPORTED_MODULE_3__.d)(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_components_LoginButton__WEBPACK_IMPORTED_MODULE_2__.a,null))}))}.call(this,__webpack_require__(32)(module))},1485:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(27),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__),_storybook_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(12),_src_components_Navbar__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(713),_src_configureStore__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(26),_src_reducers_users__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(133),_src_reducers_versions__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(11),_src_test_helpers__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(4),_utils__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(13),render=function render(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},afterMount=_ref.afterMount,_ref$store=_ref.store,store=void 0===_ref$store?Object(_src_configureStore__WEBPACK_IMPORTED_MODULE_5__.a)():_ref$store,props=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__.a)(_ref,["afterMount","store"]),Shell=function Shell(){return Object(react__WEBPACK_IMPORTED_MODULE_2__.useEffect)((function(){afterMount&&afterMount()}),[afterMount]),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_src_components_Navbar__WEBPACK_IMPORTED_MODULE_4__.a,props)};return Object(_utils__WEBPACK_IMPORTED_MODULE_9__.d)(react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Shell,null),{store:store})},dispatchBaseVersion=function dispatchBaseVersion(_ref2){var _ref2$id=_ref2.id,id=void 0===_ref2$id?Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_8__.o)():_ref2$id,store=_ref2.store,_ref2$versionString=_ref2.versionString,versionString=void 0===_ref2$versionString?"1.0":_ref2$versionString,baseVersion=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_8__.j,{id:id,version:versionString});Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_8__.g)({store:store,version:baseVersion}),store.dispatch(_src_reducers_versions__WEBPACK_IMPORTED_MODULE_7__.b.setCurrentBaseVersionId({versionId:baseVersion.id}))};Object(_storybook_react__WEBPACK_IMPORTED_MODULE_3__.storiesOf)("Navbar",module).add("user is not signed in",(function(){return render()})).add("user is signed in",(function(){var store=Object(_src_configureStore__WEBPACK_IMPORTED_MODULE_5__.a)();return store.dispatch(_src_reducers_users__WEBPACK_IMPORTED_MODULE_6__.a.loadCurrentUser({user:_src_test_helpers__WEBPACK_IMPORTED_MODULE_8__.i})),render({store:store})})).add("with current version",(function(){var version=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_8__.j,{addon:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_8__.k,{name:{"en-US":"uBlock Origin"}})}),store=Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_8__.d)({version:version,makeCurrent:!0});return render({store:store})})).add("with base version, current version",(function(){var version=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_8__.j,{id:Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_8__.o)(),version:"2.0",addon:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_8__.k,{name:{"en-US":"uBlock Origin"}})}),store=Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_8__.d)({version:version,makeCurrent:!0});return dispatchBaseVersion({store:store,versionString:"1.0"}),render({store:store})})).add("with new base version loading",(function(){var version=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_8__.j,{version:"2.0",addon:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_8__.k,{name:{"en-US":"uBlock Origin"}})}),store=Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_8__.d)({version:version,makeCurrent:!0});return dispatchBaseVersion({store:store,versionString:"1.0"}),render({afterMount:function afterMount(){store.dispatch(_src_reducers_versions__WEBPACK_IMPORTED_MODULE_7__.b.setCurrentBaseVersionId({versionId:Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_8__.o)()}))},store:store})})).add("user has entered comments",(function(){var store=Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_8__.e)({comments:[Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_8__.a)({filename:"manifest.json",lineno:23,comment:"This permission does not seem to be used anywhere. Is it?"}),Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_8__.a)({filename:"background.js",lineno:344,comment:"This call to eval() is forbidden."})]});return render({store:store})}))}.call(this,__webpack_require__(32)(module))},1486:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(27),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),_storybook_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(12),_src_reducers_popover__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(70),_src_components_PopoverButton__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(146),_utils__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(13),_src_configureStore__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(26);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_3__.storiesOf)("PopoverButton",module).add("example",(function(){return function render(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref$id=_ref.id,id=void 0===_ref$id?"COMMENTS_SUMMARY":_ref$id,_ref$store=_ref.store,store=void 0===_ref$store?Object(_src_configureStore__WEBPACK_IMPORTED_MODULE_7__.a)():_ref$store,moreProps=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__.a)(_ref,["id","store"]);store.dispatch(_src_reducers_popover__WEBPACK_IMPORTED_MODULE_4__.a.show(id));var props=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({content:react__WEBPACK_IMPORTED_MODULE_2__.createElement("div",{className:"PopoverButton-content"},_utils__WEBPACK_IMPORTED_MODULE_6__.b),id:id,prompt:"Open"},moreProps);return Object(_utils__WEBPACK_IMPORTED_MODULE_6__.d)(react__WEBPACK_IMPORTED_MODULE_2__.createElement(_src_components_PopoverButton__WEBPACK_IMPORTED_MODULE_5__.a,props),{store:store})}()}))}.call(this,__webpack_require__(32)(module))},1487:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(12),_src_components_Skeleton__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(336);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("Skeleton",module).addWithChapters("all variants",{chapters:[{sections:[{title:"in a paragraph",sectionFn:function sectionFn(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_components_Skeleton__WEBPACK_IMPORTED_MODULE_2__.a,null))}}]}]})}.call(this,__webpack_require__(32)(module))},1488:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),_storybook_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(12),_src_components_SlowPageAlert__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(196),_src_test_helpers__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_2__.storiesOf)("SlowPageAlert",module).add("default",(function(){return function render(){var otherProps=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},props=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({getMessage:function getMessage(allowSlowPages){return"This file has been shortened for performance."},getLinkText:function getLinkText(allowSlowPages){return"Show the original file."},location:Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_4__.c)()},otherProps);return react__WEBPACK_IMPORTED_MODULE_1__.createElement(_src_components_SlowPageAlert__WEBPACK_IMPORTED_MODULE_3__.a,props)}()}))}.call(this,__webpack_require__(32)(module))},1489:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(12),_src_components_ToggleButton__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(324),renderToggleButton=function renderToggleButton(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_components_ToggleButton__WEBPACK_IMPORTED_MODULE_2__.a,Object.assign({onClick:function onClick(){}},props))};Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("ToggleButton",module).addWithChapters("all variants",{chapters:[{sections:[{title:"default button",sectionFn:function sectionFn(){return renderToggleButton()}},{title:"with a label",sectionFn:function sectionFn(){return renderToggleButton({label:"toggle me"})}},{title:'toggleLeft = "true"',sectionFn:function sectionFn(){return renderToggleButton({toggleLeft:!0})}},{title:'toggleLeft = "true" with a label',sectionFn:function sectionFn(){return renderToggleButton({toggleLeft:!0,label:"toggle me"})}}]}]})}.call(this,__webpack_require__(32)(module))},1490:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),_storybook_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(12),_src_configureStore__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(26),_src_reducers_popover__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(70),_src_components_VersionChooser__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(339),_src_reducers_versions__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(11),_src_test_helpers__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(4),_utils__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(13),render=function render(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref$addonId=_ref.addonId,addonId=void 0===_ref$addonId?124:_ref$addonId,_ref$baseVersionId=_ref.baseVersionId,baseVersionId=void 0===_ref$baseVersionId?1:_ref$baseVersionId,_ref$headVersionId=_ref.headVersionId,headVersionId=void 0===_ref$headVersionId?1:_ref$headVersionId,_ref$store=_ref.store,store=void 0===_ref$store?Object(_src_configureStore__WEBPACK_IMPORTED_MODULE_3__.a)():_ref$store;return store.dispatch(_src_reducers_versions__WEBPACK_IMPORTED_MODULE_6__.b.setCurrentBaseVersionId({versionId:baseVersionId})),store.dispatch(_src_reducers_versions__WEBPACK_IMPORTED_MODULE_6__.b.setCurrentVersionId({versionId:headVersionId})),store.dispatch(_src_reducers_popover__WEBPACK_IMPORTED_MODULE_4__.a.show("COMPARE_VERSIONS")),Object(_utils__WEBPACK_IMPORTED_MODULE_8__.d)(react__WEBPACK_IMPORTED_MODULE_1__.createElement(_src_components_VersionChooser__WEBPACK_IMPORTED_MODULE_5__.a,{addonId:addonId}),{store:store})},listedVersions=[Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_7__.n,{id:100,channel:"listed",version:"1.0.0"}),Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_7__.n,{id:110,channel:"listed",version:"1.1.0"}),Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_7__.n,{id:120,channel:"listed",version:"1.2.0"})];Object(_storybook_react__WEBPACK_IMPORTED_MODULE_2__.storiesOf)("VersionChooser",module).add("loading state",(function(){return render()})).add("with listed and unlisted versions",(function(){var versions=[].concat(listedVersions,[Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_7__.n,{id:130,channel:"unlisted",version:"1.3.0"})]),store=Object(_src_configureStore__WEBPACK_IMPORTED_MODULE_3__.a)();return store.dispatch(_src_reducers_versions__WEBPACK_IMPORTED_MODULE_6__.b.loadVersionsList({addonId:124,versions:versions})),render({addonId:124,baseVersionId:versions[0].id,headVersionId:versions[2].id,store:store})})).add("with some new versions disabled",(function(){var versions=listedVersions,store=Object(_src_configureStore__WEBPACK_IMPORTED_MODULE_3__.a)();return store.dispatch(_src_reducers_versions__WEBPACK_IMPORTED_MODULE_6__.b.loadVersionsList({addonId:124,versions:versions})),render({addonId:124,baseVersionId:versions[1].id,headVersionId:versions[2].id,store:store})}))}.call(this,__webpack_require__(32)(module))},150:function(module,exports,__webpack_require__){module.exports={option:"styles_option__2QbW9",simulatedFormControl:"styles_simulatedFormControl__362K6",simulatedFormControlSkeleton:"styles_simulatedFormControlSkeleton__qLKdo",formGroup:"styles_formGroup__rzvtx",label:"styles_label__1123g"}},168:function(module,exports,__webpack_require__){module.exports={menu:"styles_menu__1Ww1K",item:"styles_item__35MJI",itemButton:"styles_itemButton__2v8tg",itemContent:"styles_itemContent__l9Rm-",itemExpanded:"styles_itemExpanded__XLAXo"}},169:function(module,exports,__webpack_require__){module.exports={CodeOverview:"styles_CodeOverview__2oN8U",line:"styles_line__262YR",linterMessage:"styles_linterMessage__3k7fe",linterError:"styles_linterError__4ysjJ",linterNotice:"styles_linterNotice__1pruk",linterWarning:"styles_linterWarning__1GnVO"}},170:function(module,exports,__webpack_require__){module.exports={FileMetadata:"styles_FileMetadata__2sMi2",sha256:"styles_sha256__1sWO8"}},18:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return createInternalComment})),__webpack_require__.d(__webpack_exports__,"b",(function(){return createCommentKey})),__webpack_require__.d(__webpack_exports__,"a",(function(){return actions})),__webpack_require__.d(__webpack_exports__,"i",(function(){return selectCommentInfo})),__webpack_require__.d(__webpack_exports__,"h",(function(){return selectComment})),__webpack_require__.d(__webpack_exports__,"k",(function(){return selectVersionComments})),__webpack_require__.d(__webpack_exports__,"l",(function(){return selectVersionHasComments})),__webpack_require__.d(__webpack_exports__,"j",(function(){return selectFilePathHasComments})),__webpack_require__.d(__webpack_exports__,"f",(function(){return fetchAndLoadComments})),__webpack_require__.d(__webpack_exports__,"e",(function(){return deleteComment})),__webpack_require__.d(__webpack_exports__,"g",(function(){return manageComment}));var _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(27),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(17),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3__),typesafe_actions__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(10),_errors__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(82),_versions__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(11),_api__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(40),createAction=typesafe_actions__WEBPACK_IMPORTED_MODULE_4__.deprecated.createAction,createInternalComment=function createInternalComment(comment){return{beginDelete:!1,considerDelete:!1,content:comment.comment,filename:comment.filename,id:comment.id,lineno:comment.lineno,userId:comment.user.id,userName:comment.user.name,userUrl:comment.user.url,userUsername:comment.user.username,version:Object(_versions__WEBPACK_IMPORTED_MODULE_6__.f)(comment.version)}},initialState={byKey:{},byId:{},filePathsHavingComments:{},forVersionId:void 0,isLoading:!1},createCommentKey=function createCommentKey(_ref){var commentId=_ref.commentId,fileName=_ref.fileName,line=_ref.line,key="fileName:".concat(fileName,";line:").concat(line,";commentId:").concat(commentId);if(null!==line&&null===fileName)throw new Error('Cannot create key "'.concat(key,'" because fileName is empty'));return key},actions={abortDiscardComment:createAction("ABORT_DISCARD_COMMENT",(function(resolve){return function(payload){return resolve(payload)}})),abortDeleteComment:createAction("ABORT_DELETE_COMMENT",(function(resolve){return function(payload){return resolve(payload)}})),abortFetchVersionComments:createAction("ABORT_FETCH_VERSION_COMMENTS",(function(resolve){return function(payload){return resolve(payload)}})),abortSaveComment:createAction("ABORT_SAVE_COMMENT",(function(resolve){return function(payload){return resolve(payload)}})),beginComment:createAction("BEGIN_COMMENT",(function(resolve){return function(payload){return resolve(payload)}})),beginDeleteComment:createAction("BEGIN_DELETE_COMMENT",(function(resolve){return function(payload){return resolve(payload)}})),beginFetchVersionComments:createAction("BEGIN_FETCH_VERSION_COMMENTS",(function(resolve){return function(payload){return resolve(payload)}})),beginSaveComment:createAction("BEGIN_SAVE_COMMENT",(function(resolve){return function(payload){return resolve(payload)}})),considerDiscardComment:createAction("CONSIDER_DISCARD_COMMENT",(function(resolve){return function(payload){return resolve(payload)}})),considerDeleteComment:createAction("CONSIDER_DELETE_COMMENT",(function(resolve){return function(payload){return resolve(payload)}})),finishComment:createAction("FINISH_COMMENT",(function(resolve){return function(payload){return resolve(payload)}})),setComments:createAction("SET_COMMENTS",(function(resolve){return function(payload){return resolve(payload)}})),unsetComment:createAction("UNSET_COMMENT",(function(resolve){return function(payload){return resolve(payload)}}))},selectCommentInfo=function selectCommentInfo(_ref2){var commentId=_ref2.commentId,comments=_ref2.comments,fileName=_ref2.fileName,line=_ref2.line,versionId=_ref2.versionId;if(comments.forVersionId===versionId)return comments.byKey[createCommentKey({commentId:commentId,fileName:fileName,line:line})]},selectComment=function selectComment(_ref3){var comments=_ref3.comments,id=_ref3.id;return comments.byId[id]},selectVersionComments=function selectVersionComments(_ref4){var comments=_ref4.comments,versionId=_ref4.versionId;if(comments.forVersionId===versionId)return Object.keys(comments.byId).reduce((function(all,id){var comment=selectComment({comments:comments,id:parseInt(id,10)});return comment&&all.push(comment),all}),[])},selectVersionHasComments=function selectVersionHasComments(_ref5){var _ref5$_selectVersionC=_ref5._selectVersionComments,all=(void 0===_ref5$_selectVersionC?selectVersionComments:_ref5$_selectVersionC)({comments:_ref5.comments,versionId:_ref5.versionId});return all?all.length>0:void 0},selectFilePathHasComments=function selectFilePathHasComments(_ref6){var comments=_ref6.comments,path=_ref6.path,versionId=_ref6.versionId;return comments.forVersionId===versionId&&(comments.filePathsHavingComments[path]||!1)},fetchAndLoadComments=function fetchAndLoadComments(_ref7){var _ref7$_getAllComments=_ref7._getAllComments,_getAllComments=void 0===_ref7$_getAllComments?_api__WEBPACK_IMPORTED_MODULE_7__.c:_ref7$_getAllComments,addonId=_ref7.addonId,versionId=_ref7.versionId;return function _callee(dispatch,getState){var _getState,apiState,response;return _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.async((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(_getState=getState(),apiState=_getState.api,!_getState.comments.isLoading){_context.next=3;break}return _context.abrupt("return");case 3:return dispatch(actions.beginFetchVersionComments({versionId:versionId})),_context.next=6,_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.awrap(_getAllComments({addonId:addonId,apiState:apiState,versionId:versionId}));case 6:response=_context.sent,Object(_api__WEBPACK_IMPORTED_MODULE_7__.h)(response)?(dispatch(actions.abortFetchVersionComments({versionId:versionId})),dispatch(_errors__WEBPACK_IMPORTED_MODULE_5__.a.addError({error:response.error}))):dispatch(actions.setComments({versionId:versionId,comments:response.results}));case 8:case"end":return _context.stop()}}))}},deleteComment=function deleteComment(_ref8){var _ref8$_apiDeleteComme=_ref8._apiDeleteComment,_apiDeleteComment=void 0===_ref8$_apiDeleteComme?_api__WEBPACK_IMPORTED_MODULE_7__.b:_ref8$_apiDeleteComme,addonId=_ref8.addonId,commentId=_ref8.commentId,versionId=_ref8.versionId;return function _callee2(dispatch,getState){var _getState2,apiState,response;return _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.async((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _getState2=getState(),apiState=_getState2.api,dispatch(actions.beginDeleteComment({commentId:commentId})),_context2.next=4,_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.awrap(_apiDeleteComment({addonId:addonId,apiState:apiState,commentId:commentId,versionId:versionId}));case 4:response=_context2.sent,Object(_api__WEBPACK_IMPORTED_MODULE_7__.h)(response)?(dispatch(actions.abortDeleteComment({commentId:commentId})),dispatch(_errors__WEBPACK_IMPORTED_MODULE_5__.a.addError({error:response.error}))):dispatch(actions.unsetComment({commentId:commentId}));case 6:case"end":return _context2.stop()}}))}},manageComment=function manageComment(_ref9){var _ref9$_createOrUpdate=_ref9._createOrUpdateComment,_createOrUpdateComment=void 0===_ref9$_createOrUpdate?_api__WEBPACK_IMPORTED_MODULE_7__.a:_ref9$_createOrUpdate,addonId=_ref9.addonId,cannedResponseId=_ref9.cannedResponseId,comment=_ref9.comment,commentId=_ref9.commentId,fileName=_ref9.fileName,line=_ref9.line,versionId=_ref9.versionId;return function _callee3(dispatch,getState){var _getState3,apiState,response;return _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.async((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _getState3=getState(),apiState=_getState3.api,dispatch(actions.beginSaveComment({commentId:commentId,versionId:versionId,fileName:fileName,line:line,pendingCommentText:comment||null})),_context3.next=4,_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.awrap(_createOrUpdateComment({addonId:addonId,apiState:apiState,cannedResponseId:cannedResponseId,comment:comment,commentId:commentId,fileName:fileName,line:line,versionId:versionId}));case 4:response=_context3.sent,Object(_api__WEBPACK_IMPORTED_MODULE_7__.h)(response)?(dispatch(actions.abortSaveComment({versionId:versionId,commentId:commentId,fileName:fileName,line:line})),dispatch(_errors__WEBPACK_IMPORTED_MODULE_5__.a.addError({error:response.error}))):(dispatch(actions.finishComment({versionId:versionId,commentId:commentId,fileName:fileName,line:line})),dispatch(actions.setComments({versionId:versionId,comments:[response]})));case 6:case"end":return _context3.stop()}}))}},stateForVersion=function stateForVersion(_ref10){var state=_ref10.state,versionId=_ref10.versionId,reset=state.forVersionId!==versionId;return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},state,{byId:reset?{}:state.byId,byKey:reset?{}:state.byKey,forVersionId:versionId})},getKeyAndInfo=function getKeyAndInfo(_ref11){var byKey=_ref11.byKey,keyParams=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__.a)(_ref11,["byKey"]),key=createCommentKey(keyParams);return{key:key,info:byKey[key]||{beginNewComment:!1,pendingCommentText:null,savingComment:!1,commentIds:[],considerDiscard:!1}}},prepareStateForKeyChange=function prepareStateForKeyChange(_ref12){var state=_ref12.state,keyParams=_ref12.keyParams,versionId=_ref12.versionId,newState=stateForVersion({state:state,versionId:versionId}),_getKeyAndInfo=getKeyAndInfo(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({byKey:newState.byKey},keyParams));return{key:_getKeyAndInfo.key,info:_getKeyAndInfo.info,newState:newState}},adjustComment=function adjustComment(_ref13){var state=_ref13.state,id=_ref13.id,props=_ref13.props,comment=selectComment({comments:state,id:id});if(!comment)throw new Error("Cannot adjust comment by ID=".concat(id," because it does not exist"));return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},comment,{},props)},findAllSubpaths=function findAllSubpaths(path){var parts=[],subpaths=[],normPath=path.endsWith("/")?path.substring(0,path.length-1):path,_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=normPath.split("/")[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var part=_step.value;parts.push(part);var subpath=parts.join("/");subpath&&subpaths.push(subpath)}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return subpaths},findFilePathsHavingComments=function findFilePathsHavingComments(byId){for(var map={},_i=0,_Object$keys=Object.keys(byId);_i<_Object$keys.length;_i++){var _id=_Object$keys[_i],comment=byId[parseInt(_id,10)];if(comment&&comment.filename){var _iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=findAllSubpaths(comment.filename)[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){map[_step2.value]=!0}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{_iteratorNormalCompletion2||null==_iterator2.return||_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}}}return map};__webpack_exports__.d=function reducer(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:initialState,action=arguments.length>1?arguments[1]:void 0;switch(action.type){case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_4__.getType)(actions.abortFetchVersionComments):var versionId=action.payload.versionId,newState=stateForVersion({state:state,versionId:versionId});return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},newState,{isLoading:!1});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_4__.getType)(actions.beginComment):var _action$payload=action.payload,_versionId=_action$payload.versionId,keyParams=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__.a)(_action$payload,["versionId"]),_prepareStateForKeyCh=prepareStateForKeyChange({state:state,keyParams:keyParams,versionId:_versionId}),_key=_prepareStateForKeyCh.key,info=_prepareStateForKeyCh.info,_newState=_prepareStateForKeyCh.newState;return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},_newState,{byKey:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},_newState.byKey,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_key,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},info,{beginNewComment:!0,pendingCommentText:null,savingComment:!1})))});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_4__.getType)(actions.beginSaveComment):var _action$payload2=action.payload,pendingCommentText=_action$payload2.pendingCommentText,_versionId2=_action$payload2.versionId,_keyParams=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__.a)(_action$payload2,["pendingCommentText","versionId"]),_prepareStateForKeyCh2=prepareStateForKeyChange({state:state,keyParams:_keyParams,versionId:_versionId2}),_key2=_prepareStateForKeyCh2.key,_info=_prepareStateForKeyCh2.info,_newState2=_prepareStateForKeyCh2.newState;return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},_newState2,{byKey:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},_newState2.byKey,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_key2,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},_info,{pendingCommentText:pendingCommentText,savingComment:!0})))});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_4__.getType)(actions.abortSaveComment):var _action$payload3=action.payload,_versionId3=_action$payload3.versionId,_keyParams2=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__.a)(_action$payload3,["versionId"]),_prepareStateForKeyCh3=prepareStateForKeyChange({state:state,keyParams:_keyParams2,versionId:_versionId3}),_key3=_prepareStateForKeyCh3.key,_info2=_prepareStateForKeyCh3.info,_newState3=_prepareStateForKeyCh3.newState;return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},_newState3,{byKey:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},_newState3.byKey,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_key3,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},_info2,{savingComment:!1})))});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_4__.getType)(actions.considerDiscardComment):var _action$payload4=action.payload,_versionId4=_action$payload4.versionId,_keyParams3=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__.a)(_action$payload4,["versionId"]),_prepareStateForKeyCh4=prepareStateForKeyChange({state:state,keyParams:_keyParams3,versionId:_versionId4}),_key4=_prepareStateForKeyCh4.key,_info3=_prepareStateForKeyCh4.info,_newState4=_prepareStateForKeyCh4.newState;return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},_newState4,{byKey:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},_newState4.byKey,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_key4,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},_info3,{considerDiscard:!0})))});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_4__.getType)(actions.abortDiscardComment):var _action$payload5=action.payload,_versionId5=_action$payload5.versionId,_keyParams4=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__.a)(_action$payload5,["versionId"]),_prepareStateForKeyCh5=prepareStateForKeyChange({state:state,keyParams:_keyParams4,versionId:_versionId5}),_key5=_prepareStateForKeyCh5.key,_info4=_prepareStateForKeyCh5.info,_newState5=_prepareStateForKeyCh5.newState;return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},_newState5,{byKey:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},_newState5.byKey,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_key5,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},_info4,{considerDiscard:!1})))});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_4__.getType)(actions.finishComment):var _action$payload6=action.payload,_versionId6=_action$payload6.versionId,_keyParams5=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__.a)(_action$payload6,["versionId"]),_prepareStateForKeyCh6=prepareStateForKeyChange({state:state,keyParams:_keyParams5,versionId:_versionId6}),_key6=_prepareStateForKeyCh6.key,_info5=_prepareStateForKeyCh6.info,_newState6=_prepareStateForKeyCh6.newState;return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},_newState6,{byKey:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},_newState6.byKey,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_key6,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},_info5,{beginNewComment:!1,considerDiscard:!1,pendingCommentText:null,savingComment:!1})))});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_4__.getType)(actions.setComments):var _action$payload7=action.payload,comments=_action$payload7.comments,_versionId7=_action$payload7.versionId,_newState7=stateForVersion({state:state,versionId:_versionId7}),byKey=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},_newState7.byKey),byId=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},_newState7.byId),_iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0;try{for(var _step3,_iterator3=comments[Symbol.iterator]();!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=!0){var comment=_step3.value;byId[comment.id]=createInternalComment(comment);var _getKeyAndInfo2=getKeyAndInfo({byKey:byKey,commentId:void 0,fileName:comment.filename||null,line:comment.lineno||null}),_key7=_getKeyAndInfo2.key,_info6=_getKeyAndInfo2.info;byKey[_key7]=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},_info6,{commentIds:_info6.commentIds.includes(comment.id)?_info6.commentIds:_info6.commentIds.concat(comment.id)})}}catch(err){_didIteratorError3=!0,_iteratorError3=err}finally{try{_iteratorNormalCompletion3||null==_iterator3.return||_iterator3.return()}finally{if(_didIteratorError3)throw _iteratorError3}}return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},_newState7,{byKey:byKey,byId:byId,filePathsHavingComments:findFilePathsHavingComments(byId),isLoading:!1});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_4__.getType)(actions.beginFetchVersionComments):var _versionId8=action.payload.versionId,_newState8=stateForVersion({state:state,versionId:_versionId8});return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},_newState8,{isLoading:!0});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_4__.getType)(actions.abortDeleteComment):var commentId=action.payload.commentId;return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},state,{byId:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},state.byId,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},commentId,adjustComment({state:state,id:commentId,props:{beginDelete:!1,considerDelete:!1}})))});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_4__.getType)(actions.beginDeleteComment):var _commentId=action.payload.commentId;return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},state,{byId:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},state.byId,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_commentId,adjustComment({state:state,id:_commentId,props:{beginDelete:!0,considerDelete:!1}})))});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_4__.getType)(actions.considerDeleteComment):var _commentId2=action.payload.commentId;return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},state,{byId:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},state.byId,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_commentId2,adjustComment({state:state,id:_commentId2,props:{beginDelete:!1,considerDelete:!0}})))});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_4__.getType)(actions.unsetComment):var _ret=function(){for(var commentId=action.payload.commentId,byId=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},state.byId,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},commentId,void 0)),byKey=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},state.byKey),_i2=0,_Object$keys2=Object.keys(byKey);_i2<_Object$keys2.length;_i2++){var _key8=_Object$keys2[_i2],_info7=byKey[_key8];byKey[_key8]=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},_info7,{commentIds:_info7.commentIds.filter((function(id){return id!==commentId}))})}return{v:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},state,{byId:byId,byKey:byKey,filePathsHavingComments:findFilePathsHavingComments(byId)})}}();if("object"==typeof _ret)return _ret.v;default:return state}}},192:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(87),_styles_module_scss__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(696),_styles_module_scss__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_styles_module_scss__WEBPACK_IMPORTED_MODULE_3__);__webpack_exports__.a=function Button(_ref){var className=_ref.className,children=_ref.children,onClick=_ref.onClick,title=_ref.title,ariaControls=_ref.ariaControls;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_2__.a,{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()(_styles_module_scss__WEBPACK_IMPORTED_MODULE_3___default.a.button,className),onClick:onClick,title:title,"aria-controls":ariaControls},children)}},193:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Token})),__webpack_require__.d(__webpack_exports__,"b",(function(){return generateLineShapes}));var Token;!function(Token){Token.code="code",Token.whitespace="whitespace"}(Token||(Token={}));var generateLineShapes=function generateLineShapes(fileLines){var _ref=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_ref$maxLineLength=_ref.maxLineLength,maxLineLength=void 0===_ref$maxLineLength?40:_ref$maxLineLength,allLineShapes=[];return fileLines.forEach((function(code,lineIndex){for(var line=lineIndex+1,characters=code.replace("\t"," ".repeat(2)).split(""),lineShapes={line:line,tokens:[]},getLastShape=function getLastShape(){return lineShapes.tokens[lineShapes.tokens.length-1]},getLastToken=function getLastToken(){var lastShape=getLastShape();return lastShape?lastShape.token:null},i=0;i<maxLineLength;i++){var token=" "===(characters[i]||" ")?Token.whitespace:Token.code;getLastToken()!==token&&lineShapes.tokens.push({token:token,count:0,percentOfWidth:0}),getLastShape().count+=1}lineShapes.tokens.forEach((function(shape){shape.percentOfWidth=shape.count/maxLineLength*100})),allLineShapes.push(lineShapes)})),allLineShapes}},194:function(module,__webpack_exports__,__webpack_require__){"use strict";var _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(24),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(25),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(30),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(29),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(31),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(0),react_router_dom__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(716),react_router_dom__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(250),classnames__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(5),classnames__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_9__),_styles_module_scss__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(94),_styles_module_scss__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(_styles_module_scss__WEBPACK_IMPORTED_MODULE_10__),_Commentable__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(147),_CommentList__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(145),_FadableContent__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(195),_LinterMessage__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(50),_utils__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(75),_refractor__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(338),_utils__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(6),_LinterProvider__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(118),_GlobalLinterMessages__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(330),_SlowPageAlert__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(196),renderCode=function renderCode(_ref){var code=_ref.code,language=_ref.language,ast=_refractor__WEBPACK_IMPORTED_MODULE_16__.a.highlight(code,language),value=0===ast.length?code:ast.map(Object(_utils__WEBPACK_IMPORTED_MODULE_15__.e)(0));return react__WEBPACK_IMPORTED_MODULE_6__.createElement("pre",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_10___default.a.highlightedCode},react__WEBPACK_IMPORTED_MODULE_6__.createElement("code",{className:classnames__WEBPACK_IMPORTED_MODULE_9___default()(_styles_module_scss__WEBPACK_IMPORTED_MODULE_10___default.a.innerHighlightedCode,"language-".concat(language))},value))},isLineSelected=function isLineSelected(id,location){return"#".concat(id)===location.hash},CodeViewBase=function(_React$Component){function CodeViewBase(){var _getPrototypeOf2,_this;Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__.a)(this,CodeViewBase);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__.a)(this,(_getPrototypeOf2=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__.a)(CodeViewBase)).call.apply(_getPrototypeOf2,[this].concat(args)))).renderWithLinterInfo=function(_ref2){var slowAlert,selectedMessageMap=_ref2.selectedMessageMap,_this$props=_this.props,_scrollToSelectedLine=_this$props._scrollToSelectedLine,_slowLoadingCharCount=_this$props._slowLoadingCharCount,_trimmedCharCount=_this$props._trimmedCharCount,content=_this$props.content,enableCommenting=_this$props.enableCommenting,location=_this$props.location,mimeType=_this$props.mimeType,version=_this$props.version,language=Object(_utils__WEBPACK_IMPORTED_MODULE_17__.i)(mimeType),codeLines=Object(_utils__WEBPACK_IMPORTED_MODULE_15__.d)(content),codeWasTrimmed=!1;return content.length>=_slowLoadingCharCount&&(Object(_utils__WEBPACK_IMPORTED_MODULE_17__.p)({location:location})||(codeLines=Object(_utils__WEBPACK_IMPORTED_MODULE_15__.d)("".concat(content.substring(0,_trimmedCharCount)," /* truncated by code-manager */")),codeWasTrimmed=!0),slowAlert=react__WEBPACK_IMPORTED_MODULE_6__.createElement(_SlowPageAlert__WEBPACK_IMPORTED_MODULE_20__.a,{location:location,getMessage:function getMessage(allowSlowPages){return allowSlowPages?Object(_utils__WEBPACK_IMPORTED_MODULE_17__.k)("This file may be loading slowly."):Object(_utils__WEBPACK_IMPORTED_MODULE_17__.k)("This file has been shortened to load faster.")},getLinkText:function getLinkText(allowSlowPages){return allowSlowPages?Object(_utils__WEBPACK_IMPORTED_MODULE_17__.k)("View a shortened file."):Object(_utils__WEBPACK_IMPORTED_MODULE_17__.k)("View the original file.")}})),react__WEBPACK_IMPORTED_MODULE_6__.createElement(react__WEBPACK_IMPORTED_MODULE_6__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_6__.createElement(_GlobalLinterMessages__WEBPACK_IMPORTED_MODULE_19__.a,{containerRef:isLineSelected(Object(_utils__WEBPACK_IMPORTED_MODULE_15__.c)(_utils__WEBPACK_IMPORTED_MODULE_15__.a),location)?_scrollToSelectedLine:void 0,key:location.key,messages:selectedMessageMap&&selectedMessageMap.global}),slowAlert,react__WEBPACK_IMPORTED_MODULE_6__.createElement(_FadableContent__WEBPACK_IMPORTED_MODULE_13__.a,{fade:codeWasTrimmed},react__WEBPACK_IMPORTED_MODULE_6__.createElement("div",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_10___default.a.CodeView},react__WEBPACK_IMPORTED_MODULE_6__.createElement("table",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_10___default.a.table},react__WEBPACK_IMPORTED_MODULE_6__.createElement("colgroup",null,react__WEBPACK_IMPORTED_MODULE_6__.createElement("col",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_10___default.a.lineNumberCol}),react__WEBPACK_IMPORTED_MODULE_6__.createElement("col",null)),react__WEBPACK_IMPORTED_MODULE_6__.createElement("tbody",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_10___default.a.tableBody},codeLines.map((function(code,i){var shellRef,line=i+1,id=Object(_utils__WEBPACK_IMPORTED_MODULE_15__.c)(line),className=_styles_module_scss__WEBPACK_IMPORTED_MODULE_10___default.a.line;return isLineSelected(id,location)&&(className=classnames__WEBPACK_IMPORTED_MODULE_9___default()(className,_styles_module_scss__WEBPACK_IMPORTED_MODULE_10___default.a.selectedLine),shellRef=_scrollToSelectedLine),react__WEBPACK_IMPORTED_MODULE_6__.createElement(react__WEBPACK_IMPORTED_MODULE_6__.Fragment,{key:"fragment-".concat(line)},react__WEBPACK_IMPORTED_MODULE_6__.createElement(_Commentable__WEBPACK_IMPORTED_MODULE_11__.a,{as:"tr",id:id,className:className,line:line,fileName:version.selectedPath,shellRef:shellRef,versionId:version.id},(function(addCommentButton){return react__WEBPACK_IMPORTED_MODULE_6__.createElement(react__WEBPACK_IMPORTED_MODULE_6__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_6__.createElement("td",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_10___default.a.lineNumber},react__WEBPACK_IMPORTED_MODULE_6__.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_7__.a,{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_10___default.a.lineNumberLink,to:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},location,{hash:Object(_utils__WEBPACK_IMPORTED_MODULE_15__.b)(line)})},"".concat(line)),enableCommenting&&addCommentButton),react__WEBPACK_IMPORTED_MODULE_6__.createElement("td",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_10___default.a.code},renderCode({code:code,language:language})))})),selectedMessageMap&&selectedMessageMap.byLine[line]&&react__WEBPACK_IMPORTED_MODULE_6__.createElement("tr",null,react__WEBPACK_IMPORTED_MODULE_6__.createElement("td",{id:"line-".concat(line,"-messages"),className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_10___default.a.linterMessages,colSpan:2},selectedMessageMap.byLine[line].map((function(msg){return react__WEBPACK_IMPORTED_MODULE_6__.createElement(_LinterMessage__WEBPACK_IMPORTED_MODULE_14__.a,{inline:!0,key:msg.uid,message:msg})})))),enableCommenting&&react__WEBPACK_IMPORTED_MODULE_6__.createElement(_CommentList__WEBPACK_IMPORTED_MODULE_12__.a,{addonId:version.addon.id,fileName:version.selectedPath,line:line,versionId:version.id},(function(commentList){return react__WEBPACK_IMPORTED_MODULE_6__.createElement("tr",null,react__WEBPACK_IMPORTED_MODULE_6__.createElement("td",{colSpan:2},commentList))})))})))))),codeWasTrimmed&&slowAlert)},_this}return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_5__.a)(CodeViewBase,_React$Component),Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__.a)(CodeViewBase,[{key:"render",value:function render(){var _this2=this,version=this.props.version;return react__WEBPACK_IMPORTED_MODULE_6__.createElement(_LinterProvider__WEBPACK_IMPORTED_MODULE_18__.a,{versionId:version.id,validationURL:version.validationURL,selectedPath:version.selectedPath},(function(info){return _this2.renderWithLinterInfo(info)}))}}]),CodeViewBase}(react__WEBPACK_IMPORTED_MODULE_6__.Component);CodeViewBase.defaultProps={_scrollToSelectedLine:function scrollToSelectedLine(element){element&&element.scrollIntoView()},_slowLoadingCharCount:_utils__WEBPACK_IMPORTED_MODULE_17__.a,_trimmedCharCount:_utils__WEBPACK_IMPORTED_MODULE_17__.b,enableCommenting:!0},__webpack_exports__.a=Object(react_router_dom__WEBPACK_IMPORTED_MODULE_8__.a)(CodeViewBase)},195:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_styles_module_scss__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(706),_styles_module_scss__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_styles_module_scss__WEBPACK_IMPORTED_MODULE_1__);__webpack_exports__.a=function FadableContentBase(_ref){var children=_ref.children;return _ref.fade?react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_1___default.a.shell},children):children}},196:function(module,__webpack_exports__,__webpack_require__){"use strict";var _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),react_bootstrap__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(203),_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6);__webpack_exports__.a=function SlowPageAlertBase(_ref){var _ref$_shouldAllowSlow=_ref._shouldAllowSlowPages,_shouldAllowSlowPages=void 0===_ref$_shouldAllowSlow?_utils__WEBPACK_IMPORTED_MODULE_3__.p:_ref$_shouldAllowSlow,allowSlowPagesByDefault=_ref.allowSlowPagesByDefault,getLinkText=_ref.getLinkText,getMessage=_ref.getMessage,location=_ref.location,allowSlowPages=_shouldAllowSlowPages({allowByDefault:allowSlowPagesByDefault,location:location}),newLocation="".concat(location.pathname).concat(Object(_utils__WEBPACK_IMPORTED_MODULE_3__.e)(location,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_utils__WEBPACK_IMPORTED_MODULE_3__.c,!allowSlowPages)));return react__WEBPACK_IMPORTED_MODULE_1__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__.a,{variant:"danger"},getMessage(allowSlowPages)," ",react__WEBPACK_IMPORTED_MODULE_1__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__.a.Link,{href:newLocation},getLinkText(allowSlowPages)))}},197:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__.d(__webpack_exports__,"JS_SAMPLE",(function(){return JS_SAMPLE}));var _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(27),react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(0),_storybook_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(12),_src_configureStore__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(26),_src_components_FullscreenGrid_ContentShell__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(85),_src_components_FullscreenGrid__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(83),_src_components_CodeView__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(194),_src_reducers_linter__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(43),_src_reducers_versions__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(11),_fixtures_long_unbroken_minified_diff__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(331),_utils__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(13),_src_test_helpers__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(4),getParams=function getParams(){return Object(_utils__WEBPACK_IMPORTED_MODULE_12__.e)({fullscreen:!0})},JS_SAMPLE='/**\n * There was an error executing the script.\n * Display the popup\'s error message, and hide the normal UI.\n */\nfunction reportExecuteScriptError(error) {\n  document.querySelector("#popup-content").classList.add("hidden");\n  document.querySelector("#error-content").classList.remove("hidden");\n  console.error(`Failed to execute beastify content script: ${\n    error.message\n  }`);\n}\n\n/**\n * When the popup loads, inject a content script into the active tab,\n * and add a click handler.\n * If we couldn\'t inject the script, handle the error.\n */\nbrowser.tabs.executeScript({file: "/content_scripts/beastify.js"})\n  .then(listenForClicks)\n  .catch(reportExecuteScriptError);\n',render=function render(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref$content=_ref.content,content=void 0===_ref$content?JS_SAMPLE:_ref$content,_ref$store=_ref.store,store=void 0===_ref$store?Object(_src_configureStore__WEBPACK_IMPORTED_MODULE_5__.a)():_ref$store,moreProps=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__.a)(_ref,["content","store"]),props=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({content:content,mimeType:"application/javascript",version:Object(_src_reducers_versions__WEBPACK_IMPORTED_MODULE_10__.f)(_src_test_helpers__WEBPACK_IMPORTED_MODULE_13__.j)},moreProps);return Object(_utils__WEBPACK_IMPORTED_MODULE_12__.d)(react__WEBPACK_IMPORTED_MODULE_3__.createElement(_src_components_FullscreenGrid__WEBPACK_IMPORTED_MODULE_7__.b,null,react__WEBPACK_IMPORTED_MODULE_3__.createElement(_src_components_FullscreenGrid__WEBPACK_IMPORTED_MODULE_7__.a,null),react__WEBPACK_IMPORTED_MODULE_3__.createElement(_src_components_FullscreenGrid_ContentShell__WEBPACK_IMPORTED_MODULE_6__.a,null,react__WEBPACK_IMPORTED_MODULE_3__.createElement(_src_components_CodeView__WEBPACK_IMPORTED_MODULE_8__.a,props))),{store:store})},renderJSWithMessages=function renderJSWithMessages(messages){var _ref2=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_ref2$content=_ref2.content,content=void 0===_ref2$content?JS_SAMPLE:_ref2$content,_ref2$store=_ref2.store,store=void 0===_ref2$store?Object(_src_configureStore__WEBPACK_IMPORTED_MODULE_5__.a)():_ref2$store,moreProps=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__.a)(_ref2,["content","store"]),path="lib/some-file.js",version=Object(_src_reducers_versions__WEBPACK_IMPORTED_MODULE_10__.f)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_13__.j,{file:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_13__.m,{entries:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},path,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_13__.l,{path:path})),selected_file:path})})),result=Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_13__.b)({messages:messages.map((function(msg){return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({uid:Object(_utils__WEBPACK_IMPORTED_MODULE_12__.c)()},msg,{file:path})}))});return store.dispatch(_src_reducers_linter__WEBPACK_IMPORTED_MODULE_9__.a.loadLinterResult({versionId:version.id,result:result})),render(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({store:store,content:content,mimeType:"application/javascript",version:version},moreProps))};Object(_storybook_react__WEBPACK_IMPORTED_MODULE_4__.storiesOf)("CodeView",module).add("Mime type: (unsupported)",(function(){return render({mimeType:"",content:JS_SAMPLE})}),getParams()).add("Mime type: application/javascript",(function(){return render({mimeType:"application/javascript",content:JS_SAMPLE})}),getParams()).add("Mime type: text/css",(function(){return render({mimeType:"text/css",content:"html, body {\n  width: 100px;\n}\n\n.hidden {\n  display: none;\n}"})}),getParams()).add("One global linter message",(function(){return renderJSWithMessages([{line:null,message:"The &#34;update_url&#34; property is not used by Firefox.",description:["The &#34;update_url&#34; is not used by Firefox in the root of a manifest; your add-on will be updated via the Add-ons site and not your &#34;update_url&#34;."],type:"warning"}])}),getParams()).add("Multiple global linter messages",(function(){return renderJSWithMessages([{line:null,message:"The &#34;update_url&#34; property is not used by Firefox.",description:["The &#34;update_url&#34; is not used by Firefox in the root of a manifest; your add-on will be updated via the Add-ons site and not your &#34;update_url&#34;."],type:"warning"},{line:null,message:"/permissions: Unknown permissions &#34;unlimitedStorage&#34; at 8.",description:["See ... for more information."],type:"notice"}])}),getParams()).add("One linter message on one line",(function(){return renderJSWithMessages([{line:7,message:"document.querySelector() detected",description:["Pretty sweet call to document.querySelector(). Nice."],type:"notice"}])}),getParams()).add("Multiple linter messages on one line",(function(){return renderJSWithMessages([{line:7,message:"document.querySelector() detected",description:["Pretty sweet call to document.querySelector(). Nice."],type:"notice"},{line:7,message:"classList.remove() considered harmful",description:["Calling element.classList.remove() is harmful but not really."],type:"error"}])}),getParams()).add("Multiple linter messages on multiple lines",(function(){return renderJSWithMessages([{line:7,message:"document.querySelector() detected",description:["Pretty sweet call to document.querySelector(). Nice."],type:"notice"},{line:18,message:"browser.tabs.executeScript() is deprecated",description:["browser.tabs.executeScript() will not be supported in the near future. Just kidding."],type:"warning"}])}),getParams()).add("Long line with a linter message",(function(){return renderJSWithMessages([{line:1,message:"Long line detected",description:["This is a long line of code."],type:"notice"}],{content:'const message = "'.concat(_utils__WEBPACK_IMPORTED_MODULE_12__.b.trim().replace(/\n/g," "),'";')})}),getParams()).add("Code with tab characters",(function(){return render({mimeType:"application/javascript",content:"\n          \t// This should be indented for each code level.\n          \tfunction log(msg, debug = false) {\n          \t\tif (debug) {\n          \t\t\tconsole.log(msg);\n          \t\t}\n          \t}"})}),getParams()).add("Long line without any line breaks + linter message",(function(){return renderJSWithMessages([{line:1,message:"Minified code detected",description:["You do not need to minify add-on code."],type:"notice"}],{content:_fixtures_long_unbroken_minified_diff__WEBPACK_IMPORTED_MODULE_11__.a})}),getParams())}.call(this,__webpack_require__(32)(module))},200:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return actions})),__webpack_require__.d(__webpack_exports__,"c",(function(){return isExpanded}));var _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),typesafe_actions__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(10),actions={toggleItem:(0,typesafe_actions__WEBPACK_IMPORTED_MODULE_1__.deprecated.createAction)("TOGGLE_ACCORDION_ITEM",(function(resolve){return function(payload){return resolve(payload)}}))},initialState={expanded:null},isExpanded=function isExpanded(state,itemId){return state.expanded===itemId};__webpack_exports__.b=function reducer(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:initialState,action=arguments.length>1?arguments[1]:void 0;switch(action.type){case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_1__.getType)(actions.toggleItem):var itemId=action.payload.itemId;return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},state,{expanded:isExpanded(state,itemId)?null:itemId});default:return state}}},201:function(module,exports,__webpack_require__){module.exports={SidePanel:"styles_SidePanel__2Typq",ToggleButton:"styles_ToggleButton__38ByA",content:"styles_content__3Kwve",borderlessContent:"styles_borderlessContent__3SUfB",isCollapsed:"styles_isCollapsed__Ixuzb"}},202:function(module,exports,__webpack_require__){module.exports={shell:"styles_shell__1qB8L",treeShell:"styles_treeShell__1jDdP",controlButtons:"styles_controlButtons__37Xip",button:"styles_button__Jy79_"}},239:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return actions}));var _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),typesafe_actions__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(10),createAction=typesafe_actions__WEBPACK_IMPORTED_MODULE_1__.deprecated.createAction,actions={toggleAltSidePanel:createAction("TOGGLE_ALT_SIDE_PANEL"),toggleMainSidePanel:createAction("TOGGLE_MAIN_SIDE_PANEL")},initialState={altSidePanelIsExpanded:!0,mainSidePanelIsExpanded:!0};__webpack_exports__.b=function reducer(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:initialState,action=arguments.length>1?arguments[1]:void 0;switch(action.type){case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_1__.getType)(actions.toggleAltSidePanel):return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},state,{altSidePanelIsExpanded:!state.altSidePanelIsExpanded});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_1__.getType)(actions.toggleMainSidePanel):return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},state,{mainSidePanelIsExpanded:!state.mainSidePanelIsExpanded});default:return state}}},240:function(module,__webpack_exports__,__webpack_require__){"use strict";var _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(24),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(25),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(30),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(29),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(31),react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(0),classnames__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(5),classnames__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_6__),react_redux__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(28),react_textarea_autosize__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(440),react_bootstrap__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(87),react_bootstrap__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(1498),_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(81),_reducers_comments__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(18),_utils__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(6),_styles_module_scss__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(62),_styles_module_scss__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(_styles_module_scss__WEBPACK_IMPORTED_MODULE_14__),CommentBase=function(_React$Component){function CommentBase(props){var _this;Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__.a)(this,CommentBase),(_this=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__.a)(this,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__.a)(CommentBase).call(this,props))).textareaRef=_this.props.createTextareaRef?_this.props.createTextareaRef():react__WEBPACK_IMPORTED_MODULE_5__.createRef(),_this.keydownListener=function(event){event.stopPropagation()},_this.onCommentChange=function(event){event.preventDefault(),_this.setState({commentText:event.target.value})},_this.onAbortDelete=function(){var dispatch=_this.props.dispatch,initialComment=_this.getInitialCommentOrThrow();dispatch(_reducers_comments__WEBPACK_IMPORTED_MODULE_12__.a.abortDeleteComment({commentId:initialComment.id}))},_this.onConsiderDelete=function(){var dispatch=_this.props.dispatch,initialComment=_this.getInitialCommentOrThrow();dispatch(_reducers_comments__WEBPACK_IMPORTED_MODULE_12__.a.considerDeleteComment({commentId:initialComment.id}))},_this.onDelete=function(){var _this$props=_this.props,_deleteComment=_this$props._deleteComment,addonId=_this$props.addonId,dispatch=_this$props.dispatch,versionId=_this$props.versionId;dispatch(_deleteComment({addonId:addonId,commentId:_this.getInitialCommentOrThrow().id,versionId:versionId}))},_this.onSubmit=function(event){var _this$props2=_this.props,_manageComment=_this$props2._manageComment,addonId=_this$props2.addonId,dispatch=_this$props2.dispatch,fileName=_this$props2.fileName,initialComment=_this$props2.initialComment,line=_this$props2.line,versionId=_this$props2.versionId;event.preventDefault(),dispatch(_manageComment({addonId:addonId,cannedResponseId:void 0,comment:_this.state.commentText||"",commentId:initialComment?initialComment.id:void 0,fileName:fileName,line:line,versionId:versionId}))},_this.onEdit=function(){var _this$props3=_this.props,dispatch=_this$props3.dispatch,fileName=_this$props3.fileName,line=_this$props3.line,versionId=_this$props3.versionId,initialComment=_this.getInitialCommentOrThrow();dispatch(_reducers_comments__WEBPACK_IMPORTED_MODULE_12__.a.beginComment({commentId:initialComment.id,fileName:fileName,line:line,versionId:versionId}))},_this.onConsiderDiscard=function(){var _this$props4=_this.props,commentId=_this$props4.commentId,dispatch=_this$props4.dispatch,fileName=_this$props4.fileName,line=_this$props4.line,versionId=_this$props4.versionId;dispatch(_reducers_comments__WEBPACK_IMPORTED_MODULE_12__.a.considerDiscardComment({commentId:commentId||void 0,fileName:fileName,line:line,versionId:versionId}))},_this.onAbortDiscard=function(){var _this$props5=_this.props,commentId=_this$props5.commentId,dispatch=_this$props5.dispatch,fileName=_this$props5.fileName,line=_this$props5.line,versionId=_this$props5.versionId;dispatch(_reducers_comments__WEBPACK_IMPORTED_MODULE_12__.a.abortDiscardComment({commentId:commentId||void 0,fileName:fileName,line:line,versionId:versionId}))},_this.onDiscard=function(){var _this$props6=_this.props,commentId=_this$props6.commentId,dispatch=_this$props6.dispatch,fileName=_this$props6.fileName,line=_this$props6.line,versionId=_this$props6.versionId;dispatch(_reducers_comments__WEBPACK_IMPORTED_MODULE_12__.a.finishComment({commentId:commentId||void 0,fileName:fileName,line:line,versionId:versionId}))};var _initialComment=props.initialComment,initialCommentText=props.initialCommentText,commentText=_initialComment?_initialComment.content:void 0;return commentText||(commentText=initialCommentText||void 0),_this.state={commentText:commentText},_this}return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__.a)(CommentBase,_React$Component),Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__.a)(CommentBase,[{key:"setupTextarea",value:function setupTextarea(){this.textareaRef&&this.textareaRef.current&&(this.textareaRef.current.focus(),this.textareaRef.current.removeEventListener("keydown",this.keydownListener),this.textareaRef.current.addEventListener("keydown",this.keydownListener))}},{key:"componentDidMount",value:function componentDidMount(){this.setupTextarea()}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.setupTextarea()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.textareaRef&&this.textareaRef.current&&this.textareaRef.current.removeEventListener("keydown",this.keydownListener)}},{key:"getInitialCommentOrThrow",value:function getInitialCommentOrThrow(){var initialComment=this.props.initialComment;if(!initialComment)throw new Error("Cannot get initialComment because it is empty");return initialComment}},{key:"renderComment",value:function renderComment(){var initialComment=this.getInitialCommentOrThrow(),showCancel=!1,deleteIsDisabled=!1,deletePrompt=Object(_utils__WEBPACK_IMPORTED_MODULE_13__.k)("Delete"),onDeleteClick=this.onConsiderDelete;return initialComment.considerDelete?(deletePrompt=Object(_utils__WEBPACK_IMPORTED_MODULE_13__.k)("Confirm delete"),onDeleteClick=this.onDelete,showCancel=!0):initialComment.beginDelete&&(deletePrompt=Object(_utils__WEBPACK_IMPORTED_MODULE_13__.k)("Deleting"),deleteIsDisabled=!0),react__WEBPACK_IMPORTED_MODULE_5__.createElement("div",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_14___default.a.comment},react__WEBPACK_IMPORTED_MODULE_5__.createElement("div",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_14___default.a.commentBody},react__WEBPACK_IMPORTED_MODULE_5__.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_11__.a,{flip:"horizontal",icon:["far","comment-alt"],pull:"left",size:"2x"}),react__WEBPACK_IMPORTED_MODULE_5__.createElement("div",{dangerouslySetInnerHTML:Object(_utils__WEBPACK_IMPORTED_MODULE_13__.o)(Object(_utils__WEBPACK_IMPORTED_MODULE_13__.m)(initialComment.content),["br"])})),react__WEBPACK_IMPORTED_MODULE_5__.createElement("div",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_14___default.a.commentControls},react__WEBPACK_IMPORTED_MODULE_5__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_9__.a,{className:classnames__WEBPACK_IMPORTED_MODULE_6___default()(_styles_module_scss__WEBPACK_IMPORTED_MODULE_14___default.a.controlButton,_styles_module_scss__WEBPACK_IMPORTED_MODULE_14___default.a.editButton),disabled:showCancel,onClick:this.onEdit,size:"sm",type:"button"},Object(_utils__WEBPACK_IMPORTED_MODULE_13__.k)("Edit")),react__WEBPACK_IMPORTED_MODULE_5__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_9__.a,{className:classnames__WEBPACK_IMPORTED_MODULE_6___default()(_styles_module_scss__WEBPACK_IMPORTED_MODULE_14___default.a.controlButton,_styles_module_scss__WEBPACK_IMPORTED_MODULE_14___default.a.deleteButton),disabled:deleteIsDisabled,onClick:onDeleteClick,size:"sm",type:"button",variant:"danger"},deletePrompt),showCancel&&react__WEBPACK_IMPORTED_MODULE_5__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_9__.a,{className:classnames__WEBPACK_IMPORTED_MODULE_6___default()(_styles_module_scss__WEBPACK_IMPORTED_MODULE_14___default.a.controlButton,_styles_module_scss__WEBPACK_IMPORTED_MODULE_14___default.a.cancelButton),onClick:this.onAbortDelete,size:"sm",type:"button",variant:"light"},Object(_utils__WEBPACK_IMPORTED_MODULE_13__.k)("Cancel"))))}},{key:"renderForm",value:function renderForm(){var _this$props7=this.props,considerDiscard=_this$props7.considerDiscard,savingComment=_this$props7.savingComment,commentText=this.state.commentText,onDiscard=this.onConsiderDiscard,showAbortDiscard=!1,discardPrompt=Object(_utils__WEBPACK_IMPORTED_MODULE_13__.k)("Discard");return considerDiscard&&(showAbortDiscard=!0,onDiscard=this.onDiscard,discardPrompt=Object(_utils__WEBPACK_IMPORTED_MODULE_13__.k)("Confirm discard")),react__WEBPACK_IMPORTED_MODULE_5__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_10__.a,{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_14___default.a.form,onSubmit:this.onSubmit},react__WEBPACK_IMPORTED_MODULE_5__.createElement(react_textarea_autosize__WEBPACK_IMPORTED_MODULE_8__.default,{disabled:savingComment||considerDiscard,onChange:this.onCommentChange,inputRef:this.textareaRef,className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_14___default.a.textarea,minRows:3,value:commentText}),react__WEBPACK_IMPORTED_MODULE_5__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_9__.a,{className:classnames__WEBPACK_IMPORTED_MODULE_6___default()(_styles_module_scss__WEBPACK_IMPORTED_MODULE_14___default.a.controlButton,_styles_module_scss__WEBPACK_IMPORTED_MODULE_14___default.a.saveButton),disabled:savingComment||considerDiscard,type:"submit"},savingComment?Object(_utils__WEBPACK_IMPORTED_MODULE_13__.k)("Saving"):Object(_utils__WEBPACK_IMPORTED_MODULE_13__.k)("Save")),react__WEBPACK_IMPORTED_MODULE_5__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_9__.a,{className:classnames__WEBPACK_IMPORTED_MODULE_6___default()(_styles_module_scss__WEBPACK_IMPORTED_MODULE_14___default.a.controlButton,_styles_module_scss__WEBPACK_IMPORTED_MODULE_14___default.a.discardButton),disabled:savingComment,onClick:onDiscard,type:"button",variant:"danger"},discardPrompt),showAbortDiscard&&react__WEBPACK_IMPORTED_MODULE_5__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_9__.a,{className:classnames__WEBPACK_IMPORTED_MODULE_6___default()(_styles_module_scss__WEBPACK_IMPORTED_MODULE_14___default.a.controlButton,_styles_module_scss__WEBPACK_IMPORTED_MODULE_14___default.a.abortDiscardButton),onClick:this.onAbortDiscard,type:"button",variant:"light"},Object(_utils__WEBPACK_IMPORTED_MODULE_13__.k)("Cancel")))}},{key:"render",value:function render(){var _this$props8=this.props,className=_this$props8.className,showForm=_this$props8.showForm;return react__WEBPACK_IMPORTED_MODULE_5__.createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_6___default()(_styles_module_scss__WEBPACK_IMPORTED_MODULE_14___default.a.container,className)},showForm?this.renderForm():this.renderComment())}}]),CommentBase}(react__WEBPACK_IMPORTED_MODULE_5__.Component);CommentBase.defaultProps={_deleteComment:_reducers_comments__WEBPACK_IMPORTED_MODULE_12__.e,_manageComment:_reducers_comments__WEBPACK_IMPORTED_MODULE_12__.g};__webpack_exports__.a=Object(react_redux__WEBPACK_IMPORTED_MODULE_7__.connect)((function mapStateToProps(state,_ref){var initialComment,commentId=_ref.commentId,fileName=_ref.fileName,line=_ref.line,versionId=_ref.versionId;if(commentId&&!(initialComment=Object(_reducers_comments__WEBPACK_IMPORTED_MODULE_12__.h)({comments:state.comments,id:commentId})))throw new Error("No comment was mapped for commentId=".concat(commentId));var info=Object(_reducers_comments__WEBPACK_IMPORTED_MODULE_12__.i)({commentId:commentId||void 0,comments:state.comments,fileName:fileName,line:line,versionId:versionId});return{showForm:!!info&&info.beginNewComment,considerDiscard:!!info&&info.considerDiscard,initialComment:initialComment||null,initialCommentText:info?info.pendingCommentText:null,savingComment:!!info&&info.savingComment}}))(CommentBase)},242:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(193),_styles_module_scss__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(342),_styles_module_scss__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_styles_module_scss__WEBPACK_IMPORTED_MODULE_2__);__webpack_exports__.a=function CodeLineShapes(_ref){var isChange=_ref.isChange,lineShapes=_ref.lineShapes;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,lineShapes.tokens.map((function(shape,shapeIndex){var className;return className=shape.token===_utils__WEBPACK_IMPORTED_MODULE_1__.a.whitespace?_styles_module_scss__WEBPACK_IMPORTED_MODULE_2___default.a.whitespace:isChange?_styles_module_scss__WEBPACK_IMPORTED_MODULE_2___default.a.change:_styles_module_scss__WEBPACK_IMPORTED_MODULE_2___default.a.code,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{key:[String(lineShapes.line),String(shapeIndex),String(shape.percentOfWidth),className].join(":"),className:className,style:{width:"".concat(shape.percentOfWidth,"%")}})})))}},243:function(module,__webpack_exports__,__webpack_require__){"use strict";var _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(24),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(25),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(30),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(29),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(31),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(86),loglevel__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(39),loglevel__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(loglevel__WEBPACK_IMPORTED_MODULE_8__),react__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(0),react_redux__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(28),react_bootstrap__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(717),_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(81),classnames__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(5),classnames__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_13__),_utils__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(6),_LinterProvider__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(118),_reducers_comments__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(18),_reducers_versions__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(11),_reducers_linter__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(43),_styles_module_scss__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(73),_styles_module_scss__WEBPACK_IMPORTED_MODULE_19___default=__webpack_require__.n(_styles_module_scss__WEBPACK_IMPORTED_MODULE_19__),getIconForType=function getIconForType(type){switch(type){case"error":return"times-circle";case"warning":return"exclamation-triangle";case"known-library":return"check-circle";default:return"info-circle"}},FileTreeNodeBase=function(_React$Component){function FileTreeNodeBase(_props){var _this;return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__.a)(this,FileTreeNodeBase),(_this=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__.a)(this,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__.a)(FileTreeNodeBase).call(this,_props))).scrollIntoViewIfNeeded=void 0,_this.nodeRef=_this.props.createNodeRef?_this.props.createNodeRef():react__WEBPACK_IMPORTED_MODULE_9__.createRef(),_this._scrollIntoViewIfNeeded=function(){var _this$props=_this.props,dispatch=_this$props.dispatch,node=_this$props.node,version=_this$props.version;_this.isSelected()&&version.visibleSelectedPath!==node.id&&(_this.nodeRef&&_this.nodeRef.current?(_this.nodeRef.current.scrollIntoView({behavior:"smooth",block:"nearest"}),dispatch(_reducers_versions__WEBPACK_IMPORTED_MODULE_17__.b.setVisibleSelectedPath({path:node.id,versionId:version.id}))):loglevel__WEBPACK_IMPORTED_MODULE_8___default.a.warn("nodeRef.current was unexpectedly empty: ".concat(_this.nodeRef)))},_this.renderWithLinterInfo=function(_ref2){var _makeClassName,_makeClassName2,title,messageMap=_ref2.messageMap,_this$props2=_this.props,hasComments=_this$props2.hasComments,getToggleProps=_this$props2.getToggleProps,hasChildNodes=_this$props2.hasChildNodes,isExpanded=_this$props2.isExpanded,isFolder=_this$props2.isFolder,level=_this$props2.level,node=_this$props2.node,onSelect=_this$props2.onSelect,renderChildNodes=_this$props2.renderChildNodes,version=_this$props2.version,entryStatusMap=_this$props2.entryStatusMap,hasLinterMessages=messageMap&&Object.keys(messageMap.byPath).some((function(path){return path.startsWith(node.id)})),nodeIcons=[],linterType=null;messageMap&&hasLinterMessages&&(!function isKnownLibrary(linterMessageMap,path){var _getMessagesForPath=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_reducers_linter__WEBPACK_IMPORTED_MODULE_18__.g,m=linterMessageMap.byPath[path];if(!m)return!1;var messages=_getMessagesForPath(m);return!(messages.length>1||null!==messages[0].line)&&m.global[0].code.includes("KNOWN_LIBRARY")}(messageMap,node.id)?title=function getTitleForType(type,isFolder){switch(type){case"error":return isFolder?Object(_utils__WEBPACK_IMPORTED_MODULE_14__.k)("This folder contains files with linter errors"):Object(_utils__WEBPACK_IMPORTED_MODULE_14__.k)("This file contains linter errors");case"warning":return isFolder?Object(_utils__WEBPACK_IMPORTED_MODULE_14__.k)("This folder contains files with linter warnings"):Object(_utils__WEBPACK_IMPORTED_MODULE_14__.k)("This file contains linter warnings");default:return isFolder?Object(_utils__WEBPACK_IMPORTED_MODULE_14__.k)("This folder contains files with linter notices"):Object(_utils__WEBPACK_IMPORTED_MODULE_14__.k)("This file contains linter notices")}}(linterType=function findMostSevereTypeForPath(linterMessageMap,targetPath){var _ref=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},_ref$_findMostSevereT=_ref._findMostSevereType,_findMostSevereType=void 0===_ref$_findMostSevereT?_reducers_linter__WEBPACK_IMPORTED_MODULE_18__.e:_ref$_findMostSevereT,allMessages=Object.keys(linterMessageMap.byPath).reduce((function(messages,path){if(!path.startsWith(targetPath))return messages;var map=linterMessageMap.byPath[path];return messages.push.apply(messages,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_7__.a)(map.global)),Object.keys(map.byLine).forEach((function(key){messages.push.apply(messages,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_7__.a)(map.byLine[parseInt(key,10)]))})),messages}),[]);return allMessages.length?_findMostSevereType(allMessages):null}(messageMap,node.id),isFolder):(linterType="known-library",title=Object(_utils__WEBPACK_IMPORTED_MODULE_14__.k)("This is a known library")),nodeIcons.push(react__WEBPACK_IMPORTED_MODULE_9__.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_12__.a,{fixedWidth:!0,key:"linter-icon",icon:getIconForType(linterType),title:title})));hasComments&&nodeIcons.push(react__WEBPACK_IMPORTED_MODULE_9__.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_12__.a,{fixedWidth:!0,key:"comments-icon",flip:"horizontal",icon:["fas","comment-alt"],size:"1x",title:isFolder?Object(_utils__WEBPACK_IMPORTED_MODULE_14__.k)("This directory contains files with comments"):Object(_utils__WEBPACK_IMPORTED_MODULE_14__.k)("This file has comments")}));var listGroupItemProps={className:classnames__WEBPACK_IMPORTED_MODULE_13___default()(_styles_module_scss__WEBPACK_IMPORTED_MODULE_19___default.a.node,(_makeClassName={},Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__.a)(_makeClassName,_styles_module_scss__WEBPACK_IMPORTED_MODULE_19___default.a.directoryNode,isFolder),Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__.a)(_makeClassName,_styles_module_scss__WEBPACK_IMPORTED_MODULE_19___default.a.selected,_this.isSelected()),Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__.a)(_makeClassName,_styles_module_scss__WEBPACK_IMPORTED_MODULE_19___default.a.hasLinterMessages,hasLinterMessages),Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__.a)(_makeClassName,_styles_module_scss__WEBPACK_IMPORTED_MODULE_19___default.a.hasLinterErrors,"error"===linterType),Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__.a)(_makeClassName,_styles_module_scss__WEBPACK_IMPORTED_MODULE_19___default.a.hasLinterWarnings,"warning"===linterType),Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__.a)(_makeClassName,_styles_module_scss__WEBPACK_IMPORTED_MODULE_19___default.a.isKnownLibrary,"known-library"===linterType),_makeClassName)),onClick:function onClick(){return onSelect(node.id)}};isFolder&&(listGroupItemProps=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},listGroupItemProps,{},getToggleProps()));var adjustedLevel=level+1,entryStatus=Object(_reducers_versions__WEBPACK_IMPORTED_MODULE_17__.m)({entryStatusMap:entryStatusMap,version:version,path:node.id}),entryWasDeleted=entryStatus&&"D"===entryStatus,entryWasModified=entryStatus&&"M"===entryStatus,entryWasAdded=entryStatus&&"A"===entryStatus,nodeTitle=Object(_utils__WEBPACK_IMPORTED_MODULE_14__.k)("View ".concat(node.name));return entryWasDeleted?nodeTitle=Object(_utils__WEBPACK_IMPORTED_MODULE_14__.k)("".concat(nodeTitle," (deleted)")):entryWasModified?nodeTitle=Object(_utils__WEBPACK_IMPORTED_MODULE_14__.k)("".concat(nodeTitle," (modified)")):entryWasAdded&&(nodeTitle=Object(_utils__WEBPACK_IMPORTED_MODULE_14__.k)("".concat(nodeTitle," (added)"))),react__WEBPACK_IMPORTED_MODULE_9__.createElement(react__WEBPACK_IMPORTED_MODULE_9__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_9__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_11__.a.Item,Object.assign({as:function ItemElement(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return react__WEBPACK_IMPORTED_MODULE_9__.createElement("div",Object.assign({ref:_this.nodeRef},props))}},listGroupItemProps),react__WEBPACK_IMPORTED_MODULE_9__.createElement("span",{className:classnames__WEBPACK_IMPORTED_MODULE_13___default()(_styles_module_scss__WEBPACK_IMPORTED_MODULE_19___default.a.nodeItem,(_makeClassName2={},Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__.a)(_makeClassName2,_styles_module_scss__WEBPACK_IMPORTED_MODULE_19___default.a.wasDeleted,entryWasDeleted),Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__.a)(_makeClassName2,_styles_module_scss__WEBPACK_IMPORTED_MODULE_19___default.a.wasModified,entryWasModified),Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__.a)(_makeClassName2,_styles_module_scss__WEBPACK_IMPORTED_MODULE_19___default.a.wasAdded,entryWasAdded),_makeClassName2)),style:{paddingLeft:"".concat(10*adjustedLevel,"px")}},react__WEBPACK_IMPORTED_MODULE_9__.createElement("span",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_19___default.a.folderAndFileIcons},isFolder?react__WEBPACK_IMPORTED_MODULE_9__.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_12__.a,{fixedWidth:!0,icon:isExpanded?"folder-open":"folder"}):react__WEBPACK_IMPORTED_MODULE_9__.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_12__.a,{fixedWidth:!0,icon:"file"})),react__WEBPACK_IMPORTED_MODULE_9__.createElement("span",{title:nodeTitle,className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_19___default.a.nodeName},node.name),nodeIcons.length>0?react__WEBPACK_IMPORTED_MODULE_9__.createElement("span",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_19___default.a.nodeIcons},nodeIcons):null)),isExpanded&&(hasChildNodes?renderChildNodes():react__WEBPACK_IMPORTED_MODULE_9__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_11__.a.Item,{className:classnames__WEBPACK_IMPORTED_MODULE_13___default()(_styles_module_scss__WEBPACK_IMPORTED_MODULE_19___default.a.node,_styles_module_scss__WEBPACK_IMPORTED_MODULE_19___default.a.emptyNodeDirectory),style:{paddingLeft:"".concat(20*(adjustedLevel+2),"px")}},Object(_utils__WEBPACK_IMPORTED_MODULE_14__.k)("This folder is empty"))))},_this.scrollIntoViewIfNeeded=_this.props._scrollIntoViewIfNeeded||_this._scrollIntoViewIfNeeded,_this}return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_6__.a)(FileTreeNodeBase,_React$Component),Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__.a)(FileTreeNodeBase,[{key:"componentDidMount",value:function componentDidMount(){this.scrollIntoViewIfNeeded()}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.scrollIntoViewIfNeeded()}},{key:"isSelected",value:function isSelected(){var _this$props3=this.props,node=_this$props3.node;return _this$props3.version.selectedPath===node.id}},{key:"render",value:function render(){var _this2=this,version=this.props.version;return react__WEBPACK_IMPORTED_MODULE_9__.createElement(_LinterProvider__WEBPACK_IMPORTED_MODULE_15__.a,{versionId:version.id,validationURL:version.validationURL,selectedPath:version.selectedPath},(function(info){return _this2.renderWithLinterInfo(info)}))}}]),FileTreeNodeBase}(react__WEBPACK_IMPORTED_MODULE_9__.Component);__webpack_exports__.a=Object(react_redux__WEBPACK_IMPORTED_MODULE_10__.connect)((function mapStateToProps(state,ownProps){var node=ownProps.node,versionId=ownProps.versionId,comparedToVersionId=ownProps.comparedToVersionId,versions=state.versions,version=Object(_reducers_versions__WEBPACK_IMPORTED_MODULE_17__.p)(versions,versionId),entryStatusMap=Object(_reducers_versions__WEBPACK_IMPORTED_MODULE_17__.l)({versions:versions,versionId:versionId,comparedToVersionId:comparedToVersionId})||{};if(!version)throw new Error("No version exists in state for version ID ".concat(versionId));return{entryStatusMap:entryStatusMap,hasComments:Object(_reducers_comments__WEBPACK_IMPORTED_MODULE_16__.j)({comments:state.comments,path:node.id,versionId:versionId}),version:version}}))(FileTreeNodeBase)},244:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(81);__webpack_exports__.a=function LoadingBase(_ref){var message=_ref.message;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_1__.a,{icon:"spinner",spin:!0})," ",message)}},248:function(module,exports,__webpack_require__){module.exports={inline:"styles_inline__2x2p0",danger:"styles_danger__2tsgX",secondary:"styles_secondary__2uKhc",warning:"styles_warning__77Efr",description:"styles_description__19HkI",highlight:"styles_highlight__KzgCN"}},249:function(module,exports,__webpack_require__){module.exports={container:"styles_container__1YrL2",errorDetails:"styles_errorDetails__pAwbi"}},26:function(module,__webpack_exports__,__webpack_require__){"use strict";var objectSpread2=__webpack_require__(1),redux=__webpack_require__(144),redux_devtools_extension=__webpack_require__(689),redux_logger=__webpack_require__(690),es=__webpack_require__(691),lib=__webpack_require__(132),esm_history=__webpack_require__(84),esm=__webpack_require__(337),index_umd=__webpack_require__(693),index_umd_default=__webpack_require__.n(index_umd),accordionMenu=__webpack_require__(200),typesafe_actions_umd_production=__webpack_require__(10),actions={setAuthToken:(0,typesafe_actions_umd_production.deprecated.createAction)("SET_AUTH_TOKEN",(function(resolve){return function(payload){return resolve(payload)}}))},initialState={authToken:null},api=function reducer(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:initialState,action=arguments.length>1?arguments[1]:void 0;switch(action.type){case Object(typesafe_actions_umd_production.getType)(actions.setAuthToken):return Object(objectSpread2.a)({},state,{authToken:action.payload.authToken});default:return state}},comments=__webpack_require__(18),errors=__webpack_require__(82),fileTree=__webpack_require__(76),fullscreenGrid=__webpack_require__(239),linter=__webpack_require__(43),popover=__webpack_require__(70),users=__webpack_require__(133),versions=__webpack_require__(11),reducers=function createRootReducer(history){return Object(redux.combineReducers)({accordionMenu:accordionMenu.b,api:api,comments:comments.d,errors:errors.b,fileTree:fileTree.d,fullscreenGrid:fullscreenGrid.b,linter:linter.c,popover:popover.b,router:Object(lib.connectRouter)(history),users:users.c,versions:versions.h})},flattenObject=function flattenObject(object){return Object.keys(object).reduce((function(newObject,k){var newValue,value=object[k];return newValue=null===value||["string","number","boolean","undefined"].includes(typeof value)?value:"[type: ".concat(typeof value,"]"),newObject[k]=newValue,newObject}),{})},configureStore_actionToSentryBreadcrumb=function actionToSentryBreadcrumb(action){return Object(objectSpread2.a)({},flattenObject(action),{payload:action.payload?flattenObject(action.payload):void 0})},redactStateForSentry=function redactStateForSentry(state){return{accordionMenu:state.accordionMenu,api:{authToken:"[redacted]"},comments:state.comments,errors:state.errors,fileTree:state.fileTree,fullscreenGrid:state.fullscreenGrid,linter:state.linter,popover:state.popover,router:state.router,users:state.users,versions:state.versions}};__webpack_exports__.a=function configureStore(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref$history=_ref.history,history=void 0===_ref$history?Object(esm_history.a)():_ref$history,preloadedState=_ref.preloadedState,allMiddleware=[Object(lib.routerMiddleware)(history),es.a],isDevelopment=!1;Object({NODE_ENV:"production",NODE_PATH:"",PUBLIC_URL:"https://addons-code-manager.cdn.mozilla.net",REACT_APP_API_HOST:"https://addons.mozilla.org",REACT_APP_REVIEWERS_HOST:"https://reviewers.addons.mozilla.org",REACT_APP_AUTH_TOKEN_PLACEHOLDER:"__AUTH_TOKEN__",REACT_APP_AUTHENTICATION_COOKIE:"frontend_auth_token",REACT_APP_DEFAULT_API_LANG:"en-US",REACT_APP_DEFAULT_API_VERSION:"v5",REACT_APP_FXA_CONFIG:"code-manager",INLINE_RUNTIME_CHUNK:"false",REACT_APP_UNSAFE_ERROR_SIMULATION:"false",REACT_APP_ENABLE_COMMENTING:"true",REACT_APP_ANALYTICS_HOST:"https://www.google-analytics.com",REACT_APP_TRACKING_ENABLED:"true",REACT_APP_TRACKING_ID:"UA-77033033-29"}).REACT_APP_SENTRY_DSN&&allMiddleware.push(index_umd_default()(esm,{breadcrumbDataFromAction:configureStore_actionToSentryBreadcrumb,stateTransformer:redactStateForSentry})),isDevelopment&&allMiddleware.push(Object(redux_logger.createLogger)());var middleware=redux.applyMiddleware.apply(void 0,allMiddleware);if(isDevelopment){var composeEnhancers=Object(redux_devtools_extension.composeWithDevTools)({});middleware=composeEnhancers(middleware)}var store=Object(redux.createStore)(reducers(history),preloadedState,middleware);return store}},323:function(module,exports,__webpack_require__){module.exports={button:"styles_button__3DCtN",commentable:"styles_commentable__YFHBX"}},324:function(module,__webpack_exports__,__webpack_require__){"use strict";var _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),classnames__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5),classnames__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__),_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(81),_Button__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(192),_styles_module_scss__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(447),_styles_module_scss__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_styles_module_scss__WEBPACK_IMPORTED_MODULE_5__);__webpack_exports__.a=function ToggleButton(_ref){var className=_ref.className,label=_ref.label,onClick=_ref.onClick,title=_ref.title,_ref$toggleLeft=_ref.toggleLeft,toggleLeft=void 0!==_ref$toggleLeft&&_ref$toggleLeft,labelElement=label?react__WEBPACK_IMPORTED_MODULE_1__.createElement("span",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_5___default.a.label},label):null,icon=toggleLeft?"angle-double-left":"angle-double-right";return react__WEBPACK_IMPORTED_MODULE_1__.createElement(_Button__WEBPACK_IMPORTED_MODULE_4__.a,{className:classnames__WEBPACK_IMPORTED_MODULE_2___default()(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_styles_module_scss__WEBPACK_IMPORTED_MODULE_5___default.a.toggleLeft,toggleLeft),className),onClick:onClick,title:title},!toggleLeft&&labelElement,react__WEBPACK_IMPORTED_MODULE_1__.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_3__.a,{icon:icon}),toggleLeft&&labelElement)}},330:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_LinterMessage__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(50),_CodeView_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(75);__webpack_exports__.a=function GlobalLinterMessages(_ref){var className=_ref.className,messages=_ref.messages,containerRef=_ref.containerRef;return messages&&messages.length?react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:className,id:Object(_CodeView_utils__WEBPACK_IMPORTED_MODULE_2__.c)(0),ref:containerRef},messages.map((function(msg){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_LinterMessage__WEBPACK_IMPORTED_MODULE_1__.a,{key:msg.uid,message:msg})}))):null}},331:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a='"undefined"!=typeof browser&&(chrome=browser),function(e){var t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1119)}({0:function(e,t,n){"use strict";e.exports=n(82)},1:function(e,t,n){e.exports=n(98)()},10:function(e,t,n){"use strict";var a=n(153),r="object"==typeof self&&self&&self.Object===Object&&self,i=(a.a||r||Function("return this")()).Symbol,s=Object.prototype,o=s.hasOwnProperty,l=s.toString,u=i?i.toStringTag:void 0;var c=function(e){var t=o.call(e,u),n=e[u];try{e[u]=void 0;var a=!0}catch(e){}var r=l.call(e);return a&&(t?e[u]=n:delete e[u]),r},d=Object.prototype.toString;var h=function(e){return d.call(e)},f="[object Null]",m="[object Undefined]",p=i?i.toStringTag:void 0;var _=function(e){return null==e?void 0===e?m:f:p&&p in Object(e)?c(e):h(e)};var g=function(e,t){return function(n){return e(t(n))}}(Object.getPrototypeOf,Object);'},332:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__.d(__webpack_exports__,"createOneLineComment",(function(){return createOneLineComment})),__webpack_require__.d(__webpack_exports__,"createVeryLongComments",(function(){return createVeryLongComments}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(12),_src_components_CommentSummary__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(333),_src_reducers_comments__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(18),_src_test_helpers__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4),_utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(13),render=function render(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref$comments=_ref.comments,comments=void 0===_ref$comments?[Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_4__.a)()]:_ref$comments;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src_components_CommentSummary__WEBPACK_IMPORTED_MODULE_2__.a,{comments:comments.map((function(c){return Object(_src_reducers_comments__WEBPACK_IMPORTED_MODULE_3__.c)(c)}))})},createOneLineComment=function createOneLineComment(){return[Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_4__.a)({filename:"manifest.json",lineno:23,comment:"This is a deprecated permission"})]},createVeryLongComments=function createVeryLongComments(){return new Array(10).fill(null).map((function(value,index){return Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_4__.a)({filename:"manifest.json",lineno:index+1,comment:_utils__WEBPACK_IMPORTED_MODULE_5__.b.trim()})}))};Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("CommentSummary",module).add("one line comment",(function(){return render({comments:createOneLineComment()})})).add("multiple line comments",(function(){return render({comments:[Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_4__.a)({filename:"manifest.json",lineno:23,comment:"This is a deprecated permission"}),Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_4__.a)({filename:"scripts/background.js",lineno:432,comment:"This function call is not allowed"}),Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_4__.a)({filename:"scripts/content-script.js",lineno:432,comment:"Calling eval is definitely not allowed."}),Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_4__.a)({filename:"lib/react.js",lineno:432,comment:"When attaching a ref to a DOM component like <div />, you get the DOM node back; when attaching a ref to a composite component like <TextInput />, you'll get the React class instance. In the latter case, you can call methods on that component if any are exposed in its class definition.\n\nNote that when the referenced component is unmounted and whenever the ref changes, the old ref will be called with null as an argument. This prevents memory leaks in the case that the instance is stored, as in the second example. Also note that when writing refs with inline function expressions as in the examples here, React sees a different function object each time so on every update, ref will be called with null immediately before it's called with the component instance."})]})})).add("one file comment",(function(){return render({comments:[Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_4__.a)({filename:"src/util/systematic-dysfunctioner.js",lineno:null,comment:"This file does not appear to be used anywhere. Is it?"})]})})).add("one version comment",(function(){return render({comments:[Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_4__.a)({filename:null,lineno:null,comment:"Your add-on looks pretty good."})]})})).add("mixed version and file comments",(function(){return render({comments:[Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_4__.a)({filename:"manifest.json",lineno:null,comment:"Nice manifest file"}),Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_4__.a)({filename:"manifest.json",lineno:12,comment:"This permission is not used anywhere. Do you still need it?"}),Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_4__.a)({filename:null,lineno:null,comment:"This is a separate overall comment."}),Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_4__.a)({filename:null,lineno:null,comment:"Really nice add-on"})]})})).add("very long comments",(function(){return render({comments:createVeryLongComments()})})).add("multiple comments on the same line",(function(){return render({comments:[Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_4__.a)({filename:"manifest.json",lineno:23,comment:"This is the first comment for this file"}),Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_4__.a)({filename:"manifest.json",lineno:23,comment:"This is the second comment for this file"})]})}))}.call(this,__webpack_require__(32)(module))},333:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6),_reducers_comments__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(18),_styles_module_scss__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(452),_styles_module_scss__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_styles_module_scss__WEBPACK_IMPORTED_MODULE_3__);__webpack_exports__.a=function CommentSummary(_ref){var comments=_ref.comments,className=_ref.className,overallComments=[],fileComments=[],_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=comments[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var _comment=_step.value;_comment.filename?fileComments.push(_comment):overallComments.push(_comment)}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}var lines=[],addComment=function addComment(comment){lines.push(comment.content||""),lines.push("")};if(overallComments.length){lines.push(Object(_utils__WEBPACK_IMPORTED_MODULE_1__.k)("Overall comment(s):")),lines.push("");var _iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=overallComments[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){addComment(_step2.value)}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{_iteratorNormalCompletion2||null==_iterator2.return||_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}}for(var groups={},_i=0,_fileComments=fileComments;_i<_fileComments.length;_i++){var _comment2=_fileComments[_i],_key=Object(_reducers_comments__WEBPACK_IMPORTED_MODULE_2__.b)({commentId:void 0,fileName:_comment2.filename,line:_comment2.lineno});groups[_key]||(groups[_key]=[]),groups[_key].push(_comment2)}for(var _i2=0,_Object$keys=Object.keys(groups);_i2<_Object$keys.length;_i2++){var _key2=_Object$keys[_i2],addedHeader=!1,_iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0;try{for(var _step3,_iterator3=groups[_key2][Symbol.iterator]();!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=!0){var _comment3=_step3.value;addedHeader||(lines.push(Object(_utils__WEBPACK_IMPORTED_MODULE_1__.k)("File:")),lines.push("".concat(_comment3.filename).concat(_comment3.lineno?"#L".concat(_comment3.lineno):"")),lines.push(""),addedHeader=!0),addComment(_comment3)}}catch(err){_didIteratorError3=!0,_iteratorError3=err}finally{try{_iteratorNormalCompletion3||null==_iterator3.return||_iterator3.return()}finally{if(_didIteratorError3)throw _iteratorError3}}}var id="CommentSummary-textarea";return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:className},react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{htmlFor:id,className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_3___default.a.label},Object(_utils__WEBPACK_IMPORTED_MODULE_1__.k)("Summary of all comments")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("textarea",{autoFocus:!0,className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_3___default.a.summary,id:id,readOnly:!0,value:lines.join("\n")}))}},334:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react_bootstrap__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(460),react_bootstrap__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(87),react_redux__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(28),_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6),_reducers_comments__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(18),_reducers_popover__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(70),_reducers_versions__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(11),_CommentSummary__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(333),_PopoverButton__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(146),_styles_module_scss__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(453),_styles_module_scss__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(_styles_module_scss__WEBPACK_IMPORTED_MODULE_10__);__webpack_exports__.a=Object(react_redux__WEBPACK_IMPORTED_MODULE_3__.connect)((function mapStateToProps(state){var currentVersion=Object(_reducers_versions__WEBPACK_IMPORTED_MODULE_7__.q)(state.versions);return{comments:currentVersion?Object(_reducers_comments__WEBPACK_IMPORTED_MODULE_5__.k)({comments:state.comments,versionId:currentVersion.id}):void 0}}))((function CommentSummaryButtonBase(_ref){var comments=_ref.comments,dispatch=_ref.dispatch,id="COMMENTS_SUMMARY";return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_PopoverButton__WEBPACK_IMPORTED_MODULE_9__.a,{id:id,content:react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.a.Title,{as:"h3"},Object(_utils__WEBPACK_IMPORTED_MODULE_4__.k)("Comments")),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.a.Content,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_CommentSummary__WEBPACK_IMPORTED_MODULE_8__.a,{comments:comments||[]}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_10___default.a.summaryControls},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__.a,{onClick:function onClick(){dispatch(_reducers_popover__WEBPACK_IMPORTED_MODULE_6__.a.hide(id))},size:"sm",variant:"primary"},Object(_utils__WEBPACK_IMPORTED_MODULE_4__.k)("Close"))))),popoverClassName:_styles_module_scss__WEBPACK_IMPORTED_MODULE_10___default.a.popover,prompt:Object(_utils__WEBPACK_IMPORTED_MODULE_4__.k)("Comment Summary")})}))},335:function(module,__webpack_exports__,__webpack_require__){"use strict";var _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(24),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(25),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(30),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(29),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(31),react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(0),react_bootstrap__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(87),react_redux__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(28),_reducers_users__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(133),_api__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(40),_utils__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(6),_styles_module_scss__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(712),_styles_module_scss__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(_styles_module_scss__WEBPACK_IMPORTED_MODULE_11__),LoginButtonBase=function(_React$Component){function LoginButtonBase(){return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__.a)(this,LoginButtonBase),Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__.a)(this,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__.a)(LoginButtonBase).apply(this,arguments))}return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__.a)(LoginButtonBase,_React$Component),Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__.a)(LoginButtonBase,[{key:"getFxaURL",value:function getFxaURL(){var _this$props=this.props,_window=_this$props._window,fxaConfig=_this$props.fxaConfig,isLocalDev=_this$props.isLocalDev,href=_window.location.href;return isLocalDev&&(href=href.replace(_window.location.origin,"")),Object(_api__WEBPACK_IMPORTED_MODULE_9__.j)({path:"/accounts/login/start/?config=".concat(fxaConfig,"&to=").concat(href)})}},{key:"render",value:function render(){var userIsLoading=this.props.userIsLoading;return react__WEBPACK_IMPORTED_MODULE_5__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__.a,{disabled:userIsLoading,size:"sm",href:this.getFxaURL(),className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_11___default.a.link},Object(_utils__WEBPACK_IMPORTED_MODULE_10__.k)("Log in"))}}]),LoginButtonBase}(react__WEBPACK_IMPORTED_MODULE_5__.Component);LoginButtonBase.defaultProps={_window:window,fxaConfig:"code-manager",isLocalDev:"true"===Object({NODE_ENV:"production",NODE_PATH:"",PUBLIC_URL:"https://addons-code-manager.cdn.mozilla.net",REACT_APP_API_HOST:"https://addons.mozilla.org",REACT_APP_REVIEWERS_HOST:"https://reviewers.addons.mozilla.org",REACT_APP_AUTH_TOKEN_PLACEHOLDER:"__AUTH_TOKEN__",REACT_APP_AUTHENTICATION_COOKIE:"frontend_auth_token",REACT_APP_DEFAULT_API_LANG:"en-US",REACT_APP_DEFAULT_API_VERSION:"v5",REACT_APP_FXA_CONFIG:"code-manager",INLINE_RUNTIME_CHUNK:"false",REACT_APP_UNSAFE_ERROR_SIMULATION:"false",REACT_APP_ENABLE_COMMENTING:"true",REACT_APP_ANALYTICS_HOST:"https://www.google-analytics.com",REACT_APP_TRACKING_ENABLED:"true",REACT_APP_TRACKING_ID:"UA-77033033-29"}).REACT_APP_IS_LOCAL_DEV};__webpack_exports__.a=Object(react_redux__WEBPACK_IMPORTED_MODULE_7__.connect)((function mapStateToProps(state){return{userIsLoading:Object(_reducers_users__WEBPACK_IMPORTED_MODULE_8__.b)(state.users)}}))(LoginButtonBase)},336:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),_styles_module_scss__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(714),_styles_module_scss__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_styles_module_scss__WEBPACK_IMPORTED_MODULE_2__);__webpack_exports__.a=function SkeletonBase(_ref){var className=_ref.className;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()(_styles_module_scss__WEBPACK_IMPORTED_MODULE_2___default.a.skeleton,className)})}},338:function(module,__webpack_exports__,__webpack_require__){"use strict";var refractor=__webpack_require__(451),refractor_default=__webpack_require__.n(refractor),text_language_text=function text(Prism){Prism.languages.text={}};text_language_text.displayName="text",text_language_text.aliases=[];var text_language=text_language_text;__webpack_require__(1468),__webpack_require__(1469);refractor_default.a.register(text_language);__webpack_exports__.a=refractor_default.a},339:function(module,__webpack_exports__,__webpack_require__){"use strict";var classCallCheck=__webpack_require__(24),createClass=__webpack_require__(25),possibleConstructorReturn=__webpack_require__(30),getPrototypeOf=__webpack_require__(29),inherits=__webpack_require__(31),classnames=__webpack_require__(5),classnames_default=__webpack_require__.n(classnames),react=__webpack_require__(0),Button=__webpack_require__(87),Form=__webpack_require__(1498),es=__webpack_require__(28),withRouter=__webpack_require__(250),PopoverButton=__webpack_require__(146),Col=__webpack_require__(698),index_es=__webpack_require__(81),Skeleton=__webpack_require__(336),utils=__webpack_require__(6),styles_module=__webpack_require__(150),styles_module_default=__webpack_require__.n(styles_module),VersionSelect_VersionSelectBase=function(_React$Component){function VersionSelectBase(){var _getPrototypeOf2,_this;Object(classCallCheck.a)(this,VersionSelectBase);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=Object(possibleConstructorReturn.a)(this,(_getPrototypeOf2=Object(getPrototypeOf.a)(VersionSelectBase)).call.apply(_getPrototypeOf2,[this].concat(args)))).onChange=function(event){var value=event.currentTarget.value;_this.props.onChange(parseInt(value,10))},_this.renderOption=function(version){var isSelectable=_this.props.isSelectable;return react.createElement("option",{className:styles_module_default.a.option,disabled:!isSelectable(version),key:version.id,value:version.id},version.version)},_this}return Object(inherits.a)(VersionSelectBase,_React$Component),Object(createClass.a)(VersionSelectBase,[{key:"render",value:function render(){var _this$props=this.props,className=_this$props.className,controlId=_this$props.controlId,formControlClassName=_this$props.formControlClassName,isLoading=_this$props.isLoading,label=_this$props.label,listedVersions=_this$props.listedVersions,unlistedVersions=_this$props.unlistedVersions,value=_this$props.value,withLeftArrow=_this$props.withLeftArrow;return react.createElement(react.Fragment,null,react.createElement(Form.a.Group,{as:Col.a,className:classnames_default()(className,styles_module_default.a.formGroup),controlId:controlId},withLeftArrow&&react.createElement(index_es.a,{icon:"long-arrow-alt-left"}),react.createElement(Form.a.Label,{className:styles_module_default.a.label},label),isLoading?react.createElement("div",{className:classnames_default()("form-control",formControlClassName,styles_module_default.a.simulatedFormControl)},react.createElement(Skeleton.a,{className:styles_module_default.a.simulatedFormControlSkeleton})):react.createElement(Form.a.Control,{as:"select",className:formControlClassName,value:value,onChange:this.onChange},listedVersions.length&&react.createElement("optgroup",{className:styles_module_default.a.listedGroup,label:Object(utils.k)("Listed")},listedVersions.map(this.renderOption)),unlistedVersions.length&&react.createElement("optgroup",{className:styles_module_default.a.unlistedGroup,label:Object(utils.k)("Unlisted")},unlistedVersions.map(this.renderOption)))))}}]),VersionSelectBase}(react.Component);VersionSelect_VersionSelectBase.defaultProps={withLeftArrow:!1};var VersionSelect=VersionSelect_VersionSelectBase,popover=__webpack_require__(70),versions=__webpack_require__(11),VersionChooser_styles_module=__webpack_require__(100),VersionChooser_styles_module_default=__webpack_require__.n(VersionChooser_styles_module),POPOVER_ID="COMPARE_VERSIONS",VersionChooser_VersionChooserBase=function(_React$Component){function VersionChooserBase(){var _getPrototypeOf2,_this;Object(classCallCheck.a)(this,VersionChooserBase);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=Object(possibleConstructorReturn.a)(this,(_getPrototypeOf2=Object(getPrototypeOf.a)(VersionChooserBase)).call.apply(_getPrototypeOf2,[this].concat(args)))).onSubmit=function(event){event.preventDefault();var _this$props=_this.props,addonId=_this$props.addonId,dispatch=_this$props.dispatch,history=_this$props.history,pendingBaseVersionId=_this$props.pendingBaseVersionId,pendingHeadVersionId=_this$props.pendingHeadVersionId;dispatch(popover.a.hide(POPOVER_ID));history.push(_this.addLocationQueryString("/".concat("en-US","/compare/").concat(addonId,"/versions/").concat(pendingBaseVersionId,"...").concat(pendingHeadVersionId,"/")))},_this.onHeadVersionChange=function(versionId){(0,_this.props.dispatch)(versions.b.setPendingHeadVersionId({versionId:versionId}))},_this.onBaseVersionChange=function(versionId){(0,_this.props.dispatch)(versions.b.setPendingBaseVersionId({versionId:versionId}))},_this}return Object(inherits.a)(VersionChooserBase,_React$Component),Object(createClass.a)(VersionChooserBase,[{key:"componentDidMount",value:function componentDidMount(){var _this$props2=this.props,_fetchVersionsList=_this$props2._fetchVersionsList,addonId=_this$props2.addonId,dispatch=_this$props2.dispatch;_this$props2.versionsMap||dispatch(_fetchVersionsList({addonId:addonId})),this.synchronize()}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.synchronize()}},{key:"synchronize",value:function synchronize(){var _this$props3=this.props,currentBaseVersionId=_this$props3.currentBaseVersionId,currentVersionId=_this$props3.currentVersionId,dispatch=_this$props3.dispatch,pendingBaseVersionId=_this$props3.pendingBaseVersionId,pendingHeadVersionId=_this$props3.pendingHeadVersionId,versionsMap=_this$props3.versionsMap;if(void 0===pendingBaseVersionId&&currentBaseVersionId)dispatch(versions.b.setPendingBaseVersionId({versionId:currentBaseVersionId}));else if(void 0===pendingHeadVersionId&&currentVersionId)dispatch(versions.b.setPendingHeadVersionId({versionId:currentVersionId}));else if(!pendingBaseVersionId){var allBaseVersions=versionsMap?versionsMap.listed.concat(versionsMap.unlisted):[];allBaseVersions.length&&dispatch(versions.b.setPendingBaseVersionId({versionId:allBaseVersions[allBaseVersions.length-1].id}))}}},{key:"addLocationQueryString",value:function addLocationQueryString(url){var history=this.props.history;if(!url.endsWith("/"))throw new Error("The URL '".concat(url,"' must end in a trailing slash"));return"".concat(url).concat(history.location.search)}},{key:"renderBrowseButton",value:function renderBrowseButton(versionId){var _this$props4=this.props,addonId=_this$props4.addonId,dispatch=_this$props4.dispatch,history=_this$props4.history,href=versionId?this.addLocationQueryString("/".concat("en-US","/browse/").concat(addonId,"/versions/").concat(versionId,"/")):void 0;return react.createElement(Button.a,{disabled:!versionId,onClick:function onClick(event){event.preventDefault(),event.stopPropagation(),dispatch(popover.a.hide(POPOVER_ID)),href&&history.push(href)},href:href},Object(utils.k)("Browse"))}},{key:"render",value:function render(){var _this$props5=this.props,_higherVersionsThan=_this$props5._higherVersionsThan,_lowerVersionsThan=_this$props5._lowerVersionsThan,pendingBaseVersionId=_this$props5.pendingBaseVersionId,pendingHeadVersionId=_this$props5.pendingHeadVersionId,versionsMap=_this$props5.versionsMap,headVersionId=String(pendingHeadVersionId||""),baseVersionId=String(pendingBaseVersionId||""),listedVersions=versionsMap?versionsMap.listed:[],unlistedVersions=versionsMap?versionsMap.unlisted:[],isLoading=!versionsMap;return react.createElement(PopoverButton.a,{id:POPOVER_ID,content:react.createElement(Form.a,{className:VersionChooser_styles_module_default.a.VersionChooser,onSubmit:this.onSubmit},react.createElement("div",{className:VersionChooser_styles_module_default.a.formRow},react.createElement(VersionSelect,{className:classnames_default()(VersionChooser_styles_module_default.a.versionSelect,VersionChooser_styles_module_default.a.baseVersionSelect),controlId:"VersionSelect-oldVersion",formControlClassName:VersionChooser_styles_module_default.a.versionSelectControl,isLoading:isLoading,isSelectable:_lowerVersionsThan(headVersionId),label:Object(utils.k)("Old version"),listedVersions:listedVersions,onChange:this.onBaseVersionChange,unlistedVersions:unlistedVersions,value:baseVersionId}),this.renderBrowseButton(baseVersionId)),react.createElement("div",{className:VersionChooser_styles_module_default.a.formRow},react.createElement(VersionSelect,{className:classnames_default()(VersionChooser_styles_module_default.a.versionSelect,VersionChooser_styles_module_default.a.headVersionSelect),controlId:"VersionSelect-newVersion",formControlClassName:VersionChooser_styles_module_default.a.versionSelectControl,isLoading:isLoading,isSelectable:_higherVersionsThan(baseVersionId),label:Object(utils.k)("New version"),listedVersions:listedVersions,onChange:this.onHeadVersionChange,unlistedVersions:unlistedVersions,value:headVersionId}),this.renderBrowseButton(headVersionId)),react.createElement(Button.a,{className:VersionChooser_styles_module_default.a.submitButton,disabled:baseVersionId===headVersionId,type:"submit",variant:"primary"},Object(utils.k)("Compare"))),popoverClassName:VersionChooser_styles_module_default.a.popover,prompt:Object(utils.k)("Compare Versions")})}}]),VersionChooserBase}(react.Component);VersionChooser_VersionChooserBase.defaultProps={_fetchVersionsList:versions.j,_higherVersionsThan:function higherVersionsThan(versionId){return function(version){return version.id>parseInt(versionId,10)}},_lowerVersionsThan:function lowerVersionsThan(versionId){return function(version){return version.id<parseInt(versionId,10)}}};var ConnectedVersionChooser=Object(es.connect)((function mapStateToProps(state,ownProps){var byAddonId=state.versions.byAddonId,addonId=ownProps.addonId;return{currentBaseVersionId:state.versions.currentBaseVersionId,currentVersionId:state.versions.currentVersionId,pendingBaseVersionId:state.versions.pendingBaseVersionId,pendingHeadVersionId:state.versions.pendingHeadVersionId,versions:state.versions,versionsMap:byAddonId[addonId]}}))(VersionChooser_VersionChooserBase);__webpack_exports__.a=Object(withRouter.a)(ConnectedVersionChooser)},342:function(module,exports,__webpack_require__){module.exports={whitespace:"styles_whitespace__1ADIm",code:"styles_code__1ScL_",change:"styles_change__3sZ--"}},4:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"o",(function(){return nextUniqueId})),__webpack_require__.d(__webpack_exports__,"l",(function(){return fakeVersionEntry})),__webpack_require__.d(__webpack_exports__,"m",(function(){return fakeVersionFile})),__webpack_require__.d(__webpack_exports__,"k",(function(){return fakeVersionAddon})),__webpack_require__.d(__webpack_exports__,"j",(function(){return fakeVersion})),__webpack_require__.d(__webpack_exports__,"i",(function(){return fakeUser})),__webpack_require__.d(__webpack_exports__,"h",(function(){return fakeExternalLinterMessage})),__webpack_require__.d(__webpack_exports__,"n",(function(){return fakeVersionsListItem})),__webpack_require__.d(__webpack_exports__,"b",(function(){return createFakeExternalLinterResult})),__webpack_require__.d(__webpack_exports__,"c",(function(){return createFakeLocation})),__webpack_require__.d(__webpack_exports__,"g",(function(){return dispatchLoadVersionInfo})),__webpack_require__.d(__webpack_exports__,"d",(function(){return createStoreWithVersion})),__webpack_require__.d(__webpack_exports__,"a",(function(){return createFakeExternalComment})),__webpack_require__.d(__webpack_exports__,"f",(function(){return dispatchComments})),__webpack_require__.d(__webpack_exports__,"e",(function(){return createStoreWithVersionComments}));var _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(27),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__(7),__webpack_require__(1)),query_string__WEBPACK_IMPORTED_MODULE_4__=(__webpack_require__(695),__webpack_require__(71)),query_string__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(query_string__WEBPACK_IMPORTED_MODULE_4__),typesafe_actions__WEBPACK_IMPORTED_MODULE_9__=(__webpack_require__(0),__webpack_require__(2),__webpack_require__(341),__webpack_require__(39),__webpack_require__(10)),_configureStore__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(26),_reducers_comments__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(18),_reducers_versions__WEBPACK_IMPORTED_MODULE_13__=(__webpack_require__(43),__webpack_require__(11)),_uniqueId=(__webpack_require__(147),__webpack_require__(145),__webpack_require__(118),__webpack_require__(85),__webpack_require__(146),0),nextUniqueId=function nextUniqueId(){return++_uniqueId},fakeVersionEntry=Object.freeze({depth:0,filename:"manifest.json",mime_category:"text",mimetype:"application/json",modified:"2017-08-15T12:01:13Z",path:"manifest.json",sha256:"some-sha",status:"M",size:123}),fakeVersionFile=Object.freeze({content:"some file content",created:"2017-08-15T12:01:13Z",download_url:"https://example.org/download/manifest.json",entries:{"manifest.json":fakeVersionEntry},hash:"some-hash",id:789,is_mozilla_signed_extension:!0,is_restart_required:!1,is_webextension:!0,permissions:[],platform:"all",selected_file:"manifest.json",size:123,status:"public",url:"http://example.com/edit/"}),fakeVersionAddon=Object.freeze({icon_url:"some-icon-url",id:111,name:{"en-US":"addon name"},slug:"addon-slug"}),fakeVersion=Object.freeze({addon:fakeVersionAddon,channel:"some channel",compatibility:{firefox:{min:"1",max:"2"}},edit_url:"http://example.com/edit/",file:fakeVersionFile,has_been_validated:!0,id:123,is_strict_compatibility_enabled:!1,license:{id:456,isCustom:!0,name:{"en-US":"license name"},text:{"en-US":"license text"},url:"http://example.com/license/"},release_notes:null,reviewed:"2017-08-15T12:01:13Z",url:"http://example.com/",validation_url:"http://example.com/validation/",validation_url_json:"http://example.com/validation/json/",version:"1.0"}),fakeExternalDiff=Object.freeze({path:"manifest.json",size:172,lines_added:2,lines_deleted:2,is_binary:!1,mode:"M",hunks:[{header:"@@ -1,6 +1,6 @@",old_start:1,new_start:1,old_lines:6,new_lines:6,changes:[{content:"{",type:"normal",old_line_number:1,new_line_number:1},{content:'    "manifest_version": 2,',type:"normal",old_line_number:2,new_line_number:2},{content:'    "version": "7",',type:"delete",old_line_number:3,new_line_number:-1},{content:'    "version": "8",',type:"insert",old_line_number:-1,new_line_number:3},{content:'    "name": "Awesome Screenshot - Capture, Annotate & More",',type:"normal",old_line_number:4,new_line_number:4},{content:'    "description": "this is a new description"',type:"delete",old_line_number:5,new_line_number:-1},{content:'    "description": "this is a new version with files"',type:"insert",old_line_number:-1,new_line_number:5},{content:"}",type:"normal",old_line_number:6,new_line_number:6}]}],old_path:"manifest.json",parent:"514a8bd3cfb1ccae67dff61e3ea174bb444dfb00",hash:"054771578d3a903264bfd16ba71e5b4808a6764b",old_ending_new_line:!0,new_ending_new_line:!1}),fakeUser=Object.freeze({average_addon_rating:4.3,biography:"I love making add-ons!",created:"2017-08-15T12:01:13Z",display_name:null,email:"bob@somewhere.com",fxa_edit_email_url:"https://example.com/settings",has_anonymous_display_name:!1,has_anonymous_username:!1,homepage:null,id:1,is_addon_developer:!1,is_artist:!1,location:null,name:"Bob",num_addons_listed:1,occupation:null,permissions:["a-fake-permission"],picture_type:"",picture_url:"https://example.com/anon_user.png",url:null,username:"user-1234"}),fakeExternalLinterMessage=Object.freeze({column:2,context:["<code>"],description:"To prevent vulnerabilities...",file:"chrome/content/youtune.js",for_appversions:{"{ec8030f7-c20a-464f-9b0e-13a3a9e97384}":["4.0b1"]},id:["UNSAFE_VAR_ASSIGNMENT"],line:226,message:"on* attribute being set using setAttribute",tier:3,type:"notice",uid:"9a07163bb74e476c96a2bd467a2bbe52"}),fakeExternalLinterResult=Object.freeze({error:null,full_report_url:"/upload/d5d993a5a2fa4b759ae2fa3b2eda2a38",upload:"d5d993a5a2fa4b759ae2fa3b2eda2a38",url:"/upload/d5d993a5a2fa4b759ae2fa3b2eda2a38/json",validation:{detected_type:"extension",ending_tier:5,errors:0,message_tree:{},messages:[fakeExternalLinterMessage],metadata:{},notices:2,success:!1,warnings:5}}),fakeVersionsListItem=(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},fakeVersion,{file:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},fakeVersion.file,{diff:fakeExternalDiff})}),{id:nextUniqueId(),channel:"unlisted",version:"1.5.0"}),createFakeExternalLinterResult=(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},fakeVersionsListItem,{id:nextUniqueId(),channel:"unlisted",version:"1.5.0"}),Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},fakeVersionsListItem,{id:nextUniqueId(),channel:"listed",version:"1.4.0"}),Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},fakeVersionsListItem,{id:nextUniqueId(),channel:"listed",version:"1.3.0"}),function createFakeExternalLinterResult(_ref2){var messages=_ref2.messages;return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},fakeExternalLinterResult,{validation:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},fakeExternalLinterResult.validation,{messages:messages.map((function(msg){return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},fakeExternalLinterMessage,{},msg)}))})})}),createFakeLocation=function createFakeLocation(){var _ref5=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},searchQuery=_ref5.searchQuery,props=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__.a)(_ref5,["searchQuery"]);return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({hash:"",key:"some-key",pathname:"/some/url",search:searchQuery?"?".concat(query_string__WEBPACK_IMPORTED_MODULE_4___default.a.stringify(searchQuery)):"",state:{}},props)},dispatchLoadVersionInfo=function dispatchLoadVersionInfo(_ref17){var store=_ref17.store,_ref17$updatePathInfo=_ref17.updatePathInfo,updatePathInfo=void 0===_ref17$updatePathInfo||_ref17$updatePathInfo,version=_ref17.version;store.dispatch(_reducers_versions__WEBPACK_IMPORTED_MODULE_13__.b.loadVersionInfo({updatePathInfo:updatePathInfo,version:version}))},createStoreWithVersion=function createStoreWithVersion(){var _ref18=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref18$version=_ref18.version,version=void 0===_ref18$version?fakeVersion:_ref18$version,_ref18$makeCurrent=_ref18.makeCurrent,makeCurrent=void 0!==_ref18$makeCurrent&&_ref18$makeCurrent,store=Object(_configureStore__WEBPACK_IMPORTED_MODULE_10__.a)();return dispatchLoadVersionInfo({store:store,version:version}),makeCurrent&&store.dispatch(_reducers_versions__WEBPACK_IMPORTED_MODULE_13__.b.setCurrentVersionId({versionId:version.id})),store},createFakeExternalComment=function createFakeExternalComment(){var comment=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({canned_response:null,comment:"Example comment about some code",id:nextUniqueId(),lineno:null,filename:null,user:{id:1,name:null,url:null,username:"some_user"},version:fakeVersion},comment)},dispatchComments=(Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_9__.createAction)("FAKE_ACTION"),function dispatchComments(){var _ref20=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref20$store=_ref20.store,store=void 0===_ref20$store?Object(_configureStore__WEBPACK_IMPORTED_MODULE_10__.a)():_ref20$store,_ref20$comments=_ref20.comments,comments=void 0===_ref20$comments?[createFakeExternalComment()]:_ref20$comments,_ref20$versionId=_ref20.versionId,versionId=void 0===_ref20$versionId?nextUniqueId():_ref20$versionId;return store.dispatch(_reducers_comments__WEBPACK_IMPORTED_MODULE_11__.a.setComments({versionId:versionId,comments:comments})),{store:store}}),createStoreWithVersionComments=function createStoreWithVersionComments(){var _ref22=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref22$versionId=_ref22.versionId,versionId=void 0===_ref22$versionId?1:_ref22$versionId,_ref22$comments=_ref22.comments,comments=void 0===_ref22$comments?[createFakeExternalComment()]:_ref22$comments,version=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},fakeVersion,{id:versionId}),store=createStoreWithVersion({version:version,makeCurrent:!0});return dispatchComments({versionId:versionId,store:store,comments:comments}),store};Object.freeze({content:"change-content",isDelete:!1,isInsert:!0,isNormal:!1,lineNumber:1,newLineNumber:void 0,oldLineNumber:1,type:"insert"}),Object.freeze({content:"change-content",new_line_number:1,old_line_number:1,type:"normal"})},40:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"j",(function(){return makeApiURL})),__webpack_require__.d(__webpack_exports__,"h",(function(){return isErrorResponse})),__webpack_require__.d(__webpack_exports__,"f",(function(){return getVersion})),__webpack_require__.d(__webpack_exports__,"g",(function(){return getVersionsList})),__webpack_require__.d(__webpack_exports__,"i",(function(){return logOutFromServer})),__webpack_require__.d(__webpack_exports__,"d",(function(){return getCurrentUser})),__webpack_require__.d(__webpack_exports__,"e",(function(){return getDiff})),__webpack_require__.d(__webpack_exports__,"a",(function(){return createOrUpdateComment})),__webpack_require__.d(__webpack_exports__,"c",(function(){return getAllComments})),__webpack_require__.d(__webpack_exports__,"b",(function(){return deleteComment}));var HttpMethod,_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(27),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(17),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1),url__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(320),url__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(url__WEBPACK_IMPORTED_MODULE_3__),loglevel__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(39),loglevel__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(loglevel__WEBPACK_IMPORTED_MODULE_4__),makeApiURL=function makeApiURL(_ref2){var _ref2$apiHost=_ref2.apiHost,apiHost=void 0===_ref2$apiHost?"https://addons.mozilla.org":_ref2$apiHost,path=_ref2.path,_ref2$prefix=_ref2.prefix,prefix=void 0===_ref2$prefix?"api":_ref2$prefix,url=_ref2.url,_ref2$useInsecureProx=_ref2.useInsecureProxy,useInsecureProxy=void 0===_ref2$useInsecureProx?"true"===Object({NODE_ENV:"production",NODE_PATH:"",PUBLIC_URL:"https://addons-code-manager.cdn.mozilla.net",REACT_APP_API_HOST:"https://addons.mozilla.org",REACT_APP_REVIEWERS_HOST:"https://reviewers.addons.mozilla.org",REACT_APP_AUTH_TOKEN_PLACEHOLDER:"__AUTH_TOKEN__",REACT_APP_AUTHENTICATION_COOKIE:"frontend_auth_token",REACT_APP_DEFAULT_API_LANG:"en-US",REACT_APP_DEFAULT_API_VERSION:"v5",REACT_APP_FXA_CONFIG:"code-manager",INLINE_RUNTIME_CHUNK:"false",REACT_APP_UNSAFE_ERROR_SIMULATION:"false",REACT_APP_ENABLE_COMMENTING:"true",REACT_APP_ANALYTICS_HOST:"https://www.google-analytics.com",REACT_APP_TRACKING_ENABLED:"true",REACT_APP_TRACKING_ID:"UA-77033033-29"}).REACT_APP_USE_INSECURE_PROXY:_ref2$useInsecureProx,_ref2$version=_ref2.version,version=void 0===_ref2$version?"v5":_ref2$version;if(path&&url)throw new Error("Cannot receive both `path` and `url` parameters.");var parts=[];if(path){parts.push(function getApiHost(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref$apiHost=_ref.apiHost,apiHost=void 0===_ref$apiHost?"https://addons.mozilla.org":_ref$apiHost,_ref$useInsecureProxy=_ref.useInsecureProxy,useInsecureProxy=void 0===_ref$useInsecureProxy?"true"===Object({NODE_ENV:"production",NODE_PATH:"",PUBLIC_URL:"https://addons-code-manager.cdn.mozilla.net",REACT_APP_API_HOST:"https://addons.mozilla.org",REACT_APP_REVIEWERS_HOST:"https://reviewers.addons.mozilla.org",REACT_APP_AUTH_TOKEN_PLACEHOLDER:"__AUTH_TOKEN__",REACT_APP_AUTHENTICATION_COOKIE:"frontend_auth_token",REACT_APP_DEFAULT_API_LANG:"en-US",REACT_APP_DEFAULT_API_VERSION:"v5",REACT_APP_FXA_CONFIG:"code-manager",INLINE_RUNTIME_CHUNK:"false",REACT_APP_UNSAFE_ERROR_SIMULATION:"false",REACT_APP_ENABLE_COMMENTING:"true",REACT_APP_ANALYTICS_HOST:"https://www.google-analytics.com",REACT_APP_TRACKING_ENABLED:"true",REACT_APP_TRACKING_ID:"UA-77033033-29"}).REACT_APP_USE_INSECURE_PROXY:_ref$useInsecureProxy;return useInsecureProxy?"":apiHost||""}({apiHost:apiHost,useInsecureProxy:useInsecureProxy})),prefix&&parts.push("/".concat(prefix)),version&&parts.push("/".concat(version));var adjustedPath=path;adjustedPath.startsWith("/")||(adjustedPath="/".concat(adjustedPath)),parts.push(adjustedPath)}else{if(!url)throw new Error("Either `path` or `url` must be defined.");var adjustedUrl=url;apiHost&&useInsecureProxy&&(adjustedUrl=adjustedUrl.replace(apiHost,"")),parts.push(adjustedUrl)}return parts.join("")},makeQueryString=function makeQueryString(query){var resolvedQuery=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},query);return Object.keys(resolvedQuery).forEach((function(key){var value=resolvedQuery[key];null!=value&&""!==value||delete resolvedQuery[key]})),url__WEBPACK_IMPORTED_MODULE_3___default.a.format({query:resolvedQuery})};!function(HttpMethod){HttpMethod.DELETE="DELETE",HttpMethod.GET="GET",HttpMethod.PATCH="PATCH",HttpMethod.POST="POST",HttpMethod.PUT="PUT"}(HttpMethod||(HttpMethod={}));var isErrorResponse=function isErrorResponse(arg){return void 0!==arg.error},callApi=function callApi(_ref3){var _ref3$_makeQueryStrin,_makeQueryString,apiState,bodyData,endpoint,endpointUrl,_ref3$includeCredenti,includeCredentials,_ref3$lang,lang,_ref3$method,method,_ref3$query,query,_ref3$version,version,headers,body,path,url,queryWithLang,response,contentType;return _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.async((function callApi$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(_ref3$_makeQueryStrin=_ref3._makeQueryString,_makeQueryString=void 0===_ref3$_makeQueryStrin?makeQueryString:_ref3$_makeQueryStrin,apiState=_ref3.apiState,bodyData=_ref3.bodyData,endpoint=_ref3.endpoint,endpointUrl=_ref3.endpointUrl,_ref3$includeCredenti=_ref3.includeCredentials,includeCredentials=void 0!==_ref3$includeCredenti&&_ref3$includeCredenti,_ref3$lang=_ref3.lang,lang=void 0===_ref3$lang?"en-US":_ref3$lang,_ref3$method=_ref3.method,method=void 0===_ref3$method?HttpMethod.GET:_ref3$method,_ref3$query=_ref3.query,query=void 0===_ref3$query?{}:_ref3$query,_ref3$version=_ref3.version,version=void 0===_ref3$version?"v5":_ref3$version,headers={},apiState.authToken&&(headers.Authorization="Bearer ".concat(apiState.authToken)),bodyData&&(headers["Content-Type"]="application/json",body=JSON.stringify(bodyData)),!endpointUrl||!endpoint){_context.next=6;break}throw new Error("endpoint and endpointUrl cannot both be defined at once");case 6:if(!endpointUrl){_context.next=10;break}url=endpointUrl,_context.next=19;break;case 10:if(!endpoint){_context.next=18;break}(path=endpoint).startsWith("/")||(path="/".concat(path)),path.endsWith("/")||(path="".concat(path,"/")),queryWithLang=lang?Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},query,{lang:lang}):query,path="".concat(path).concat(_makeQueryString(queryWithLang)),_context.next=19;break;case 18:throw new Error("Either endpoint or endpointUrl must be defined");case 19:return _context.prev=19,_context.next=22,_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.awrap(fetch(makeApiURL({path:path,url:url,version:version}),{body:body,credentials:includeCredentials?"include":void 0,headers:headers,method:method}));case 22:if((response=_context.sent).ok){_context.next=25;break}throw new Error("Unexpected status for ".concat(method," ").concat(path,": ").concat(response.status));case 25:return contentType=(response.headers.get("content-type")||"").toLowerCase(),_context.next=28,_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.awrap(contentType.startsWith("application/json")?response.json():response.text());case 28:return _context.abrupt("return",_context.sent);case 31:return _context.prev=31,_context.t0=_context.catch(19),loglevel__WEBPACK_IMPORTED_MODULE_4___default.a.debug("Error caught in callApi():",_context.t0),_context.abrupt("return",{error:_context.t0});case 35:case"end":return _context.stop()}}),null,null,[[19,31]])},fetchAllPages=function fetchAllPages(getNextResponse){var _ref4,_ref4$maxAllowedPages,maxAllowedPages,results,nextUrl,page,response,_args2=arguments;return _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.async((function fetchAllPages$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:_ref4=_args2.length>1&&void 0!==_args2[1]?_args2[1]:{},_ref4$maxAllowedPages=_ref4.maxAllowedPages,maxAllowedPages=void 0===_ref4$maxAllowedPages?100:_ref4$maxAllowedPages,results=[],nextUrl=null,page=1;case 4:if(!(page<=maxAllowedPages)){_context2.next=19;break}return _context2.next=7,_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.awrap(getNextResponse(nextUrl));case 7:if(response=_context2.sent,!isErrorResponse(response)){_context2.next=10;break}return _context2.abrupt("return",response);case 10:if(results=results.concat(response.results),!response.next){_context2.next=15;break}nextUrl=response.next,_context2.next=16;break;case 15:return _context2.abrupt("return",{count:results.length,next:null,page_count:1,page_size:results.length,previous:null,results:results});case 16:page++,_context2.next=4;break;case 19:throw new Error("Fetched too many pages (maxAllowedPages=".concat(maxAllowedPages,")"));case 20:case"end":return _context2.stop()}}))},getVersion=function getVersion(_ref5){var apiState,path,addonId,versionId;return _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.async((function getVersion$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return apiState=_ref5.apiState,path=_ref5.path,addonId=_ref5.addonId,versionId=_ref5.versionId,_context3.abrupt("return",callApi({apiState:apiState,endpoint:"reviewers/addon/".concat(addonId,"/versions/").concat(versionId),query:path?{file:path}:void 0}));case 2:case"end":return _context3.stop()}}))},getVersionsList=function getVersionsList(_ref6){var apiState,addonId;return _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.async((function getVersionsList$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return apiState=_ref6.apiState,addonId=_ref6.addonId,_context4.abrupt("return",callApi({apiState:apiState,endpoint:"reviewers/addon/".concat(addonId,"/versions/")}));case 2:case"end":return _context4.stop()}}))},logOutFromServer=function logOutFromServer(apiState){return _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.async((function logOutFromServer$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _context5.abrupt("return",callApi({apiState:apiState,includeCredentials:!0,endpoint:"accounts/session",method:HttpMethod.DELETE}));case 1:case"end":return _context5.stop()}}))},getCurrentUser=function getCurrentUser(apiState){return _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.async((function getCurrentUser$(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return _context6.abrupt("return",callApi({apiState:apiState,endpoint:"/accounts/profile/"}));case 1:case"end":return _context6.stop()}}))},getDiff=function getDiff(_ref7){var addonId,apiState,baseVersionId,headVersionId,path;return _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.async((function getDiff$(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:return addonId=_ref7.addonId,apiState=_ref7.apiState,baseVersionId=_ref7.baseVersionId,headVersionId=_ref7.headVersionId,path=_ref7.path,_context7.abrupt("return",callApi({apiState:apiState,endpoint:"reviewers/addon/".concat(addonId,"/versions/").concat(baseVersionId,"/compare_to/").concat(headVersionId),query:path?{file:path}:void 0}));case 2:case"end":return _context7.stop()}}))},createOrUpdateComment=function createOrUpdateComment(_ref8){var _ref8$_callApi,_callApi,addonId,apiState,cannedResponseId,comment,commentId,fileName,line,versionId,endpoint;return _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.async((function createOrUpdateComment$(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:if(_ref8$_callApi=_ref8._callApi,_callApi=void 0===_ref8$_callApi?callApi:_ref8$_callApi,addonId=_ref8.addonId,apiState=_ref8.apiState,cannedResponseId=_ref8.cannedResponseId,comment=_ref8.comment,commentId=_ref8.commentId,fileName=_ref8.fileName,line=_ref8.line,versionId=_ref8.versionId,void 0!==cannedResponseId||void 0!==comment){_context8.next=3;break}throw new Error("Either cannedResponseId or comment must be specified");case 3:if(void 0===cannedResponseId||void 0===comment){_context8.next=5;break}throw new Error("cannedResponseId and comment cannot both be specified");case 5:return endpoint="reviewers/addon/".concat(addonId,"/versions/").concat(versionId,"/draft_comments"),commentId&&(endpoint="".concat(endpoint,"/").concat(commentId)),_context8.abrupt("return",_callApi({apiState:apiState,bodyData:{canned_response:cannedResponseId,comment:comment,filename:fileName,lineno:line},endpoint:endpoint,method:commentId?HttpMethod.PATCH:HttpMethod.POST}));case 8:case"end":return _context8.stop()}}))},getComments=function getComments(_ref9){var _ref9$_callApi,_callApi,addonId,apiState,endpointUrl,versionId,endpoint;return _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.async((function getComments$(_context9){for(;;)switch(_context9.prev=_context9.next){case 0:return _ref9$_callApi=_ref9._callApi,_callApi=void 0===_ref9$_callApi?callApi:_ref9$_callApi,addonId=_ref9.addonId,apiState=_ref9.apiState,endpointUrl=_ref9.endpointUrl,versionId=_ref9.versionId,endpointUrl||(endpoint="reviewers/addon/".concat(addonId,"/versions/").concat(versionId,"/draft_comments")),_context9.abrupt("return",_callApi({apiState:apiState,endpointUrl:endpointUrl||void 0,endpoint:endpoint,method:HttpMethod.GET}));case 3:case"end":return _context9.stop()}}))},getAllComments=function getAllComments(_ref10){var _ref10$_fetchAllPages,_fetchAllPages,_ref10$_getComments,_getComments,params;return _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.async((function getAllComments$(_context10){for(;;)switch(_context10.prev=_context10.next){case 0:return _ref10$_fetchAllPages=_ref10._fetchAllPages,_fetchAllPages=void 0===_ref10$_fetchAllPages?fetchAllPages:_ref10$_fetchAllPages,_ref10$_getComments=_ref10._getComments,_getComments=void 0===_ref10$_getComments?getComments:_ref10$_getComments,params=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__.a)(_ref10,["_fetchAllPages","_getComments"]),_context10.abrupt("return",_fetchAllPages((function(nextUrl){return _getComments(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},params,{endpointUrl:nextUrl}))})));case 2:case"end":return _context10.stop()}}))},deleteComment=function deleteComment(_ref11){var _ref11$_callApi,_callApi,addonId,commentId,apiState,versionId;return _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.async((function deleteComment$(_context11){for(;;)switch(_context11.prev=_context11.next){case 0:return _ref11$_callApi=_ref11._callApi,_callApi=void 0===_ref11$_callApi?callApi:_ref11$_callApi,addonId=_ref11.addonId,commentId=_ref11.commentId,apiState=_ref11.apiState,versionId=_ref11.versionId,_context11.abrupt("return",_callApi({apiState:apiState,endpoint:"reviewers/addon/".concat(addonId,"/versions/").concat(versionId,"/draft_comments/").concat(commentId),method:HttpMethod.DELETE}));case 2:case"end":return _context11.stop()}}))}},43:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return createInternalMessage})),__webpack_require__.d(__webpack_exports__,"f",(function(){return getMessageMap})),__webpack_require__.d(__webpack_exports__,"e",(function(){return findMostSevereType})),__webpack_require__.d(__webpack_exports__,"g",(function(){return getMessagesForPath})),__webpack_require__.d(__webpack_exports__,"a",(function(){return actions})),__webpack_require__.d(__webpack_exports__,"d",(function(){return fetchLinterMessagesIfNeeded})),__webpack_require__.d(__webpack_exports__,"h",(function(){return selectMessageMap}));var _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(17),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(86),loglevel__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(39),loglevel__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(loglevel__WEBPACK_IMPORTED_MODULE_3__),typesafe_actions__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(10),_errors__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(82),_api__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(40),createAction=typesafe_actions__WEBPACK_IMPORTED_MODULE_4__.deprecated.createAction,createInternalMessage=function createInternalMessage(message){return{code:message.id,column:message.column,description:Array.isArray(message.description)?message.description:[message.description],file:message.file,line:message.line,message:message.message,type:message.type,uid:message.uid}},getMessageMap=function getMessageMap(result){var msgMap={byPath:{},general:[]};return result.validation.messages.forEach((function(message){var internalMessage=createInternalMessage(message);if(message.file){msgMap.byPath[message.file]||(msgMap.byPath[message.file]={global:[],byLine:{}});var map=msgMap.byPath[message.file];message.line?(map.byLine[message.line]||(map.byLine[message.line]=[]),map.byLine[message.line].push(internalMessage)):map.global.push(internalMessage)}else msgMap.general.push(internalMessage)})),msgMap},findMostSevereType=function findMostSevereType(messages){if(!messages.length)throw new Error('"messages" cannot be empty');for(var allTypes=messages.map((function(msg){return msg.type})),_i=0,_orderedTypes=["error","warning","notice"];_i<_orderedTypes.length;_i++){var type=_orderedTypes[_i];if(allTypes.includes(type))return type}throw new Error("Linter messages all have unknown types: ".concat(allTypes.join(", ")))},getMessagesForPath=function getMessagesForPath(messages){var allowedKeys=["global","byLine"];Object.keys(messages).forEach((function(key){if(!allowedKeys.includes(key))throw new Error('Unexpected key "'.concat(key,'" found.'))}));var allMessages=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__.a)(messages.global);return Object.keys(messages.byLine).forEach((function(key){allMessages.push.apply(allMessages,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__.a)(messages.byLine[parseInt(key,10)]))})),allMessages},initialState={forVersionId:void 0,isLoading:!1,messageMap:void 0},actions={abortFetchLinterResult:createAction("ABORT_FETCH_LINTER_RESULT",(function(resolve){return function(payload){return resolve(payload)}})),beginFetchLinterResult:createAction("BEGIN_FETCH_LINTER_RESULT",(function(resolve){return function(payload){return resolve(payload)}})),loadLinterResult:createAction("LOAD_LINTER_RESULT",(function(resolve){return function(payload){return resolve(payload)}}))},fetchLinterMessagesIfNeeded=function fetchLinterMessagesIfNeeded(_ref){var url=_ref.url,versionId=_ref.versionId;return function _callee(dispatch,getState){var _getState,linter,response,result;return _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.async((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(_getState=getState(),!(linter=_getState.linter).isLoading||linter.forVersionId!==versionId){_context.next=4;break}return loglevel__WEBPACK_IMPORTED_MODULE_3___default.a.debug("Aborting because linter messages are already being fetched"),_context.abrupt("return");case 4:return dispatch(actions.beginFetchLinterResult({versionId:versionId})),_context.next=7,_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.awrap(fetch(Object(_api__WEBPACK_IMPORTED_MODULE_6__.j)({url:url}),{credentials:"include"}));case 7:if(response=_context.sent,_context.prev=8,response.ok){_context.next=11;break}throw new Error("Got status ".concat(response.status," for URL ").concat(url));case 11:return _context.next=13,_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.awrap(response.json());case 13:result=_context.sent,dispatch(actions.loadLinterResult({versionId:versionId,result:result})),_context.next=21;break;case 17:_context.prev=17,_context.t0=_context.catch(8),dispatch(_errors__WEBPACK_IMPORTED_MODULE_5__.a.addError({error:_context.t0})),dispatch(actions.abortFetchLinterResult({versionId:versionId}));case 21:case"end":return _context.stop()}}),null,null,[[8,17]])}},selectMessageMap=function selectMessageMap(linterState,versionId){if(linterState.forVersionId===versionId)return linterState.messageMap};__webpack_exports__.c=function reducer(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:initialState,action=arguments.length>1?arguments[1]:void 0;switch(action.type){case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_4__.getType)(actions.beginFetchLinterResult):return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},state,{forVersionId:action.payload.versionId,messageMap:void 0,isLoading:!0});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_4__.getType)(actions.abortFetchLinterResult):return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},state,{forVersionId:action.payload.versionId,messageMap:{byPath:{},general:[]},isLoading:!1});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_4__.getType)(actions.loadLinterResult):return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},state,{forVersionId:action.payload.versionId,messageMap:getMessageMap(action.payload.result),isLoading:!1});default:return state}}},447:function(module,exports,__webpack_require__){module.exports={label:"styles_label__37BrK",toggleLeft:"styles_toggleLeft__1CsU0"}},450:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="import type {BrowserTab} from './tab';\n\nexport type TabListMessage = {|\n  action: 'tabListChanged',\n  data: {tabs: Array<BrowserTab>},\n|};\n\nclass Background {\n  tabList: Array<BrowserTab>;\n  visitedTabs: Array<BrowserTab>;\n  popupIsOpen: boolean;\n\n  constructor() {\n    this.visitedTabs = [];\n    this.tabList = [];\n    this.popupIsOpen = false;\n\n    chrome.tabs.onActivated.addListener(this.onActivated);\n    chrome.tabs.onUpdated.addListener(this.onTabsUpdated);\n    chrome.tabs.onRemoved.addListener(this.onTabRemoved);\n\n    chrome.runtime.onMessage.addListener((message, sender, sendResponse) => {\n      if (!message.background) {\n        return;\n      }\n      console.log('Background: got message:', message);\n\n      let readMessage;\n      switch (message.action) {\n        case 'getTabs':\n          readMessage = this.getTabsForPopup();\n          break;\n        case 'openPopup':\n          readMessage = this.onPopupOpen();\n          break;\n        case 'closePopup':\n          readMessage = this.onPopupClose();\n          break;\n        default:\n          throw new Error(\n            `Background got an unexpected action`);\n      }\n\n      readMessage.then(reply => sendResponse(reply))\n        .catch(error => {\n          console.error('Background: error reading message', error);\n        });\n\n      return true;\n    });\n  }\n\n  onPopupOpen() {\n    this.popupIsOpen = true;\n    return Promise.resolve();\n  }\n\n  onPopupClose() {\n    this.popupIsOpen = false;\n    return Promise.resolve();\n  }\n\n  sendToPopup(message) {\n    return new Promise((resolve, reject) => {\n      const id = undefined;\n      const options = undefined;\n      chrome.runtime.sendMessage(\n        id,\n        {\n          popup: true,\n          ...message,\n        },\n        options,\n        (result) => {\n          if (chrome.runtime.lastError) {\n            console.log(\n              'background: got error:', chrome.runtime.lastError);\n            reject(chrome.runtime.lastError);\n          } else {\n            resolve(result);\n          }\n        }\n      );\n    });\n  }\n\n  onTabsUpdated = (tabId, changeInfo, tab) => {\n    console.log(`background: Tab was updated`, changeInfo);\n    this.visitedTabs = this.visitedTabs.map(\n      oldTab => oldTab.id === tab.id ? tab : oldTab);\n    this.tabList = this.tabList.map(\n      oldTab => oldTab.id === tab.id ? tab : oldTab);\n\n    if (this.popupIsOpen) {\n      const message: TabListMessage = {\n        action: 'tabListChanged',\n        data: {tabs: this.tabList},\n      };\n      this.sendToPopup(message);\n    }\n  }\n\n  onTabRemoved = (tabId) => {\n    console.log(`background: Tab was removed`);\n    this.visitedTabs = this.visitedTabs.filter(tab => tab.id !== tabId);\n    this.tabList = this.tabList.filter(tab => tab.id !== tabId);\n\n    if (this.popupIsOpen) {\n      this.sendToPopup({\n        action: 'tabListChanged',\n        data: {tabs: this.tabList},\n      });\n    }\n  }\n\n  onActivated = (activeInfo) => {\n    const {tabId} = activeInfo\n    this.getTab(tabId).then(tab => {\n      this.visitedTabs.unshift(tab);\n      if (this.visitedTabs.length > 2) {\n        this.visitedTabs.pop();\n      }\n      console.log(`background: Active tab changed`);\n    });\n  }\n\n  getTab(tabId) {\n    return new Promise((resolve, reject) => {\n      chrome.tabs.get(tabId, tab => {\n        if (chrome.runtime.lastError) {\n          return reject(chrome.runtime.lastError);\n        }\n        resolve(tab);\n      });\n    });\n  }\n\n  queryTabs(query) {\n    return new Promise((resolve, reject) => {\n      chrome.tabs.query(query, tabs => {\n        if (chrome.runtime.lastError) {\n          return reject(chrome.runtime.lastError);\n        }\n        resolve(tabs);\n      });\n    });\n  }\n\n  getTabsForPopup = () => {\n    return this.queryTabs({audible: true})\n      .then((audibleTabs) => {\n        const newTabList = [];\n        if (this.visitedTabs[1]) {\n          // Put the last viewed site at the top of the list so you\n          // can easily jump between what you're working on and what\n          // you're listening to.\n          newTabList.push(this.visitedTabs[1]);\n        }\n\n        function addUniqueTabs(tabList) {\n          const existingIds = new Set(newTabList.map(tab => tab.id));\n          tabList.forEach(tab => {\n            if (!existingIds.has(tab.id)) {\n              newTabList.push(tab);\n            }\n          });\n        }\n\n        addUniqueTabs(audibleTabs);\n        // Keep inaudible tabs around since the music may have just been paused\n        addUniqueTabs(this.tabList);\n\n        while (newTabList.length > 10) {\n          newTabList.pop();\n        }\n\n        this.tabList = newTabList;\n        return this.tabList;\n      })\n      .catch((error) => {\n        console.log('background: getTabsForPopup: error:', error);\n      });\n  }\n\n  listen() {\n    console.log('background: listening for info about audible websites');\n  }\n}\n\nconst background = new Background();\nbackground.listen();\n"},452:function(module,exports,__webpack_require__){module.exports={label:"styles_label__3bF-p",summary:"styles_summary__1jlCD"}},453:function(module,exports,__webpack_require__){module.exports={popover:"styles_popover__3WiIf",summaryControls:"styles_summaryControls__24Dfi"}},454:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="diff --git a/src/components/DiffView.test.tsx b/src/components/DiffView.test.tsx\nindex 5ca1a30..4e2c90f 100644\n--- a/src/components/DiffView.test.tsx\n+++ b/src/components/DiffView.test.tsx\n@@ -35,6 +35,8 @@ it('defaults the viewType to unified', () => {\n it('renders with a specified viewType', () => {\n   const viewType = 'split';\n   const root = render({ viewType });\n+\n+  expect(root).toHaveProp('viewType', viewType);\n });"},455:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a='diff --git a/manifest.bundle.js b/manifest.bundle.js\nindex 5ca1a30..4e2c90f 100644\n--- a/manifest.bundle.js\n+++ b/manifest.bundle.js\n@@ -1 +1 @@\n+(function(a){function b(c){if(d[c])return d[c].exports;var e=d[c]={i:c,l:!1,exports:{}};return a[c].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c=window.webpackJsonp;window.webpackJsonp=function(d,f,g){for(var h,j,k,l=0,i=[];l<d.length;l++)j=d[l],e[j]&&i.push(e[j][0]),e[j]=0;for(h in f)Object.prototype.hasOwnProperty.call(f,h)&&(a[h]=f[h]);for(c&&c(d,f,g);i.length;)i.shift()();if(g)for(l=0;l<g.length;l++)k=b(b.s=g[l]);return k};var d={},e={11:0};b.m=a,b.c=d,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a["default"]}:function(){return a};return b.d(c,"a",c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p="",b.oe=function(a){throw console.error(a),a}})([]);'},456:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="diff --git a/src/components/DiffView/index.tsx b/src/components/DiffView/index.tsx\nindex b7ee4f8..08a29b0 100644\n--- a/src/components/DiffView/index.tsx\n+++ b/src/components/DiffView/index.tsx\n@@ -1,3 +1,10 @@\n import * as React from 'react';\n-import { Diff, DiffProps, parseDiff } from 'react-diff-view';\n+import {\n+  Decoration,\n+  Diff,\n+  DiffProps,\n+  Hunk,\n+  HunkInfo,\n+  parseDiff,\n+} from 'react-diff-view';\n\n@@ -16,3 +23,14 @@ class DiffView extends React.Component<Props> {\n\n-  render = () => {\n+  renderHunk(hunk: HunkInfo) {\n+    console.log({ hunk });\n+    return [\n+      <Decoration key={`decoration-${hunk.content}`}>\n+        {hunk.content}\n+      </Decoration>,\n+      // @ts-ignore\n+      <Hunk key={`hunk-${hunk.content}`} hunk={hunk} />,\n+    ];\n+  }\n+\n+  render() {\n     const { diff, viewType } = this.props;\n@@ -29,3 +47,5 @@ class DiffView extends React.Component<Props> {\n             viewType={viewType}\n-          />\n+          >\n+            {(hunks: HunkInfo[]) => hunks.map(this.renderHunk)}\n+          </Diff>\n         ))}\n@@ -33,3 +53,3 @@ class DiffView extends React.Component<Props> {\n     );\n-  };\n+  }\n }"},457:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="diff --git a/src/reducers/versions.tsx b/src/reducers/versions.tsx\ndeleted file mode 100644\nindex ba61d34..0000000\n--- a/src/reducers/versions.tsx\n+++ /dev/null\n@@ -1,1394 +0,0 @@\n-import { Reducer } from 'redux';\n-import { ActionType, createAction, getType } from 'typesafe-actions';\n-import log from 'loglevel';\n-import {\n-  ChangeInfo,\n-  DiffInfo,\n-  DiffInfoType,\n-  HunkInfo,\n-  getChangeKey,\n-} from 'react-diff-view';\n-import { push } from 'connected-react-router';\n-\n-import { ThunkActionCreator } from '../configureStore';\n-import { getDiff, getVersion, getVersionsList, isErrorResponse } from '../api';\n-import {\n-  LocalizedStringMap,\n-  createAdjustedQueryString,\n-  extractNumber,\n-} from '../utils';\n-import { actions as errorsActions } from './errors';\n-import {\n-  ROOT_PATH,\n-  RelativePathPosition,\n-  findRelativePathWithDiff,\n-} from './fileTree';\n-\n-export enum ScrollTarget {\n-  firstDiff = 'firstDiff',\n-  lastDiff = 'lastDiff',\n-}\n-\n-type VersionCompatibility = {\n-  [appName: string]: {\n-    min: string;\n-    max: string;\n-  };\n-};\n-\n-type VersionLicense = {\n-  id: number;\n-  isCustom: boolean;\n-  name: LocalizedStringMap;\n-  text: LocalizedStringMap;\n-  url: string;\n-};\n-\n-export type VersionEntryStatus = '' | 'M' | 'A' | 'D' | 'R' | 'C';\n-export type VersionEntryType = 'image' | 'directory' | 'text' | 'binary';\n-\n-export type ExternalVersionEntry = {\n-  depth: number;\n-  filename: string;\n-  mime_category: VersionEntryType;\n-  mimetype: string;\n-  modified: string;\n-  path: string;\n-  sha256: string;\n-  size: number | null;\n-  status?: VersionEntryStatus;\n-};\n-\n-type PartialExternalVersionFile = {\n-  created: string;\n-  download_url: string | null;\n-  entries: {\n-    [nodeName: string]: ExternalVersionEntry;\n-  };\n-  hash: string;\n-  id: number;\n-  is_mozilla_signed_extension: boolean;\n-  is_restart_required: boolean;\n-  is_webextension: boolean;\n-  permissions: string[];\n-  platform: string;\n-  selected_file: string;\n-  size: number;\n-  status: string;\n-  url: string;\n-};\n-\n-export type ExternalVersionAddon = {\n-  icon_url: string;\n-  id: number;\n-  name: LocalizedStringMap;\n-  slug: string;\n-};\n-\n-type PartialExternalVersion = {\n-  addon: ExternalVersionAddon;\n-  channel: string;\n-  compatibility: VersionCompatibility;\n-  edit_url: string;\n-  has_been_validated: boolean;\n-  id: number;\n-  is_strict_compatibility_enabled: boolean;\n-  license: VersionLicense;\n-  release_notes: LocalizedStringMap | null;\n-  reviewed: string;\n-  url: string;\n-  validation_url: string;\n-  validation_url_json: string;\n-  version: string;\n-};\n-\n-export type ExternalChange = {\n-  content: string;\n-  new_line_number: number;\n-  old_line_number: number;\n-  type: 'normal' | 'delete' | 'insert';\n-};\n-\n-export type ExternalHunk = {\n-  changes: ExternalChange[];\n-  header: string;\n-  new_lines: number;\n-  new_start: number;\n-  old_lines: number;\n-  old_start: number;\n-};\n-\n-type ExternalDiff = {\n-  hash: string;\n-  hunks: ExternalHunk[];\n-  is_binary: boolean;\n-  lines_added: number;\n-  lines_deleted: number;\n-  mode: string;\n-  new_ending_new_line: boolean;\n-  old_ending_new_line: boolean;\n-  old_path: string;\n-  parent: string;\n-  path: string;\n-  size: number;\n-};\n-\n-export type ExternalVersionFileWithContent = PartialExternalVersionFile & {\n-  content: string;\n-};\n-\n-export type ExternalVersionFileWithDiff = PartialExternalVersionFile & {\n-  diff: ExternalDiff | null;\n-};\n-\n-export type ExternalVersionWithContent = PartialExternalVersion & {\n-  file: ExternalVersionFileWithContent;\n-};\n-\n-export type ExternalVersionWithDiff = PartialExternalVersion & {\n-  file: ExternalVersionFileWithDiff;\n-};\n-\n-// This is how we store file information, but the getVersionFile selector\n-// returns more info, which is defined in VersionFile, below.\n-type InternalVersionFile = {\n-  content: string;\n-  created: string;\n-  downloadURL: string | null;\n-  id: number;\n-  size: number;\n-};\n-\n-export type VersionFile = {\n-  content: string;\n-  created: string;\n-  downloadURL: string | null;\n-  // This is the basename of the file.\n-  filename: string;\n-  id: number;\n-  mimeType: string;\n-  // This is the relative path to the file, including directories.\n-  path: string;\n-  sha256: string;\n-  size: number;\n-  type: VersionEntryType;\n-  version: string;\n-};\n-\n-export type VersionEntry = {\n-  depth: number;\n-  filename: string;\n-  mimeType: string;\n-  modified: string;\n-  path: string;\n-  sha256: string;\n-  status?: VersionEntryStatus;\n-  type: VersionEntryType;\n-};\n-\n-type VersionAddon = {\n-  iconUrl: string;\n-  id: number;\n-  name: LocalizedStringMap;\n-  slug: string;\n-};\n-\n-export type Version = {\n-  addon: VersionAddon;\n-  comparedToVersionId: null | number;\n-  entries: VersionEntry[];\n-  expandedPaths: string[];\n-  id: number;\n-  reviewed: string;\n-  selectedPath: string;\n-  validationURL: string;\n-  visibleSelectedPath: string | null;\n-  version: string;\n-};\n-\n-export type VersionsListItem = {\n-  channel: 'unlisted' | 'listed';\n-  id: number;\n-  version: string;\n-};\n-\n-export type ExternalVersionsListItem = VersionsListItem;\n-\n-export type ExternalVersionsList = ExternalVersionsListItem[];\n-\n-export type VersionsList = VersionsListItem[];\n-\n-export type VersionsMap = {\n-  listed: VersionsList;\n-  unlisted: VersionsList;\n-};\n-\n-export type CompareInfo = {\n-  diff: DiffInfo | null;\n-  mimeType: string;\n-};\n-\n-export const actions = {\n-  loadVersionFile: createAction('LOAD_VERSION_FILE', (resolve) => {\n-    return (payload: { path: string; version: ExternalVersionWithContent }) =>\n-      resolve(payload);\n-  }),\n-  loadVersionInfo: createAction('LOAD_VERSION_INFO', (resolve) => {\n-    return (payload: {\n-      version: ExternalVersionWithContent | ExternalVersionWithDiff;\n-      comparedToVersionId?: number;\n-    }) => resolve(payload);\n-  }),\n-  updateSelectedPath: createAction('UPDATE_SELECTED_PATH', (resolve) => {\n-    return (payload: { selectedPath: string; versionId: number }) =>\n-      resolve(payload);\n-  }),\n-  setCurrentVersionId: createAction('SET_CURRENT_VERSION_ID', (resolve) => {\n-    return (payload: { versionId: number }) => resolve(payload);\n-  }),\n-  setVisibleSelectedPath: createAction(\n-    'SET_VISIBLE_SELECTED_PATH',\n-    (resolve) => {\n-      return (payload: { path: string | null; versionId: number }) =>\n-        resolve(payload);\n-    },\n-  ),\n-  toggleExpandedPath: createAction('TOGGLE_EXPANDED_PATH', (resolve) => {\n-    return (payload: { path: string; versionId: number }) => resolve(payload);\n-  }),\n-  expandTree: createAction('EXPAND_TREE', (resolve) => {\n-    return (payload: { versionId: number }) => resolve(payload);\n-  }),\n-  collapseTree: createAction('COLLAPSE_TREE', (resolve) => {\n-    return (payload: { versionId: number }) => resolve(payload);\n-  }),\n-  loadVersionsList: createAction('LOAD_VERSIONS_LIST', (resolve) => {\n-    return (payload: { addonId: number; versions: ExternalVersionsList }) =>\n-      resolve(payload);\n-  }),\n-  beginFetchDiff: createAction('BEGIN_FETCH_DIFF', (resolve) => {\n-    return (payload: {\n-      addonId: number;\n-      baseVersionId: number;\n-      headVersionId: number;\n-      path?: string;\n-    }) => resolve(payload);\n-  }),\n-  beginFetchVersionFile: createAction('BEGIN_FETCH_VERSION_FILE', (resolve) => {\n-    return (payload: { path: string; versionId: number }) => resolve(payload);\n-  }),\n-  abortFetchDiff: createAction('ABORT_FETCH_DIFF', (resolve) => {\n-    return (payload: {\n-      addonId: number;\n-      baseVersionId: number;\n-      headVersionId: number;\n-      path?: string;\n-    }) => resolve(payload);\n-  }),\n-  abortFetchVersionFile: createAction('ABORT_FETCH_VERSION_FILE', (resolve) => {\n-    return (payload: { path: string; versionId: number }) => resolve(payload);\n-  }),\n-  loadDiff: createAction('LOAD_DIFF', (resolve) => {\n-    return (payload: {\n-      addonId: number;\n-      baseVersionId: number;\n-      headVersionId: number;\n-      version: ExternalVersionWithDiff;\n-      path?: string;\n-    }) => resolve(payload);\n-  }),\n-  beginFetchVersion: createAction('BEGIN_FETCH_VERSION', (resolve) => {\n-    return (payload: { versionId: number }) => resolve(payload);\n-  }),\n-  abortFetchVersion: createAction('ABORT_FETCH_VERSION', (resolve) => {\n-    return (payload: { versionId: number }) => resolve(payload);\n-  }),\n-};\n-\n-export type VersionsState = {\n-  byAddonId: {\n-    [addonId: number]: VersionsMap;\n-  };\n-  compareInfo: {\n-    [compareInfoKey: string]:\n-      | CompareInfo // data successfully loaded\n-      | null // an error has occured\n-      | undefined; // data not fetched yet\n-  };\n-  compareInfoIsLoading: {\n-    [compareInfoKey: string]: boolean;\n-  };\n-  currentVersionId: number | undefined;\n-  versionInfo: {\n-    [versionId: number]:\n-      | Version // data successfully loaded\n-      | null // an error has occured\n-      | undefined; // data not fetched yet\n-  };\n-  versionFiles: {\n-    [versionId: number]: {\n-      [path: string]:\n-        | InternalVersionFile // data successfully loaded\n-        | null // an error has occured\n-        | undefined; // data not fetched yet\n-    };\n-  };\n-  versionFilesLoading: {\n-    [versionId: number]: {\n-      [path: string]: boolean;\n-    };\n-  };\n-};\n-\n-export const initialState: VersionsState = {\n-  byAddonId: {},\n-  compareInfo: {},\n-  compareInfoIsLoading: {},\n-  currentVersionId: undefined,\n-  versionFiles: {},\n-  versionFilesLoading: {},\n-  versionInfo: {},\n-};\n-\n-export const getParentFolders = (path: string): string[] => {\n-  const parents = [ROOT_PATH];\n-\n-  const folders = path.split('/');\n-\n-  while (folders.length > 1) {\n-    folders.pop();\n-    parents.push(folders.join('/'));\n-  }\n-\n-  return parents;\n-};\n-\n-export const createInternalVersionFile = (\n-  file: ExternalVersionFileWithContent,\n-): InternalVersionFile => {\n-  return {\n-    content: file.content,\n-    created: file.created,\n-    downloadURL: file.download_url,\n-    id: file.id,\n-    size: file.size,\n-  };\n-};\n-\n-export const createInternalVersionEntry = (\n-  entry: ExternalVersionEntry,\n-): VersionEntry => {\n-  return {\n-    depth: entry.depth,\n-    filename: entry.filename,\n-    mimeType: entry.mimetype,\n-    modified: entry.modified,\n-    path: entry.path,\n-    sha256: entry.sha256,\n-    status: entry.status,\n-    type: entry.mime_category,\n-  };\n-};\n-\n-export const createInternalVersionAddon = (\n-  addon: ExternalVersionAddon,\n-): VersionAddon => {\n-  return {\n-    iconUrl: addon.icon_url,\n-    id: addon.id,\n-    name: addon.name,\n-    slug: addon.slug,\n-  };\n-};\n-\n-export const createInternalVersion = (\n-  version: ExternalVersionWithContent | ExternalVersionWithDiff,\n-  { comparedToVersionId }: { comparedToVersionId?: number } = {},\n-): Version => {\n-  return {\n-    addon: createInternalVersionAddon(version.addon),\n-    comparedToVersionId: comparedToVersionId || null,\n-    entries: Object.keys(version.file.entries).map((nodeName) => {\n-      return createInternalVersionEntry(version.file.entries[nodeName]);\n-    }),\n-    expandedPaths: getParentFolders(version.file.selected_file),\n-    id: version.id,\n-    reviewed: version.reviewed,\n-    selectedPath: version.file.selected_file,\n-    version: version.version,\n-    validationURL: version.validation_url_json,\n-    visibleSelectedPath: null,\n-  };\n-};\n-\n-export const getVersionFiles = (versions: VersionsState, versionId: number) => {\n-  return versions.versionFiles[versionId];\n-};\n-\n-export const getVersionInfo = (\n-  versions: VersionsState,\n-  versionId: number,\n-  { comparedToVersionId }: { comparedToVersionId?: number } = {},\n-) => {\n-  const version = versions.versionInfo[versionId];\n-\n-  if (version === undefined) {\n-    return undefined;\n-  }\n-  if (\n-    version &&\n-    comparedToVersionId !== undefined &&\n-    version.comparedToVersionId !== comparedToVersionId\n-  ) {\n-    return undefined;\n-  }\n-\n-  return version;\n-};\n-\n-export const selectCurrentVersionInfo = (\n-  versions: VersionsState,\n-): Version | null | undefined => {\n-  if (!versions.currentVersionId) {\n-    return undefined;\n-  }\n-  return getVersionInfo(versions, versions.currentVersionId);\n-};\n-\n-export const getMostRelevantEntryStatus = (\n-  version: Version,\n-  path: string,\n-): VersionEntryStatus | void => {\n-  const statuses = version.entries\n-    .filter((e) => e.path.startsWith(path))\n-    .map((e) => e.status);\n-\n-  const priorities: VersionEntryStatus[] = ['A', 'M', 'D'];\n-\n-  for (const p of priorities) {\n-    if (statuses.includes(p)) {\n-      return p;\n-    }\n-  }\n-\n-  return statuses.length ? statuses[0] : undefined;\n-};\n-\n-export const getVersionFile = (\n-  versions: VersionsState,\n-  versionId: number,\n-  path: string,\n-  { _log = log } = {},\n-): VersionFile | void | null => {\n-  const version = getVersionInfo(versions, versionId);\n-  const filesForVersion = getVersionFiles(versions, versionId);\n-\n-  if (version && filesForVersion) {\n-    const file = filesForVersion[path];\n-\n-    // A file is null when it could not be retrieved from the API because of\n-    // an error.\n-    if (file === null) {\n-      return null;\n-    }\n-\n-    const entry = version.entries.find((e) => e.path === path);\n-\n-    if (!entry) {\n-      _log.debug('Entry missing for path: ${path}, versionId: ${versionId}');\n-      return undefined;\n-    }\n-\n-    if (file) {\n-      return {\n-        ...file,\n-        filename: entry.filename,\n-        mimeType: entry.mimeType,\n-        path,\n-        sha256: entry.sha256,\n-        type: entry.type,\n-        version: version.version,\n-      };\n-    }\n-  }\n-\n-  // The version or file was not found.\n-  return undefined;\n-};\n-\n-export const isFileLoading = (\n-  versions: VersionsState,\n-  versionId: number,\n-  path: string,\n-): boolean => {\n-  if (versions.versionFilesLoading[versionId]) {\n-    return versions.versionFilesLoading[versionId][path] || false;\n-  }\n-\n-  return false;\n-};\n-\n-export const getDiffAnchors = (diff: DiffInfo): string[] => {\n-  const anchors: string[] = [];\n-\n-  for (const hunk of diff.hunks) {\n-    let seekingChange = true;\n-    for (const change of hunk.changes) {\n-      if (change.type === 'normal') {\n-        seekingChange = true;\n-      } else if (seekingChange) {\n-        // This is the first change in a block.\n-        anchors.push(getChangeKey(change));\n-        seekingChange = false;\n-      }\n-    }\n-  }\n-  return anchors;\n-};\n-\n-export type GetRelativeDiffAnchorParams = {\n-  currentAnchor?: string | void;\n-  diff: DiffInfo;\n-  position?: RelativePathPosition;\n-};\n-\n-export const getRelativeDiffAnchor = ({\n-  currentAnchor = '',\n-  diff,\n-  position = RelativePathPosition.next,\n-}: GetRelativeDiffAnchorParams): string | null => {\n-  const anchors = getDiffAnchors(diff);\n-  if (anchors.length) {\n-    if (!currentAnchor) {\n-      // Since we aren't looking for an anchor relative to an existing one,\n-      // just get the first anchor.\n-      return anchors[0];\n-    }\n-\n-    const currentIndex = anchors.indexOf(currentAnchor);\n-\n-    if (currentIndex >= 0) {\n-      const newIndex =\n-        position === RelativePathPosition.previous\n-          ? currentIndex - 1\n-          : currentIndex + 1;\n-\n-      if (newIndex >= 0 && newIndex < anchors.length) {\n-        return anchors[newIndex];\n-      }\n-      // The currentAnchor is the only anchor in the diff.\n-      return null;\n-    }\n-\n-    // We have a currentAnchor, but is doesn't match anything in anchors, so\n-    // we need to try to find the correct anchor closest to the currentAnchor.\n-    const currentAnchorNumber = extractNumber(currentAnchor);\n-    const sortedAnchors: string[] =\n-      position === RelativePathPosition.previous\n-        ? [...anchors].reverse()\n-        : anchors;\n-    if (currentAnchorNumber) {\n-      for (const anchor of sortedAnchors) {\n-        const anchorNumber = extractNumber(anchor);\n-        if (anchorNumber) {\n-          if (\n-            (position === RelativePathPosition.previous &&\n-              anchorNumber <= currentAnchorNumber) ||\n-            (position === RelativePathPosition.next &&\n-              anchorNumber >= currentAnchorNumber)\n-          ) {\n-            return anchor;\n-          }\n-        }\n-      }\n-    }\n-  }\n-\n-  // We never found a valid next/previous anchor in the file, so return null.\n-  return null;\n-};\n-\n-export type GetRelativeDiffParams = {\n-  _findRelativePathWithDiff?: typeof findRelativePathWithDiff;\n-  _getRelativeDiffAnchor?: typeof getRelativeDiffAnchor;\n-  currentAnchor: string | void;\n-  diff: DiffInfo | null;\n-  pathList: string[];\n-  position: RelativePathPosition;\n-  version: Version;\n-};\n-\n-type RelativeDiffResult = {\n-  anchor: string | null;\n-  path: string | null;\n-};\n-\n-export const getRelativeDiff = ({\n-  _findRelativePathWithDiff = findRelativePathWithDiff,\n-  _getRelativeDiffAnchor = getRelativeDiffAnchor,\n-  currentAnchor,\n-  diff,\n-  pathList,\n-  position,\n-  version,\n-}: GetRelativeDiffParams): RelativeDiffResult => {\n-  const result: RelativeDiffResult = {\n-    anchor: diff\n-      ? _getRelativeDiffAnchor({ currentAnchor, diff, position })\n-      : null,\n-    path: null,\n-  };\n-\n-  if (!result.anchor) {\n-    result.path = _findRelativePathWithDiff({\n-      currentPath: version.selectedPath,\n-      pathList,\n-      position,\n-      version,\n-    });\n-  }\n-\n-  return result;\n-};\n-\n-type FetchVersionParams = {\n-  _getVersion?: typeof getVersion;\n-  addonId: number;\n-  versionId: number;\n-  path?: string;\n-};\n-\n-export const fetchVersion = ({\n-  _getVersion = getVersion,\n-  addonId,\n-  versionId,\n-  path,\n-}: FetchVersionParams): ThunkActionCreator => {\n-  return async (dispatch, getState) => {\n-    const { api: apiState } = getState();\n-\n-    dispatch(actions.beginFetchVersion({ versionId }));\n-    // Set this as the current version so that components can track its\n-    // loading progress.\n-    dispatch(actions.setCurrentVersionId({ versionId }));\n-\n-    const response = await _getVersion({\n-      addonId,\n-      apiState,\n-      path,\n-      versionId,\n-    });\n-\n-    if (isErrorResponse(response)) {\n-      dispatch(actions.abortFetchVersion({ versionId }));\n-      dispatch(errorsActions.addError({ error: response.error }));\n-    } else {\n-      dispatch(actions.loadVersionInfo({ version: response }));\n-      dispatch(\n-        actions.loadVersionFile({\n-          version: response,\n-          path: response.file.selected_file,\n-        }),\n-      );\n-    }\n-  };\n-};\n-\n-type FetchVersionFileParams = {\n-  _getVersion?: typeof getVersion;\n-  addonId: number;\n-  path: string;\n-  versionId: number;\n-};\n-\n-export const fetchVersionFile = ({\n-  _getVersion = getVersion,\n-  addonId,\n-  path,\n-  versionId,\n-}: FetchVersionFileParams): ThunkActionCreator => {\n-  return async (dispatch, getState) => {\n-    const { api: apiState } = getState();\n-\n-    dispatch(actions.beginFetchVersionFile({ path, versionId }));\n-\n-    const response = await _getVersion({\n-      addonId,\n-      apiState,\n-      versionId,\n-      path,\n-    });\n-\n-    if (isErrorResponse(response)) {\n-      dispatch(actions.abortFetchVersionFile({ path, versionId }));\n-      dispatch(errorsActions.addError({ error: response.error }));\n-    } else {\n-      dispatch(actions.loadVersionFile({ path, version: response }));\n-    }\n-  };\n-};\n-\n-export const createVersionsMap = (\n-  versions: ExternalVersionsList,\n-): VersionsMap => {\n-  const listed = versions.filter((version) => version.channel === 'listed');\n-  const unlisted = versions.filter((version) => version.channel === 'unlisted');\n-\n-  return {\n-    listed,\n-    unlisted,\n-  };\n-};\n-\n-type FetchVersionsListParams = {\n-  _getVersionsList?: typeof getVersionsList;\n-  addonId: number;\n-};\n-\n-export const fetchVersionsList = ({\n-  _getVersionsList = getVersionsList,\n-  addonId,\n-}: FetchVersionsListParams): ThunkActionCreator => {\n-  return async (dispatch, getState) => {\n-    const { api: apiState } = getState();\n-\n-    const response = await _getVersionsList({ addonId, apiState });\n-\n-    if (isErrorResponse(response)) {\n-      dispatch(errorsActions.addError({ error: response.error }));\n-    } else {\n-      dispatch(actions.loadVersionsList({ addonId, versions: response }));\n-    }\n-  };\n-};\n-\n-type CreateInternalDiffParams = {\n-  version: ExternalVersionWithDiff;\n-  baseVersionId: number;\n-  headVersionId: number;\n-};\n-\n-export const createInternalChangeInfo = (\n-  change: ExternalChange,\n-): ChangeInfo => {\n-  return {\n-    content: change.content,\n-    isDelete: change.type === 'delete',\n-    isInsert: change.type === 'insert',\n-    isNormal: change.type === 'normal',\n-    lineNumber:\n-      change.type === 'insert'\n-        ? change.new_line_number\n-        : change.old_line_number,\n-    newLineNumber: change.new_line_number,\n-    oldLineNumber: change.old_line_number,\n-    type: change.type,\n-  };\n-};\n-\n-export const createInternalHunk = (hunk: ExternalHunk): HunkInfo => {\n-  return {\n-    changes: hunk.changes.map(createInternalChangeInfo),\n-    content: hunk.header,\n-    isPlain: false,\n-    newLines: hunk.new_lines,\n-    newStart: hunk.new_start,\n-    oldLines: hunk.old_lines,\n-    oldStart: hunk.old_start,\n-  };\n-};\n-\n-export const createInternalDiff = ({\n-  baseVersionId,\n-  headVersionId,\n-  version,\n-}: CreateInternalDiffParams): DiffInfo | null => {\n-  const GIT_STATUS_TO_TYPE: { [status: string]: DiffInfoType } = {\n-    A: 'add',\n-    C: 'copy',\n-    D: 'delete',\n-    M: 'modify',\n-    R: 'rename',\n-  };\n-\n-  const { diff } = version.file;\n-  if (diff) {\n-    return {\n-      newRevision: String(headVersionId),\n-      oldRevision: String(baseVersionId),\n-      hunks: diff.hunks.map(createInternalHunk),\n-      type: GIT_STATUS_TO_TYPE[diff.mode] || GIT_STATUS_TO_TYPE.M,\n-      newEndingNewLine: diff.new_ending_new_line,\n-      oldEndingNewLine: diff.old_ending_new_line,\n-      newMode: diff.mode,\n-      oldMode: diff.mode,\n-      newPath: diff.path,\n-      oldPath: diff.old_path,\n-    };\n-  }\n-  return null;\n-};\n-\n-type FetchDiffParams = {\n-  _getDiff?: typeof getDiff;\n-  addonId: number;\n-  baseVersionId: number;\n-  headVersionId: number;\n-  path?: string;\n-};\n-\n-type GetCompareInfoKeyParams = {\n-  addonId: number;\n-  baseVersionId: number;\n-  headVersionId: number;\n-  path?: string;\n-};\n-\n-export const getCompareInfoKey = ({\n-  addonId,\n-  baseVersionId,\n-  headVersionId,\n-  path,\n-}: GetCompareInfoKeyParams) => {\n-  return [addonId, baseVersionId, headVersionId, path].join('/');\n-};\n-\n-export const createInternalCompareInfo = ({\n-  baseVersionId,\n-  headVersionId,\n-  entry,\n-  version,\n-}: {\n-  baseVersionId: number;\n-  headVersionId: number;\n-  entry: VersionEntry;\n-  version: ExternalVersionWithDiff;\n-}): CompareInfo => {\n-  return {\n-    diff: createInternalDiff({\n-      baseVersionId,\n-      headVersionId,\n-      version,\n-    }),\n-    mimeType: entry.mimeType,\n-  };\n-};\n-\n-export const getCompareInfo = (\n-  versions: VersionsState,\n-  addonId: number,\n-  baseVersionId: number,\n-  headVersionId: number,\n-  path?: string,\n-) => {\n-  const compareInfoKey = getCompareInfoKey({\n-    addonId,\n-    baseVersionId,\n-    headVersionId,\n-    path,\n-  });\n-\n-  return versions.compareInfo[compareInfoKey];\n-};\n-\n-export const isCompareInfoLoading = (\n-  versions: VersionsState,\n-  addonId: number,\n-  baseVersionId: number,\n-  headVersionId: number,\n-  path?: string,\n-) => {\n-  const compareInfoKey = getCompareInfoKey({\n-    addonId,\n-    baseVersionId,\n-    headVersionId,\n-    path,\n-  });\n-\n-  return versions.compareInfoIsLoading[compareInfoKey] || false;\n-};\n-\n-export const fetchDiff = ({\n-  _getDiff = getDiff,\n-  addonId,\n-  baseVersionId,\n-  headVersionId,\n-  path,\n-}: FetchDiffParams): ThunkActionCreator => {\n-  return async (dispatch, getState) => {\n-    const { api: apiState, versions: versionsState } = getState();\n-    if (\n-      isCompareInfoLoading(\n-        versionsState,\n-        addonId,\n-        baseVersionId,\n-        headVersionId,\n-        path,\n-      )\n-    ) {\n-      log.debug('Aborting because the diff is already being fetched');\n-      return;\n-    }\n-\n-    dispatch(\n-      actions.beginFetchDiff({ addonId, baseVersionId, headVersionId, path }),\n-    );\n-    // Set the current version to the newer one (the head vesion) so that\n-    // components can track its loading progress.\n-    dispatch(actions.setCurrentVersionId({ versionId: headVersionId }));\n-\n-    const response = await _getDiff({\n-      addonId,\n-      apiState,\n-      baseVersionId,\n-      headVersionId,\n-      path,\n-    });\n-\n-    if (isErrorResponse(response)) {\n-      dispatch(\n-        actions.abortFetchDiff({ addonId, baseVersionId, headVersionId, path }),\n-      );\n-      // Since the diff response loads a version, we also need to simulate\n-      // aborting a version fetch.\n-      dispatch(actions.abortFetchVersion({ versionId: headVersionId }));\n-      dispatch(errorsActions.addError({ error: response.error }));\n-    } else {\n-      if (\n-        !getVersionInfo(versionsState, response.id, {\n-          comparedToVersionId: baseVersionId,\n-        })\n-      ) {\n-        dispatch(\n-          actions.loadVersionInfo({\n-            version: response,\n-            comparedToVersionId: baseVersionId,\n-          }),\n-        );\n-      }\n-      dispatch(\n-        actions.loadDiff({\n-          addonId,\n-          baseVersionId,\n-          headVersionId,\n-          path,\n-          version: response,\n-        }),\n-      );\n-    }\n-  };\n-};\n-\n-type ViewVersionFileParams = {\n-  preserveHash?: boolean;\n-  selectedPath: string;\n-  scrollTo?: ScrollTarget;\n-  versionId: number;\n-};\n-\n-export const viewVersionFile = ({\n-  preserveHash = false,\n-  selectedPath,\n-  scrollTo,\n-  versionId,\n-}: ViewVersionFileParams): ThunkActionCreator => {\n-  return async (dispatch, getState) => {\n-    const { router } = getState();\n-\n-    const newLocation = {\n-      ...router.location,\n-      search: createAdjustedQueryString(router.location, {\n-        path: selectedPath,\n-        scrollTo,\n-      }),\n-    };\n-\n-    // We do not want to preserve the hash when we select a new file for\n-    // instance, but we want to keep it when we load a file via its path.\n-    if (!preserveHash) {\n-      delete newLocation.hash;\n-    }\n-\n-    dispatch(actions.updateSelectedPath({ versionId, selectedPath }));\n-    dispatch(push(newLocation));\n-  };\n-};\n-\n-type GoToRelativeDiffParams = {\n-  _getRelativeDiff?: typeof getRelativeDiff;\n-  _viewVersionFile?: typeof viewVersionFile;\n-  currentAnchor: string | void;\n-  diff: DiffInfo | null;\n-  pathList: string[];\n-  position: RelativePathPosition;\n-  versionId: number;\n-};\n-\n-export const goToRelativeDiff = ({\n-  /* istanbul ignore next */\n-  _getRelativeDiff = getRelativeDiff,\n-  /* istanbul ignore next */\n-  _viewVersionFile = viewVersionFile,\n-  currentAnchor,\n-  diff,\n-  pathList,\n-  position,\n-  versionId,\n-}: GoToRelativeDiffParams): ThunkActionCreator => {\n-  return async (dispatch, getState) => {\n-    const { router, versions: versionsState } = getState();\n-    const version = getVersionInfo(versionsState, versionId);\n-\n-    if (!version) {\n-      throw new Error('Cannot go to relative diff without a version loaded.');\n-    }\n-\n-    const nextDiffInfo = _getRelativeDiff({\n-      currentAnchor,\n-      diff,\n-      pathList,\n-      position,\n-      version,\n-    });\n-\n-    if (nextDiffInfo.anchor) {\n-      const newLocation = {\n-        ...router.location,\n-        hash: '#${nextDiffInfo.anchor}',\n-      };\n-\n-      dispatch(push(newLocation));\n-    } else if (nextDiffInfo.path) {\n-      dispatch(\n-        _viewVersionFile({\n-          preserveHash: false,\n-          selectedPath: nextDiffInfo.path,\n-          scrollTo:\n-            position === RelativePathPosition.next\n-              ? ScrollTarget.firstDiff\n-              : ScrollTarget.lastDiff,\n-          versionId,\n-        }),\n-      );\n-    }\n-  };\n-};\n-\n-const reducer: Reducer<VersionsState, ActionType<typeof actions>> = (\n-  state = initialState,\n-  action,\n-): VersionsState => {\n-  switch (action.type) {\n-    case getType(actions.beginFetchVersion): {\n-      const { versionId } = action.payload;\n-\n-      return {\n-        ...state,\n-        versionInfo: {\n-          ...state.versionInfo,\n-          [versionId]: undefined,\n-        },\n-      };\n-    }\n-    case getType(actions.loadVersionInfo): {\n-      const { version, comparedToVersionId } = action.payload;\n-\n-      return {\n-        ...state,\n-        versionInfo: {\n-          ...state.versionInfo,\n-          [version.id]: createInternalVersion(version, { comparedToVersionId }),\n-        },\n-      };\n-    }\n-    case getType(actions.abortFetchVersion): {\n-      const { versionId } = action.payload;\n-\n-      return {\n-        ...state,\n-        versionInfo: {\n-          ...state.versionInfo,\n-          [versionId]: null,\n-        },\n-      };\n-    }\n-    case getType(actions.loadVersionFile): {\n-      const { path, version } = action.payload;\n-\n-      return {\n-        ...state,\n-        versionFiles: {\n-          ...state.versionFiles,\n-          [version.id]: {\n-            ...state.versionFiles[version.id],\n-            [path]: createInternalVersionFile(version.file),\n-          },\n-        },\n-        versionFilesLoading: {\n-          ...state.versionFilesLoading,\n-          [version.id]: {\n-            ...state.versionFilesLoading[version.id],\n-            [path]: false,\n-          },\n-        },\n-      };\n-    }\n-    case getType(actions.beginFetchVersionFile): {\n-      const { path, versionId } = action.payload;\n-\n-      return {\n-        ...state,\n-        versionFilesLoading: {\n-          ...state.versionFilesLoading,\n-          [versionId]: {\n-            ...state.versionFilesLoading[versionId],\n-            [path]: true,\n-          },\n-        },\n-      };\n-    }\n-    case getType(actions.abortFetchVersionFile): {\n-      const { path, versionId } = action.payload;\n-\n-      return {\n-        ...state,\n-        versionFiles: {\n-          ...state.versionFiles,\n-          [versionId]: {\n-            ...state.versionFiles[versionId],\n-            [path]: null,\n-          },\n-        },\n-        versionFilesLoading: {\n-          ...state.versionFilesLoading,\n-          [versionId]: {\n-            ...state.versionFilesLoading[versionId],\n-            [path]: false,\n-          },\n-        },\n-      };\n-    }\n-    case getType(actions.updateSelectedPath): {\n-      const { selectedPath, versionId } = action.payload;\n-\n-      const version = state.versionInfo[versionId];\n-\n-      if (!version) {\n-        throw new Error('Version missing for versionId: ${versionId}');\n-      }\n-\n-      const { expandedPaths } = version;\n-\n-      const parents = getParentFolders(selectedPath);\n-\n-      return {\n-        ...state,\n-        versionInfo: {\n-          ...state.versionInfo,\n-          [versionId]: {\n-            ...version,\n-            selectedPath,\n-            expandedPaths: [\n-              ...expandedPaths,\n-              ...parents.filter((newPath) => !expandedPaths.includes(newPath)),\n-            ],\n-          },\n-        },\n-      };\n-    }\n-    case getType(actions.setVisibleSelectedPath): {\n-      const { path, versionId } = action.payload;\n-\n-      const version = state.versionInfo[versionId];\n-\n-      if (!version) {\n-        throw new Error('Version missing for versionId: ${versionId}');\n-      }\n-\n-      if (path && !version.entries.find((e) => e.path === path)) {\n-        throw new Error(\n-          'Path \"${path}\" is an unknown path for version ID ${versionId}',\n-        );\n-      }\n-\n-      return {\n-        ...state,\n-        versionInfo: {\n-          ...state.versionInfo,\n-          [versionId]: {\n-            ...version,\n-            visibleSelectedPath: path,\n-          },\n-        },\n-      };\n-    }\n-    case getType(actions.toggleExpandedPath): {\n-      const { path, versionId } = action.payload;\n-\n-      const version = state.versionInfo[versionId];\n-\n-      if (!version) {\n-        throw new Error('Version missing for versionId: ${versionId}');\n-      }\n-\n-      const { expandedPaths } = version;\n-\n-      return {\n-        ...state,\n-        versionInfo: {\n-          ...state.versionInfo,\n-          [versionId]: {\n-            ...version,\n-            expandedPaths: expandedPaths.includes(path)\n-              ? expandedPaths.filter((storedPath) => path !== storedPath)\n-              : [...expandedPaths, path],\n-          },\n-        },\n-      };\n-    }\n-    case getType(actions.expandTree): {\n-      const { versionId } = action.payload;\n-\n-      const version = state.versionInfo[versionId];\n-\n-      if (!version) {\n-        throw new Error('Version missing for versionId: ${versionId}');\n-      }\n-\n-      const expandedPaths = version.entries\n-        .filter((entry) => entry.type === 'directory')\n-        .map((entry) => entry.path);\n-      expandedPaths.push(ROOT_PATH);\n-\n-      return {\n-        ...state,\n-        versionInfo: {\n-          ...state.versionInfo,\n-          [versionId]: {\n-            ...version,\n-            expandedPaths,\n-          },\n-        },\n-      };\n-    }\n-    case getType(actions.collapseTree): {\n-      const { versionId } = action.payload;\n-\n-      const version = state.versionInfo[versionId];\n-\n-      if (!version) {\n-        throw new Error('Version missing for versionId: ${versionId}');\n-      }\n-\n-      return {\n-        ...state,\n-        versionInfo: {\n-          ...state.versionInfo,\n-          [versionId]: {\n-            ...version,\n-            expandedPaths: [ROOT_PATH],\n-          },\n-        },\n-      };\n-    }\n-    case getType(actions.loadVersionsList): {\n-      const { addonId, versions } = action.payload;\n-\n-      return {\n-        ...state,\n-        byAddonId: {\n-          ...state.byAddonId,\n-          [addonId]: createVersionsMap(versions),\n-        },\n-      };\n-    }\n-    case getType(actions.beginFetchDiff): {\n-      const key = getCompareInfoKey(action.payload);\n-\n-      return {\n-        ...state,\n-        compareInfo: {\n-          ...state.compareInfo,\n-          [key]: undefined,\n-        },\n-        compareInfoIsLoading: {\n-          ...state.compareInfoIsLoading,\n-          [key]: true,\n-        },\n-      };\n-    }\n-    case getType(actions.abortFetchDiff): {\n-      const key = getCompareInfoKey(action.payload);\n-\n-      return {\n-        ...state,\n-        compareInfo: {\n-          ...state.compareInfo,\n-          [key]: null,\n-        },\n-        compareInfoIsLoading: {\n-          ...state.compareInfoIsLoading,\n-          [key]: false,\n-        },\n-      };\n-    }\n-    case getType(actions.loadDiff): {\n-      const {\n-        addonId,\n-        baseVersionId,\n-        headVersionId,\n-        path,\n-        version,\n-      } = action.payload;\n-\n-      const compareInfoKey = getCompareInfoKey({\n-        addonId,\n-        baseVersionId,\n-        headVersionId,\n-        path,\n-      });\n-\n-      const headVersion = getVersionInfo(state, headVersionId, {\n-        comparedToVersionId: baseVersionId,\n-      });\n-      if (!headVersion) {\n-        throw new Error('Version missing for headVersionId: ${headVersionId}');\n-      }\n-\n-      const { entries, selectedPath } = headVersion;\n-      const entry = entries.find((e) => e.path === selectedPath);\n-\n-      if (!entry) {\n-        throw new Error('Entry missing for headVersionId: ${headVersionId}');\n-      }\n-\n-      return {\n-        ...state,\n-        compareInfo: {\n-          ...state.compareInfo,\n-          [compareInfoKey]: createInternalCompareInfo({\n-            baseVersionId,\n-            headVersionId,\n-            entry,\n-            version,\n-          }),\n-        },\n-        compareInfoIsLoading: {\n-          ...state.compareInfoIsLoading,\n-          [compareInfoKey]: false,\n-        },\n-      };\n-    }\n-    case getType(actions.setCurrentVersionId): {\n-      const { versionId } = action.payload;\n-      return {\n-        ...state,\n-        currentVersionId: versionId,\n-      };\n-    }\n-    default:\n-      return state;\n-  }\n-};\n-\n-export default reducer;"},458:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_styles_module_scss__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(170),_styles_module_scss__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_styles_module_scss__WEBPACK_IMPORTED_MODULE_1__),_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6),_api__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(40);__webpack_exports__.a=function FileMetadataBase(_ref){var file=_ref.file;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_1___default.a.FileMetadata},react__WEBPACK_IMPORTED_MODULE_0__.createElement("dl",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("dt",null,Object(_utils__WEBPACK_IMPORTED_MODULE_2__.k)("Version")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("dd",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_1___default.a.version},file.version),react__WEBPACK_IMPORTED_MODULE_0__.createElement("dt",null,Object(_utils__WEBPACK_IMPORTED_MODULE_2__.k)("Size")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("dd",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_1___default.a.size},Object(_utils__WEBPACK_IMPORTED_MODULE_2__.g)(file.size)),react__WEBPACK_IMPORTED_MODULE_0__.createElement("dt",null,Object(_utils__WEBPACK_IMPORTED_MODULE_2__.k)("SHA256 hash")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("dd",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_1___default.a.sha256},react__WEBPACK_IMPORTED_MODULE_0__.createElement("code",null,file.sha256)),react__WEBPACK_IMPORTED_MODULE_0__.createElement("dt",null,Object(_utils__WEBPACK_IMPORTED_MODULE_2__.k)("MIME type")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("dd",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_1___default.a.mimeType},file.mimeType),file.downloadURL&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("dt",null,Object(_utils__WEBPACK_IMPORTED_MODULE_2__.k)("Download link")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("dd",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_1___default.a.downloadURL},react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{href:Object(_api__WEBPACK_IMPORTED_MODULE_3__.j)({url:file.downloadURL})},file.filename)))))}},50:function(module,__webpack_exports__,__webpack_require__){"use strict";var _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),dompurify__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(321),dompurify__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(dompurify__WEBPACK_IMPORTED_MODULE_2__),he__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(441),he__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(he__WEBPACK_IMPORTED_MODULE_3__),query_string__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(71),query_string__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(query_string__WEBPACK_IMPORTED_MODULE_4__),react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(0),react_bootstrap__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(203),react_router_dom__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(250),_styles_module_scss__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(248),_styles_module_scss__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(_styles_module_scss__WEBPACK_IMPORTED_MODULE_8__),_utils__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(6),decodeHtmlEntities=function decodeHtmlEntities(text){return he__WEBPACK_IMPORTED_MODULE_3___default.a.decode(text)};__webpack_exports__.a=Object(react_router_dom__WEBPACK_IMPORTED_MODULE_7__.a)((function LinterMessageBase(_ref){var className=_ref.className,_ref$inline=_ref.inline,inline=void 0!==_ref$inline&&_ref$inline,location=_ref.location,message=_ref.message,description=message.description,linterMessage=message.message,variant=function getAlertVariant(type){switch(type){case"error":return"danger";case"warning":return"warning";default:return"secondary"}}(message.type),messageUid=query_string__WEBPACK_IMPORTED_MODULE_4___default.a.parse(location.search)[_utils__WEBPACK_IMPORTED_MODULE_9__.l];return react__WEBPACK_IMPORTED_MODULE_5__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__.a,{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()(_styles_module_scss__WEBPACK_IMPORTED_MODULE_8___default.a[variant],className,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_styles_module_scss__WEBPACK_IMPORTED_MODULE_8___default.a.inline,inline),Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_styles_module_scss__WEBPACK_IMPORTED_MODULE_8___default.a.highlight,"string"==typeof messageUid&&messageUid===message.uid)),variant:variant},react__WEBPACK_IMPORTED_MODULE_5__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__.a.Heading,null,decodeHtmlEntities(linterMessage)),react__WEBPACK_IMPORTED_MODULE_5__.createElement("p",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_8___default.a.description},function renderDescription(description){var urlPattern=/^https?:\/\//;return description.reduce((function(allLines,line,lineIndex){return lineIndex>0&&allLines.push(react__WEBPACK_IMPORTED_MODULE_5__.createElement("br",{key:line})),allLines.push(dompurify__WEBPACK_IMPORTED_MODULE_2___default.a.sanitize(line,{ALLOWED_TAGS:[]}).split(/(\s+)/).reduce((function(allParts,part){return urlPattern.test(part)?allParts.push(react__WEBPACK_IMPORTED_MODULE_5__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__.a.Link,{key:"link:".concat(part),href:part},part)):allParts.push(decodeHtmlEntities(part)),allParts}),[])),allLines}),[])}(description)))}))},6:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return SLOW_LOADING_CHAR_COUNT})),__webpack_require__.d(__webpack_exports__,"b",(function(){return TRIMMED_CHAR_COUNT})),__webpack_require__.d(__webpack_exports__,"l",(function(){return messageUidQueryParam})),__webpack_require__.d(__webpack_exports__,"n",(function(){return pathQueryParam})),__webpack_require__.d(__webpack_exports__,"c",(function(){return allowSlowPagesParam})),__webpack_require__.d(__webpack_exports__,"k",(function(){return gettext})),__webpack_require__.d(__webpack_exports__,"j",(function(){return getLocalizedString})),__webpack_require__.d(__webpack_exports__,"i",(function(){return getLanguageFromMimeType})),__webpack_require__.d(__webpack_exports__,"o",(function(){return sanitizeHTML})),__webpack_require__.d(__webpack_exports__,"m",(function(){return nl2br})),__webpack_require__.d(__webpack_exports__,"g",(function(){return formatFilesize})),__webpack_require__.d(__webpack_exports__,"e",(function(){return createAdjustedQueryString})),__webpack_require__.d(__webpack_exports__,"f",(function(){return extractNumber})),__webpack_require__.d(__webpack_exports__,"p",(function(){return shouldAllowSlowPages})),__webpack_require__.d(__webpack_exports__,"d",(function(){return codeCanBeHighlighted})),__webpack_require__.d(__webpack_exports__,"h",(function(){return getAllHunkChanges}));__webpack_require__(24),__webpack_require__(25);var _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(86),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1),filesize__WEBPACK_IMPORTED_MODULE_5__=(__webpack_require__(320),__webpack_require__(694)),filesize__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(filesize__WEBPACK_IMPORTED_MODULE_5__),dompurify__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(321),dompurify__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(dompurify__WEBPACK_IMPORTED_MODULE_6__),query_string__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(71),query_string__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(query_string__WEBPACK_IMPORTED_MODULE_7__),SLOW_LOADING_CHAR_COUNT=(__webpack_require__(39),__webpack_require__(59),__webpack_require__(11),__webpack_require__(75),3e3),TRIMMED_CHAR_COUNT=2e3,messageUidQueryParam="messageUid",pathQueryParam="path",allowSlowPagesParam="allowSlowPages",gettext=function gettext(text){return text},getLocalizedString=function getLocalizedString(localizedStringMap){var lang=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US",stringForCurrentLang=localizedStringMap[lang],langs=Object.keys(localizedStringMap);return stringForCurrentLang||langs.length&&localizedStringMap[langs[0]]||""},getLanguageFromMimeType=function getLanguageFromMimeType(mimeType){switch(mimeType){case"application/javascript":case"text/javascript":return"js";case"application/json":return"json";case"application/xml":return"xml";case"text/css":return"css";case"text/html":return"html";default:return"text"}},sanitizeHTML=function sanitizeHTML(text){var allowTags=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],_purify=arguments.length>2&&void 0!==arguments[2]?arguments[2]:dompurify__WEBPACK_IMPORTED_MODULE_6___default.a;return{__html:_purify.sanitize(text,{ALLOWED_TAGS:allowTags})}},nl2br=function nl2br(text){return(text||"").replace(/(\r\n|\r|\n)(?!<\/?(li|ul|ol)>)/g,"<br />")},formatFilesize=function formatFilesize(size){return filesize__WEBPACK_IMPORTED_MODULE_5___default()(size,{standard:"iec"})},createAdjustedQueryString=function createAdjustedQueryString(location,newParams){var query=query_string__WEBPACK_IMPORTED_MODULE_7___default.a.parse(location.search);return"?".concat(query_string__WEBPACK_IMPORTED_MODULE_7___default.a.stringify(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},query,{},newParams)))},extractNumber=function extractNumber(text){var matches=text.match(/\d+/);return Array.isArray(matches)?parseInt(matches[0],10):null},shouldAllowSlowPages=function shouldAllowSlowPages(_ref2){var _ref2$allowByDefault=_ref2.allowByDefault,allowByDefault=void 0!==_ref2$allowByDefault&&_ref2$allowByDefault,location=_ref2.location,shouldAllowQueryParam=query_string__WEBPACK_IMPORTED_MODULE_7___default.a.parse(location.search)[allowSlowPagesParam];return void 0!==shouldAllowQueryParam?"true"===shouldAllowQueryParam:allowByDefault},codeCanBeHighlighted=function codeCanBeHighlighted(_ref3){for(var code=_ref3.code,_ref3$wideLineLength=_ref3.wideLineLength,wideLineLength=void 0===_ref3$wideLineLength?500:_ref3$wideLineLength,_ref3$highLineCount=_ref3.highLineCount,highLineCount=void 0===_ref3$highLineCount?3e3:_ref3$highLineCount,index=0;index<code.length;index++){var codeLineOrChange=code[index];if(("string"==typeof codeLineOrChange?codeLineOrChange:codeLineOrChange.content).length>wideLineLength)return!1;if(index>=highLineCount)return!1}return!0},getAllHunkChanges=function getAllHunkChanges(hunks){return hunks.reduce((function(result,_ref4){var changes=_ref4.changes;return[].concat(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__.a)(result),Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__.a)(changes))}),[])}},60:function(module,exports,__webpack_require__){module.exports={Navbar:"styles_Navbar__2Bbek",brand:"styles_brand__mIGQi",text:"styles_text__ejRr9",info:"styles_info__2Iywe",infoItem:"styles_infoItem__2IGOZ",itemData:"styles_itemData__2VzG0",commentCount:"styles_commentCount__3qR04",baseVersionIsLoading:"styles_baseVersionIsLoading__xrBey",pulseBaseVersion:"styles_pulseBaseVersion__eHeth",username:"styles_username__3BOb8",reviewerToolsLink:"styles_reviewerToolsLink__3NNd_",reviewerToolsIcon:"styles_reviewerToolsIcon__2x51U"}},62:function(module,exports,__webpack_require__){module.exports={container:"styles_container__2aIkL",comment:"styles_comment__2i_P_",form:"styles_form__3MTgr",textarea:"styles_textarea__1quGx",commentBody:"styles_commentBody__1HUpS",commentControls:"styles_commentControls__1QDzl",controlButton:"styles_controlButton__3LExb"}},63:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return AccordionItem}));var _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(24),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(25),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(30),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(29),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(31),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(0),react_redux__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(28),classnames__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(5),classnames__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_8__),_Button__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(192),_reducers_accordionMenu__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(200),_styles_module_scss__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(168),_styles_module_scss__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(_styles_module_scss__WEBPACK_IMPORTED_MODULE_11__),AccordionItemBase=function(_React$Component){function AccordionItemBase(){var _getPrototypeOf2,_this;Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__.a)(this,AccordionItemBase);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__.a)(this,(_getPrototypeOf2=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__.a)(AccordionItemBase)).call.apply(_getPrototypeOf2,[this].concat(args)))).onItemClick=function(){var _this$props=_this.props,dispatch=_this$props.dispatch,title=_this$props.title;dispatch(_reducers_accordionMenu__WEBPACK_IMPORTED_MODULE_10__.a.toggleItem({itemId:title}))},_this}return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_5__.a)(AccordionItemBase,_React$Component),Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__.a)(AccordionItemBase,[{key:"componentDidMount",value:function componentDidMount(){var _this$props2=this.props,dispatch=_this$props2.dispatch,expandedByDefault=_this$props2.expandedByDefault,expanded=_this$props2.expanded,title=_this$props2.title;expandedByDefault&&!expanded&&dispatch(_reducers_accordionMenu__WEBPACK_IMPORTED_MODULE_10__.a.toggleItem({itemId:title}))}},{key:"render",value:function render(){var _this$props3=this.props,children=_this$props3.children,expanded=_this$props3.expanded,title=_this$props3.title,contentId=function makeItemContentId(title){var id=title.replace(/[^A-Za-z0-9]+/g,"");if(!id)throw new Error('An ID could not be generated from this title: "'.concat(title,'"'));return"accordionContent".concat(id)}(title);return react__WEBPACK_IMPORTED_MODULE_6__.createElement(react__WEBPACK_IMPORTED_MODULE_6__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_6__.createElement(_Button__WEBPACK_IMPORTED_MODULE_9__.a,{ariaControls:contentId,onClick:this.onItemClick,className:classnames__WEBPACK_IMPORTED_MODULE_8___default()(_styles_module_scss__WEBPACK_IMPORTED_MODULE_11___default.a.item,_styles_module_scss__WEBPACK_IMPORTED_MODULE_11___default.a.itemButton)},title),react__WEBPACK_IMPORTED_MODULE_6__.createElement("div",{"aria-expanded":expanded?"true":"false",className:classnames__WEBPACK_IMPORTED_MODULE_8___default()(_styles_module_scss__WEBPACK_IMPORTED_MODULE_11___default.a.item,_styles_module_scss__WEBPACK_IMPORTED_MODULE_11___default.a.itemContent,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_styles_module_scss__WEBPACK_IMPORTED_MODULE_11___default.a.itemExpanded,expanded)),id:contentId},children))}}]),AccordionItemBase}(react__WEBPACK_IMPORTED_MODULE_6__.Component);AccordionItemBase.defaultProps={expandedByDefault:!1};var AccordionItem=Object(react_redux__WEBPACK_IMPORTED_MODULE_7__.connect)((function mapStateToProps(state,ownProps){return{expanded:Object(_reducers_accordionMenu__WEBPACK_IMPORTED_MODULE_10__.c)(state.accordionMenu,ownProps.title)}}))(AccordionItemBase);__webpack_exports__.b=function AccordionMenu(_ref){var children=_ref.children;return react__WEBPACK_IMPORTED_MODULE_6__.createElement("div",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_11___default.a.menu},children)}},684:function(module,__webpack_exports__,__webpack_require__){"use strict";var _sentry_browser__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(337),_sentry_integrations__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1496),loglevel__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(39),loglevel__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(loglevel__WEBPACK_IMPORTED_MODULE_2__),_fortawesome_fontawesome_svg_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(199),_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(686),_fortawesome_free_regular_svg_icons__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(687);__webpack_require__(1130),__webpack_require__(1131);__webpack_exports__.a=function configureApplication(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref$_Sentry=_ref._Sentry,_Sentry=void 0===_ref$_Sentry?_sentry_browser__WEBPACK_IMPORTED_MODULE_0__:_ref$_Sentry,_ref$_log=_ref._log,_log=void 0===_ref$_log?loglevel__WEBPACK_IMPORTED_MODULE_2___default.a:_ref$_log,_ref$env=_ref.env,env=void 0===_ref$env?Object({NODE_ENV:"production",NODE_PATH:"",PUBLIC_URL:"https://addons-code-manager.cdn.mozilla.net",REACT_APP_API_HOST:"https://addons.mozilla.org",REACT_APP_REVIEWERS_HOST:"https://reviewers.addons.mozilla.org",REACT_APP_AUTH_TOKEN_PLACEHOLDER:"__AUTH_TOKEN__",REACT_APP_AUTHENTICATION_COOKIE:"frontend_auth_token",REACT_APP_DEFAULT_API_LANG:"en-US",REACT_APP_DEFAULT_API_VERSION:"v5",REACT_APP_FXA_CONFIG:"code-manager",INLINE_RUNTIME_CHUNK:"false",REACT_APP_UNSAFE_ERROR_SIMULATION:"false",REACT_APP_ENABLE_COMMENTING:"true",REACT_APP_ANALYTICS_HOST:"https://www.google-analytics.com",REACT_APP_TRACKING_ENABLED:"true",REACT_APP_TRACKING_ID:"UA-77033033-29"}):_ref$env;env.REACT_APP_SENTRY_DSN&&(_Sentry.init({dsn:env.REACT_APP_SENTRY_DSN,integrations:[new _sentry_integrations__WEBPACK_IMPORTED_MODULE_1__.a({levels:["error"]})]}),_Sentry.configureScope((function(scope){scope.setTag("app_logger","client")}))),"production"===env.NODE_ENV?_log.setLevel(loglevel__WEBPACK_IMPORTED_MODULE_2___default.a.levels.INFO,!1):_log.setLevel(loglevel__WEBPACK_IMPORTED_MODULE_2___default.a.levels.DEBUG,!1),_fortawesome_fontawesome_svg_core__WEBPACK_IMPORTED_MODULE_3__.a.autoAddCss=!1,_fortawesome_fontawesome_svg_core__WEBPACK_IMPORTED_MODULE_3__.c.add(_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_4__.a,_fortawesome_free_regular_svg_icons__WEBPACK_IMPORTED_MODULE_5__.a)}},696:function(module,exports,__webpack_require__){module.exports={button:"styles_button__12U2K"}},699:function(module,exports,__webpack_require__){module.exports={comment:"styles_comment__1Omk0"}},70:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return actions})),__webpack_require__.d(__webpack_exports__,"c",(function(){return selectPopoverIsVisible}));var _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),typesafe_actions__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(10),createAction=typesafe_actions__WEBPACK_IMPORTED_MODULE_1__.deprecated.createAction,initialState={current:void 0},actions={hide:createAction("HIDE_POPOVER",(function(resolve){return function(payload){return resolve(payload)}})),show:createAction("SHOW_POPOVER",(function(resolve){return function(payload){return resolve(payload)}}))},selectPopoverIsVisible=function selectPopoverIsVisible(_ref){var id=_ref.id;return _ref.popover.current===id};__webpack_exports__.b=function reducer(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:initialState,action=arguments.length>1?arguments[1]:void 0;switch(action.type){case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_1__.getType)(actions.hide):var current=state.current;return current===action.payload&&(current=void 0),Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},state,{current:current});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_1__.getType)(actions.show):return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},state,{current:action.payload});default:return state}}},700:function(module,exports,__webpack_require__){module.exports={popover:"styles_popover__E140a"}},704:function(module,__webpack_exports__,__webpack_require__){"use strict";var _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(24),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(25),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(30),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(29),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(31),react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(0),loglevel__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(39),loglevel__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(loglevel__WEBPACK_IMPORTED_MODULE_8__),react_router_dom__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(716),react_router_dom__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(250),classnames__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(5),classnames__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_11__),lodash_chunk__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(705),lodash_chunk__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(lodash_chunk__WEBPACK_IMPORTED_MODULE_12__),lodash_debounce__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(238),lodash_debounce__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(lodash_debounce__WEBPACK_IMPORTED_MODULE_13__),_CodeView_utils__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(75),_reducers_linter__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(43),_styles_module_scss__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(169),_styles_module_scss__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(_styles_module_scss__WEBPACK_IMPORTED_MODULE_16__),_utils__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(6),_LinterProvider__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(118),_CodeLineShapes__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(242),_CodeLineShapes_utils__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(193),CodeOverviewBase=function(_React$Component){function CodeOverviewBase(props){var _this;return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__.a)(this,CodeOverviewBase),(_this=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__.a)(this,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__.a)(CodeOverviewBase).call(this,props))).overviewRef=void 0,_this.resetOverviewHeight=function(){_this.setState({overviewHeight:null})},_this.setOverviewHeight=function(){var overviewHeight=_this.state.overviewHeight,ref=_this.overviewRef;if(ref&&ref.current){var refHeight=ref.current.clientHeight;overviewHeight!==refHeight&&_this.setState({overviewHeight:refHeight})}},_this.waitAndSetNewOverviewHeight=_this.props._debounce((function(){return _this.setOverviewHeight()}),200),_this.renderWithLinterInfo=function(_ref){var selectedMessageMap=_ref.selectedMessageMap;return react__WEBPACK_IMPORTED_MODULE_7__.createElement("div",{ref:_this.overviewRef,className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_16___default.a.CodeOverview,style:{padding:"".concat(_this.props.overviewPadding,"px")}},_this.renderOverview(selectedMessageMap))},_this.state={overviewHeight:null},_this.overviewRef=_this.props.createOverviewRef(),_this}return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_6__.a)(CodeOverviewBase,_React$Component),Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__.a)(CodeOverviewBase,[{key:"componentDidMount",value:function componentDidMount(){var _window=this.props._window;this.setOverviewHeight(),_window.addEventListener("resize",this.resetOverviewHeight),_window.addEventListener("resize",this.waitAndSetNewOverviewHeight)}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.setOverviewHeight()}},{key:"componentWillUnmount",value:function componentWillUnmount(){var _window=this.props._window;_window.removeEventListener("resize",this.resetOverviewHeight),_window.removeEventListener("resize",this.waitAndSetNewOverviewHeight)}},{key:"fitLineShapesIntoOverview",value:function fitLineShapesIntoOverview(allLineShapes){var _this$props=this.props,overviewPadding=_this$props.overviewPadding,rowHeight=_this$props.rowHeight,rowTopPadding=_this$props.rowTopPadding,overviewHeight=this.state.overviewHeight;if(!overviewHeight)throw new Error("overviewHeight must be set when calling fitLineShapesIntoOverview()");var availableHeight=overviewHeight-2*overviewPadding-rowTopPadding,numberOfRows=Math.floor(availableHeight/rowHeight),chunkSize=1;return allLineShapes.length>numberOfRows&&(chunkSize=Math.ceil(allLineShapes.length/numberOfRows)),{numberOfRows:numberOfRows,chunkedLineShapes:lodash_chunk__WEBPACK_IMPORTED_MODULE_12___default()(allLineShapes,chunkSize)}}},{key:"renderRow",value:function renderRow(selectedMessageMap,rowIndex,shapeIndex,groupOflineShapes,insertedLines){if(!groupOflineShapes)return null;if(insertedLines.length){var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=groupOflineShapes[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var shape=_step.value;if(insertedLines.includes(shape.line))return react__WEBPACK_IMPORTED_MODULE_7__.createElement(_CodeLineShapes__WEBPACK_IMPORTED_MODULE_19__.a,{isChange:!0,lineShapes:shape})}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}}var messages=selectedMessageMap?groupOflineShapes.reduce((function(matches,shape){var allMatches=matches;return 1===shape.line&&selectedMessageMap.global.length&&(allMatches=allMatches.concat(selectedMessageMap.global)),selectedMessageMap.byLine[shape.line]&&(allMatches=allMatches.concat(selectedMessageMap.byLine[shape.line])),allMatches}),[]):[];if(messages.length){var _makeClassName,type=Object(_reducers_linter__WEBPACK_IMPORTED_MODULE_15__.e)(messages);return react__WEBPACK_IMPORTED_MODULE_7__.createElement("div",{key:messages.map((function(m){return m.uid})).join(":"),className:classnames__WEBPACK_IMPORTED_MODULE_11___default()(_styles_module_scss__WEBPACK_IMPORTED_MODULE_16___default.a.linterMessage,(_makeClassName={},Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__.a)(_makeClassName,_styles_module_scss__WEBPACK_IMPORTED_MODULE_16___default.a.linterError,"error"===type),Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__.a)(_makeClassName,_styles_module_scss__WEBPACK_IMPORTED_MODULE_16___default.a.linterWarning,"warning"===type),Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__.a)(_makeClassName,_styles_module_scss__WEBPACK_IMPORTED_MODULE_16___default.a.linterNotice,"notice"===type),_makeClassName))})}var lineShapes=groupOflineShapes[shapeIndex];return react__WEBPACK_IMPORTED_MODULE_7__.createElement(_CodeLineShapes__WEBPACK_IMPORTED_MODULE_19__.a,{lineShapes:lineShapes})}},{key:"renderOverview",value:function renderOverview(selectedMessageMap){var _this2=this,_this$props2=this.props,_document=_this$props2._document,content=_this$props2.content,getCodeLineAnchor=_this$props2.getCodeLineAnchor,insertedLines=_this$props2.insertedLines,location=_this$props2.location,rowHeight=_this$props2.rowHeight,rowTopPadding=_this$props2.rowTopPadding;if(!this.state.overviewHeight)return null;for(var allLineShapes=Object(_CodeLineShapes_utils__WEBPACK_IMPORTED_MODULE_20__.b)(Object(_CodeView_utils__WEBPACK_IMPORTED_MODULE_14__.d)(content)),_this$fitLineShapesIn=this.fitLineShapesIntoOverview(allLineShapes),numberOfRows=_this$fitLineShapesIn.numberOfRows,chunkedLineShapes=_this$fitLineShapesIn.chunkedLineShapes,overview=[],_loop=function _loop(rowIndex){var shapes=chunkedLineShapes[rowIndex],line=shapes&&shapes.length?shapes[0].line:void 0,linkableLine=line;if(line&&insertedLines.length){var firstChange=shapes.filter((function(s){return insertedLines.includes(s.line)}))[0];firstChange&&(linkableLine=firstChange.line)}else if(line&&1===line&&selectedMessageMap&&selectedMessageMap.global.length)linkableLine=_CodeView_utils__WEBPACK_IMPORTED_MODULE_14__.a;else if(line&&selectedMessageMap){var firstMsg=shapes.filter((function(s){return selectedMessageMap.byLine[s.line]}))[0];firstMsg&&(linkableLine=firstMsg.line)}var codeLineAnchor=void 0!==linkableLine?getCodeLineAnchor(linkableLine):null;overview.push(react__WEBPACK_IMPORTED_MODULE_7__.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_9__.a,{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_16___default.a.line,to:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},location,{hash:codeLineAnchor||"#"}),key:rowIndex,onClick:function scrollToLine(event){if(codeLineAnchor){var domLine=_document.querySelector(codeLineAnchor);domLine?domLine.scrollIntoView():loglevel__WEBPACK_IMPORTED_MODULE_8___default.a.error('Anchor "'.concat(codeLineAnchor,'" unexpectedly does not exist on the page'))}else event.preventDefault()},style:{height:"".concat(rowHeight,"px"),paddingTop:rowIndex>0?"".concat(rowTopPadding,"px"):void 0},title:line?Object(_utils__WEBPACK_IMPORTED_MODULE_17__.k)("Jump to line ".concat(line)):""},_this2.renderRow(selectedMessageMap,rowIndex,0,shapes,insertedLines)))},rowIndex=0;rowIndex<numberOfRows;rowIndex++)_loop(rowIndex);return overview}},{key:"render",value:function render(){var overviewHeight=this.state.overviewHeight,version=this.props.version;return react__WEBPACK_IMPORTED_MODULE_7__.createElement(_LinterProvider__WEBPACK_IMPORTED_MODULE_18__.a,{key:overviewHeight?String(overviewHeight):"",versionId:version.id,validationURL:version.validationURL,selectedPath:version.selectedPath},this.renderWithLinterInfo)}}]),CodeOverviewBase}(react__WEBPACK_IMPORTED_MODULE_7__.Component);CodeOverviewBase.defaultProps={_debounce:lodash_debounce__WEBPACK_IMPORTED_MODULE_13___default.a,_document:document,_window:window,createOverviewRef:function createOverviewRef(){return react__WEBPACK_IMPORTED_MODULE_7__.createRef()},getCodeLineAnchor:_CodeView_utils__WEBPACK_IMPORTED_MODULE_14__.b,insertedLines:[],overviewPadding:10,rowTopPadding:2,rowHeight:10},__webpack_exports__.a=Object(react_router_dom__WEBPACK_IMPORTED_MODULE_10__.a)(CodeOverviewBase)},706:function(module,exports,__webpack_require__){module.exports={shell:"styles_shell__3sfvh"}},707:function(module,__webpack_exports__,__webpack_require__){"use strict";var _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(24),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(25),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(30),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(29),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(31),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(1),query_string__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(71),query_string__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(query_string__WEBPACK_IMPORTED_MODULE_6__),react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(0),react_diff_view__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(59),react_bootstrap__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(203),react_router_dom__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(250),classnames__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(5),classnames__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_11__),_Commentable__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(147),_CommentList__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(145),_FadableContent__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(195),_LinterProvider__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(118),_LinterMessage__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(50),_GlobalLinterMessages__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(330),_SlowPageAlert__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(196),_refractor__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(338),_reducers_versions__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(11),_utils__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(6),_styles_module_scss__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(72),_styles_module_scss__WEBPACK_IMPORTED_MODULE_22___default=__webpack_require__.n(_styles_module_scss__WEBPACK_IMPORTED_MODULE_22__),getChangeCharCount=(__webpack_require__(1475),function getChangeCharCount(hunks){return Object(_utils__WEBPACK_IMPORTED_MODULE_21__.h)(hunks).reduce((function(charCount,change){return charCount+change.content.length}),0)}),trimHunks=function trimHunks(_ref){var hunks=_ref.hunks,_ref$_trimmedCharCoun=_ref._trimmedCharCount,_trimmedCharCount=void 0===_ref$_trimmedCharCoun?_utils__WEBPACK_IMPORTED_MODULE_21__.b:_ref$_trimmedCharCoun,charCount=0,hunkIndex=0,trimmedHunks=[],_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=hunks[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var hunk=_step.value;trimmedHunks.push(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},hunk,{changes:[]})),hunkIndex=trimmedHunks.length-1;var _iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=hunk.changes[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var change=_step2.value;if(charCount+change.content.length>_trimmedCharCount)return _trimmedCharCount-charCount&&trimmedHunks[hunkIndex].changes.push(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},change,{content:change.content.substring(0,_trimmedCharCount-charCount)})),trimmedHunks[hunkIndex].changes.push(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},change,{content:"/* diff truncated by code-manager */",lineNumber:void 0,newLineNumber:void 0,oldLineNumber:void 0})),trimmedHunks;trimmedHunks[hunkIndex].changes.push(change),charCount+=change.content.length}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{_iteratorNormalCompletion2||null==_iterator2.return||_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return trimmedHunks},DiffViewBase=function(_React$Component){function DiffViewBase(){var _getPrototypeOf2,_this;Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__.a)(this,DiffViewBase);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__.a)(this,(_getPrototypeOf2=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__.a)(DiffViewBase)).call.apply(_getPrototypeOf2,[this].concat(args)))).getWidgets=function(hunks,selectedMessageMap){var _this$props=_this.props,_changeCanBeCommentedUpon=_this$props._changeCanBeCommentedUpon,enableCommenting=_this$props.enableCommenting,version=_this$props.version,allWidgets={},changesAllowingWidgets=Object(_utils__WEBPACK_IMPORTED_MODULE_21__.h)(hunks).filter((function(change){return change.isDelete||change.isInsert||change.isNormal})),_iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0;try{for(var _step3,_iterator3=changesAllowingWidgets[Symbol.iterator]();!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=!0){var change=_step3.value,changeKey=Object(react_diff_view__WEBPACK_IMPORTED_MODULE_8__.d)(change),line=change.lineNumber,messages=void 0;line&&selectedMessageMap&&(messages=selectedMessageMap.byLine[line]);var widget=enableCommenting&&line&&_changeCanBeCommentedUpon(change)?react__WEBPACK_IMPORTED_MODULE_7__.createElement(_CommentList__WEBPACK_IMPORTED_MODULE_13__.a,{addonId:version.addon.id,fileName:version.selectedPath,line:line,versionId:version.id},(function(allComments){return allComments})):null;messages&&messages.length&&(widget=react__WEBPACK_IMPORTED_MODULE_7__.createElement(react__WEBPACK_IMPORTED_MODULE_7__.Fragment,null,widget,react__WEBPACK_IMPORTED_MODULE_7__.createElement("div",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_22___default.a.inlineLinterMessages},messages.map((function(msg){return react__WEBPACK_IMPORTED_MODULE_7__.createElement(_LinterMessage__WEBPACK_IMPORTED_MODULE_16__.a,{key:msg.uid,message:msg,inline:!0})}))))),allWidgets[changeKey]=widget}}catch(err){_didIteratorError3=!0,_iteratorError3=err}finally{try{_iteratorNormalCompletion3||null==_iterator3.return||_iterator3.return()}finally{if(_didIteratorError3)throw _iteratorError3}}return allWidgets},_this.renderHunk=function(hunk,index){var components=[react__WEBPACK_IMPORTED_MODULE_7__.createElement(react_diff_view__WEBPACK_IMPORTED_MODULE_8__.c,{key:"hunk-".concat(hunk.content),hunk:hunk,className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_22___default.a.hunk})];return index>0&&components.unshift(react__WEBPACK_IMPORTED_MODULE_7__.createElement(react_diff_view__WEBPACK_IMPORTED_MODULE_8__.a,{key:"decoration-".concat(hunk.content)},react__WEBPACK_IMPORTED_MODULE_7__.createElement("div",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_22___default.a.hunkSeparator},"..."))),components},_this.renderHunks=function(hunks){return hunks.map(_this.renderHunk)},_this.renderExtraMessages=function(messages){return react__WEBPACK_IMPORTED_MODULE_7__.createElement("div",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_22___default.a.extraMessages},messages)},_this.renderGutter=function(_ref2){var change=_ref2.change,renderDefault=_ref2.renderDefault,side=_ref2.side,wrapInAnchor=_ref2.wrapInAnchor,_this$props2=_this.props,_changeCanBeCommentedUpon=_this$props2._changeCanBeCommentedUpon,enableCommenting=_this$props2.enableCommenting,version=_this$props2.version,lineNumber=change.lineNumber,defaultGutter=wrapInAnchor(renderDefault()),gutter=defaultGutter;return enableCommenting&&_changeCanBeCommentedUpon(change)&&lineNumber&&"new"===side&&(gutter=react__WEBPACK_IMPORTED_MODULE_7__.createElement(_Commentable__WEBPACK_IMPORTED_MODULE_12__.a,{as:"div",className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_22___default.a.gutter,line:lineNumber,fileName:version.selectedPath,versionId:version.id},(function(addCommentButton){return react__WEBPACK_IMPORTED_MODULE_7__.createElement(react__WEBPACK_IMPORTED_MODULE_7__.Fragment,null,defaultGutter,react__WEBPACK_IMPORTED_MODULE_7__.createElement("span",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_22___default.a.commentButton},addCommentButton))}))),gutter},_this.renderWithMessages=function(_ref3){var hunksToDisplay,diffIsSlowAlert,tokens,selectedMessageMap=_ref3.selectedMessageMap,_this$props3=_this.props,_codeCanBeHighlighted=_this$props3._codeCanBeHighlighted,_slowLoadingCharCount=_this$props3._slowLoadingCharCount,_tokenize=_this$props3._tokenize,_trimmedCharCount=_this$props3._trimmedCharCount,diff=_this$props3.diff,mimeType=_this$props3.mimeType,viewType=_this$props3.viewType,location=_this$props3.location,options={highlight:!0,language:Object(_utils__WEBPACK_IMPORTED_MODULE_21__.i)(mimeType),refractor:_refractor__WEBPACK_IMPORTED_MODULE_19__.a},selectedChanges=location.hash.length>2?[location.hash.substring(1)]:[],extraMessages=[],diffWasTrimmed=!1;return diff&&(hunksToDisplay=diff.hunks,getChangeCharCount(hunksToDisplay)>=_slowLoadingCharCount&&(Object(_utils__WEBPACK_IMPORTED_MODULE_21__.p)({allowByDefault:!0,location:location})||(hunksToDisplay=trimHunks({_trimmedCharCount:_trimmedCharCount,hunks:hunksToDisplay}),diffWasTrimmed=!0),diffIsSlowAlert=react__WEBPACK_IMPORTED_MODULE_7__.createElement(_SlowPageAlert__WEBPACK_IMPORTED_MODULE_18__.a,{allowSlowPagesByDefault:!0,key:"slowPageAlert",location:location,getMessage:function getMessage(allowSlowPages){return allowSlowPages?Object(_utils__WEBPACK_IMPORTED_MODULE_21__.k)("This diff will load slowly."):Object(_utils__WEBPACK_IMPORTED_MODULE_21__.k)("This diff was shortened to load faster.")},getLinkText:function getLinkText(allowSlowPages){return allowSlowPages?Object(_utils__WEBPACK_IMPORTED_MODULE_21__.k)("Shorten the diff."):Object(_utils__WEBPACK_IMPORTED_MODULE_21__.k)("Show the original diff.")}}),extraMessages.push(diffIsSlowAlert))),hunksToDisplay&&_codeCanBeHighlighted({code:Object(_utils__WEBPACK_IMPORTED_MODULE_21__.h)(hunksToDisplay)})&&(tokens=_tokenize(hunksToDisplay,options)),diff&&!tokens&&extraMessages.push(react__WEBPACK_IMPORTED_MODULE_7__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_9__.a,{key:"syntaxHighlightingAlert",variant:"warning"},Object(_utils__WEBPACK_IMPORTED_MODULE_21__.k)("Syntax highlighting was disabled for performance"))),react__WEBPACK_IMPORTED_MODULE_7__.createElement("div",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_22___default.a.DiffView},!diff&&react__WEBPACK_IMPORTED_MODULE_7__.createElement(react__WEBPACK_IMPORTED_MODULE_7__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_7__.createElement("div",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_22___default.a.header}),react__WEBPACK_IMPORTED_MODULE_7__.createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_11___default()(_styles_module_scss__WEBPACK_IMPORTED_MODULE_22___default.a.diff,_styles_module_scss__WEBPACK_IMPORTED_MODULE_22___default.a.noDiffs)},Object(_utils__WEBPACK_IMPORTED_MODULE_21__.k)("No differences"))),react__WEBPACK_IMPORTED_MODULE_7__.createElement(_GlobalLinterMessages__WEBPACK_IMPORTED_MODULE_17__.a,{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_22___default.a.globalLinterMessages,messages:selectedMessageMap&&selectedMessageMap.global}),extraMessages.length?_this.renderExtraMessages(extraMessages):null,diff&&hunksToDisplay&&react__WEBPACK_IMPORTED_MODULE_7__.createElement(react__WEBPACK_IMPORTED_MODULE_7__.Fragment,{key:"".concat(diff.oldRevision,"-").concat(diff.newRevision)},_this.renderHeader(diff),react__WEBPACK_IMPORTED_MODULE_7__.createElement(_FadableContent__WEBPACK_IMPORTED_MODULE_14__.a,{fade:diffWasTrimmed},react__WEBPACK_IMPORTED_MODULE_7__.createElement(react_diff_view__WEBPACK_IMPORTED_MODULE_8__.b,{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_22___default.a.diff,diffType:diff.type,hunks:hunksToDisplay,tokens:tokens,viewType:viewType,gutterType:"anchor",generateAnchorID:react_diff_view__WEBPACK_IMPORTED_MODULE_8__.d,selectedChanges:selectedChanges,widgets:_this.getWidgets(hunksToDisplay,selectedMessageMap),renderGutter:_this.renderGutter},_this.renderHunks))),diffWasTrimmed&&diffIsSlowAlert&&_this.renderExtraMessages(diffIsSlowAlert))},_this}return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__.a)(DiffViewBase,_React$Component),Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__.a)(DiffViewBase,[{key:"componentDidMount",value:function componentDidMount(){this.loadData()}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.loadData()}},{key:"loadData",value:function loadData(){var _this$props4=this.props,_document=_this$props4._document,_getDiffAnchors=_this$props4._getDiffAnchors,_getRelativeDiffAnchor=_this$props4._getRelativeDiffAnchor,diff=_this$props4.diff,history=_this$props4.history,location=_this$props4.location;if(diff){var anchor,queryParams=query_string__WEBPACK_IMPORTED_MODULE_6___default.a.parse(location.search),scrollTo=queryParams.scrollTo;if(scrollTo){if(scrollTo===_reducers_versions__WEBPACK_IMPORTED_MODULE_20__.a.firstDiff)anchor=_getRelativeDiffAnchor({diff:diff});else{var anchors=_getDiffAnchors(diff);anchors.length&&(anchor=anchors[anchors.length-1])}if(anchor){var newParams=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},queryParams);delete newParams.scrollTo;var newLocation=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},location,{hash:"#".concat(anchor),search:query_string__WEBPACK_IMPORTED_MODULE_6___default.a.stringify(newParams)});history.push(newLocation)}}}if(location.hash.length){var element=_document.querySelector(location.hash);element&&element.scrollIntoView()}}},{key:"renderHeader",value:function renderHeader(_ref4){var _hunks$reduce=_ref4.hunks.reduce((function(acc,hunk){return{additions:acc.additions+hunk.changes.filter((function(change){return change.isInsert})).length,deletions:acc.deletions+hunk.changes.filter((function(change){return change.isDelete})).length}}),{additions:0,deletions:0}),additions=_hunks$reduce.additions,deletions=_hunks$reduce.deletions;return react__WEBPACK_IMPORTED_MODULE_7__.createElement("div",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_22___default.a.header},react__WEBPACK_IMPORTED_MODULE_7__.createElement("div",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_22___default.a.stats},react__WEBPACK_IMPORTED_MODULE_7__.createElement("span",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_22___default.a.statsAdditions},"+++ ".concat(additions)),react__WEBPACK_IMPORTED_MODULE_7__.createElement("span",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_22___default.a.statsDeletions},"--- ".concat(deletions))))}},{key:"render",value:function render(){var version=this.props.version;return react__WEBPACK_IMPORTED_MODULE_7__.createElement(_LinterProvider__WEBPACK_IMPORTED_MODULE_15__.a,{versionId:version.id,validationURL:version.validationURL,selectedPath:version.selectedPath},this.renderWithMessages)}}]),DiffViewBase}(react__WEBPACK_IMPORTED_MODULE_7__.Component);DiffViewBase.defaultProps={_changeCanBeCommentedUpon:function changeCanBeCommentedUpon(change){return[_reducers_versions__WEBPACK_IMPORTED_MODULE_20__.c.insert,_reducers_versions__WEBPACK_IMPORTED_MODULE_20__.c.normal].includes(change.type)},_codeCanBeHighlighted:_utils__WEBPACK_IMPORTED_MODULE_21__.d,_document:document,_getDiffAnchors:_reducers_versions__WEBPACK_IMPORTED_MODULE_20__.k,_getRelativeDiffAnchor:_reducers_versions__WEBPACK_IMPORTED_MODULE_20__.n,_slowLoadingCharCount:_utils__WEBPACK_IMPORTED_MODULE_21__.a,_tokenize:react_diff_view__WEBPACK_IMPORTED_MODULE_8__.f,_trimmedCharCount:_utils__WEBPACK_IMPORTED_MODULE_21__.b,enableCommenting:!0,viewType:"unified"},__webpack_exports__.a=Object(react_router_dom__WEBPACK_IMPORTED_MODULE_10__.a)(DiffViewBase)},708:function(module,__webpack_exports__,__webpack_require__){"use strict";var _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(24),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(25),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(30),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(29),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(31),loglevel__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(39),loglevel__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(loglevel__WEBPACK_IMPORTED_MODULE_5__),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(0),_styles_module_scss__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(249),_styles_module_scss__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_styles_module_scss__WEBPACK_IMPORTED_MODULE_7__),ErrorBoundaryBase=function(_React$Component){function ErrorBoundaryBase(props){var _this;return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__.a)(this,ErrorBoundaryBase),(_this=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__.a)(this,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__.a)(ErrorBoundaryBase).call(this,props))).state={error:null,errorInfo:null},_this}return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__.a)(ErrorBoundaryBase,_React$Component),Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__.a)(ErrorBoundaryBase,[{key:"componentDidCatch",value:function componentDidCatch(error,errorInfo){var _log=this.props._log;this.setState({error:error,errorInfo:errorInfo}),_log.error("Caught application error:",error,errorInfo)}},{key:"render",value:function render(){var _this$state=this.state,error=_this$state.error,errorInfo=_this$state.errorInfo;return errorInfo?react__WEBPACK_IMPORTED_MODULE_6__.createElement("div",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_7___default.a.container},react__WEBPACK_IMPORTED_MODULE_6__.createElement("h2",null,"Oops, something went wrong."),react__WEBPACK_IMPORTED_MODULE_6__.createElement("p",null,"Please let us know what you were trying to do when this error occured by"," ",react__WEBPACK_IMPORTED_MODULE_6__.createElement("a",{href:"https://github.com/mozilla/addons-code-manager/issues/new/",rel:"noopener noreferrer",target:"_blank"},"filing an issue"),"."),react__WEBPACK_IMPORTED_MODULE_6__.createElement("details",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_7___default.a.errorDetails},react__WEBPACK_IMPORTED_MODULE_6__.createElement("div",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_7___default.a.errorText},error&&error.toString()),react__WEBPACK_IMPORTED_MODULE_6__.createElement("div",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_7___default.a.componentStack},errorInfo&&errorInfo.componentStack))):this.props.children}}]),ErrorBoundaryBase}(react__WEBPACK_IMPORTED_MODULE_6__.Component);ErrorBoundaryBase.defaultProps={_log:loglevel__WEBPACK_IMPORTED_MODULE_5___default.a},__webpack_exports__.a=ErrorBoundaryBase},709:function(module,__webpack_exports__,__webpack_require__){"use strict";var _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(24),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(25),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(30),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(29),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(31),loglevel__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(39),loglevel__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(loglevel__WEBPACK_IMPORTED_MODULE_5__),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(0),react_bootstrap__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(87),react_redux__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(28),react_treefold__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(715),_styles_module_scss__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(202),_styles_module_scss__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(_styles_module_scss__WEBPACK_IMPORTED_MODULE_10__),_FileTreeNode__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(243),_Loading__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(244),_reducers_fileTree__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(76),_reducers_versions__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(11),_utils__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(6),FileTreeBase=function(_React$Component){function FileTreeBase(_props){var _this;return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__.a)(this,FileTreeBase),(_this=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__.a)(this,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__.a)(FileTreeBase).call(this,_props))).loadData=void 0,_this._loadData=function(){var _this$props=_this.props,comparedToVersionId=_this$props.comparedToVersionId,dispatch=_this$props.dispatch,tree=_this$props.tree,version=_this$props.version;version&&!tree&&dispatch(_reducers_fileTree__WEBPACK_IMPORTED_MODULE_13__.c.buildTree({comparedToVersionId:comparedToVersionId,version:version}))},_this.renderNode=function(props){var _this$props2=_this.props,comparedToVersionId=_this$props2.comparedToVersionId,onSelect=_this$props2.onSelect,version=_this$props2.version;return version?react__WEBPACK_IMPORTED_MODULE_6__.createElement(_FileTreeNode__WEBPACK_IMPORTED_MODULE_11__.a,Object.assign({},props,{comparedToVersionId:comparedToVersionId,onSelect:onSelect,versionId:version.id})):react__WEBPACK_IMPORTED_MODULE_6__.createElement(_Loading__WEBPACK_IMPORTED_MODULE_12__.a,{message:Object(_utils__WEBPACK_IMPORTED_MODULE_15__.k)("Loading version...")})},_this.onToggleExpand=function(node){var _this$props3=_this.props,dispatch=_this$props3.dispatch,version=_this$props3.version;if(!version)throw new Error("Cannot toggle expanded path without a version");dispatch(_reducers_versions__WEBPACK_IMPORTED_MODULE_14__.b.toggleExpandedPath({path:node.id,versionId:version.id}))},_this.onExpandTree=function(){var _this$props4=_this.props,dispatch=_this$props4.dispatch,version=_this$props4.version;version&&dispatch(_reducers_versions__WEBPACK_IMPORTED_MODULE_14__.b.expandTree({versionId:version.id}))},_this.onCollapseTree=function(){var _this$props5=_this.props,dispatch=_this$props5.dispatch,version=_this$props5.version;version&&dispatch(_reducers_versions__WEBPACK_IMPORTED_MODULE_14__.b.collapseTree({versionId:version.id}))},_this.isNodeExpanded=function(node){var expandedPaths=_this.props.expandedPaths;if(!expandedPaths)throw new Error("Cannot check if node is expanded without expandedPaths set");return expandedPaths.includes(node.id)},_this.loadData=_props._loadData||_this._loadData,_this}return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__.a)(FileTreeBase,_React$Component),Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__.a)(FileTreeBase,[{key:"componentDidMount",value:function componentDidMount(){this.loadData()}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.loadData()}},{key:"render",value:function render(){var _this$props6=this.props,tree=_this$props6.tree;return _this$props6.version&&tree?react__WEBPACK_IMPORTED_MODULE_6__.createElement("div",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_10___default.a.shell},react__WEBPACK_IMPORTED_MODULE_6__.createElement("div",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_10___default.a.controlButtons},react__WEBPACK_IMPORTED_MODULE_6__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_7__.a,{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_10___default.a.button,id:"openAll",onClick:this.onExpandTree,size:"sm",type:"button",variant:"light"},Object(_utils__WEBPACK_IMPORTED_MODULE_15__.k)("Open all folders")),react__WEBPACK_IMPORTED_MODULE_6__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_7__.a,{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_10___default.a.button,id:"closeAll",onClick:this.onCollapseTree,size:"sm",type:"button",variant:"light"},Object(_utils__WEBPACK_IMPORTED_MODULE_15__.k)("Close all folders"))),react__WEBPACK_IMPORTED_MODULE_6__.createElement("div",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_10___default.a.treeShell},react__WEBPACK_IMPORTED_MODULE_6__.createElement(react_treefold__WEBPACK_IMPORTED_MODULE_9__.a,{nodes:tree.nodes.children,render:this.renderNode,isNodeExpanded:this.isNodeExpanded,onToggleExpand:this.onToggleExpand}))):react__WEBPACK_IMPORTED_MODULE_6__.createElement(_Loading__WEBPACK_IMPORTED_MODULE_12__.a,{message:Object(_utils__WEBPACK_IMPORTED_MODULE_15__.k)("Loading version...")})}}]),FileTreeBase}(react__WEBPACK_IMPORTED_MODULE_6__.Component);FileTreeBase.defaultProps={_log:loglevel__WEBPACK_IMPORTED_MODULE_5___default.a};__webpack_exports__.a=Object(react_redux__WEBPACK_IMPORTED_MODULE_8__.connect)((function mapStateToProps(state,ownProps){var versionId=ownProps.versionId,version=Object(_reducers_versions__WEBPACK_IMPORTED_MODULE_14__.p)(state.versions,versionId),expandedPaths=state.versions.expandedPaths;return version||loglevel__WEBPACK_IMPORTED_MODULE_5___default.a.warn("No version was loaded for version: ",versionId),{expandedPaths:expandedPaths,tree:version?Object(_reducers_fileTree__WEBPACK_IMPORTED_MODULE_13__.f)(state.fileTree,version.id):void 0,version:version}}))(FileTreeBase)},712:function(module,exports,__webpack_require__){module.exports={link:"styles_link__36jWF"}},713:function(module,__webpack_exports__,__webpack_require__){"use strict";var _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(24),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(25),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(30),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(29),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(31),classnames__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(5),classnames__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_6__),react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(0),react_bootstrap__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(459),react_bootstrap__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(87),react_redux__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(28),_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(81),_utils__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(6),_CommentSummaryButton__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(334),_LoginButton__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(335),_VersionChooser__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(339),_reducers_comments__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(18),_reducers_versions__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(11),_reducers_users__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(133),_styles_module_scss__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(60),_styles_module_scss__WEBPACK_IMPORTED_MODULE_19___default=__webpack_require__.n(_styles_module_scss__WEBPACK_IMPORTED_MODULE_19__),NavbarBase=function(_React$Component){function NavbarBase(props){var _this;return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__.a)(this,NavbarBase),(_this=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__.a)(this,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__.a)(NavbarBase).call(this,props))).logOut=function(){var _this$props=_this.props,_requestLogOut=_this$props._requestLogOut;(0,_this$props.dispatch)(_requestLogOut())},_this.state={nextBaseVersionImprint:void 0},_this}return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_5__.a)(NavbarBase,_React$Component),Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__.a)(NavbarBase,[{key:"componentDidMount",value:function componentDidMount(){this.loadData()}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.loadData()}},{key:"loadData",value:function loadData(){var _this$props2=this.props,_fetchVersion=_this$props2._fetchVersion,currentVersion=_this$props2.currentVersion,currentBaseVersion=_this$props2.currentBaseVersion,currentBaseVersionId=_this$props2.currentBaseVersionId,dispatch=_this$props2.dispatch,nextBaseVersionImprint=this.state.nextBaseVersionImprint;currentBaseVersion&&nextBaseVersionImprint!==currentBaseVersion.version&&this.setState({nextBaseVersionImprint:currentBaseVersion.version}),currentVersion&&void 0===currentBaseVersion&&currentBaseVersionId&&dispatch(_fetchVersion({addonId:currentVersion.addon.id,path:void 0,setAsCurrent:!1,versionId:currentBaseVersionId})),!1===currentBaseVersionId&&nextBaseVersionImprint&&this.setState({nextBaseVersionImprint:void 0})}},{key:"renderCommentsNavBar",value:function renderCommentsNavBar(){var comments=this.props.comments;return comments&&0!==comments.length?react__WEBPACK_IMPORTED_MODULE_7__.createElement(react__WEBPACK_IMPORTED_MODULE_7__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_7__.createElement("div",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_19___default.a.infoItem},Object(_utils__WEBPACK_IMPORTED_MODULE_12__.k)("Comments:"),react__WEBPACK_IMPORTED_MODULE_7__.createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_6___default()(_styles_module_scss__WEBPACK_IMPORTED_MODULE_19___default.a.itemData,_styles_module_scss__WEBPACK_IMPORTED_MODULE_19___default.a.commentCount)},comments.length)),react__WEBPACK_IMPORTED_MODULE_7__.createElement("div",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_19___default.a.infoItem},react__WEBPACK_IMPORTED_MODULE_7__.createElement(_CommentSummaryButton__WEBPACK_IMPORTED_MODULE_13__.a,null))):null}},{key:"render",value:function render(){var _this$props3=this.props,currentBaseVersion=_this$props3.currentBaseVersion,currentVersion=_this$props3.currentVersion,reviewersHost=_this$props3.reviewersHost,user=_this$props3.user,nextBaseVersionImprint=this.state.nextBaseVersionImprint;return react__WEBPACK_IMPORTED_MODULE_7__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_8__.a,{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_19___default.a.Navbar,expand:"lg",variant:"dark"},react__WEBPACK_IMPORTED_MODULE_7__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_8__.a.Brand,{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_19___default.a.brand},react__WEBPACK_IMPORTED_MODULE_7__.createElement("div",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_19___default.a.info},currentVersion&&react__WEBPACK_IMPORTED_MODULE_7__.createElement(react__WEBPACK_IMPORTED_MODULE_7__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_7__.createElement("div",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_19___default.a.infoItem},react__WEBPACK_IMPORTED_MODULE_7__.createElement("a",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_19___default.a.reviewerToolsLink,href:"".concat(reviewersHost,"/reviewers/review/").concat(currentVersion.addon.slug),rel:"noopener noreferrer",target:"_blank"},react__WEBPACK_IMPORTED_MODULE_7__.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_11__.a,{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_19___default.a.reviewerToolsIcon,icon:["fas","arrow-left"]}),Object(_utils__WEBPACK_IMPORTED_MODULE_12__.k)("Reviewer Tools"))),react__WEBPACK_IMPORTED_MODULE_7__.createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_6___default()(_styles_module_scss__WEBPACK_IMPORTED_MODULE_19___default.a.infoItem,_styles_module_scss__WEBPACK_IMPORTED_MODULE_19___default.a.addonName)},Object(_utils__WEBPACK_IMPORTED_MODULE_12__.j)(currentVersion.addon.name),react__WEBPACK_IMPORTED_MODULE_7__.createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_6___default()(_styles_module_scss__WEBPACK_IMPORTED_MODULE_19___default.a.versionIndicator,_styles_module_scss__WEBPACK_IMPORTED_MODULE_19___default.a.itemData)},currentBaseVersion||nextBaseVersionImprint?react__WEBPACK_IMPORTED_MODULE_7__.createElement("span",{className:classnames__WEBPACK_IMPORTED_MODULE_6___default()(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_styles_module_scss__WEBPACK_IMPORTED_MODULE_19___default.a.baseVersionIsLoading,!currentBaseVersion&&nextBaseVersionImprint))},"".concat(currentBaseVersion&&currentBaseVersion.version||nextBaseVersionImprint,"")):null,currentVersion.version))),currentVersion&&react__WEBPACK_IMPORTED_MODULE_7__.createElement("div",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_19___default.a.infoItem},react__WEBPACK_IMPORTED_MODULE_7__.createElement(_VersionChooser__WEBPACK_IMPORTED_MODULE_15__.a,{addonId:currentVersion.addon.id})),this.renderCommentsNavBar())),react__WEBPACK_IMPORTED_MODULE_7__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_8__.a.Text,{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_19___default.a.text},user?react__WEBPACK_IMPORTED_MODULE_7__.createElement("span",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_19___default.a.username},user.name):null,user?react__WEBPACK_IMPORTED_MODULE_7__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_9__.a,{size:"sm",className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_19___default.a.logOut,onClick:this.logOut},Object(_utils__WEBPACK_IMPORTED_MODULE_12__.k)("Log out")):react__WEBPACK_IMPORTED_MODULE_7__.createElement(_LoginButton__WEBPACK_IMPORTED_MODULE_14__.a,null)))}}]),NavbarBase}(react__WEBPACK_IMPORTED_MODULE_7__.Component);NavbarBase.defaultProps={_fetchVersion:_reducers_versions__WEBPACK_IMPORTED_MODULE_17__.i,_requestLogOut:_reducers_users__WEBPACK_IMPORTED_MODULE_18__.d,reviewersHost:"https://reviewers.addons.mozilla.org"};__webpack_exports__.a=Object(react_redux__WEBPACK_IMPORTED_MODULE_10__.connect)((function mapStateToProps(state){var currentBaseVersion,currentBaseVersionId=state.versions.currentBaseVersionId;currentBaseVersionId&&(currentBaseVersion=Object(_reducers_versions__WEBPACK_IMPORTED_MODULE_17__.p)(state.versions,currentBaseVersionId));var currentVersion=Object(_reducers_versions__WEBPACK_IMPORTED_MODULE_17__.q)(state.versions);return{comments:currentVersion?Object(_reducers_comments__WEBPACK_IMPORTED_MODULE_16__.k)({comments:state.comments,versionId:currentVersion.id}):void 0,user:Object(_reducers_users__WEBPACK_IMPORTED_MODULE_18__.e)(state.users),currentBaseVersion:currentBaseVersion,currentBaseVersionId:currentBaseVersionId,currentVersion:currentVersion}}))(NavbarBase)},714:function(module,exports,__webpack_require__){module.exports={skeleton:"styles_skeleton__21wD1",pulse:"styles_pulse__3ioaW"}},718:function(module,exports,__webpack_require__){__webpack_require__(719),__webpack_require__(847),module.exports=__webpack_require__(848)},72:function(module,exports,__webpack_require__){module.exports={header:"styles_header__1acyS",stats:"styles_stats__1CsWq",statsAdditions:"styles_statsAdditions__2ZiNx",statsDeletions:"styles_statsDeletions__daLk3",hunkSeparator:"styles_hunkSeparator__2tvIM",noDiffs:"styles_noDiffs__Fdm4C",extraMessages:"styles_extraMessages__3OiYS",globalLinterMessages:"styles_globalLinterMessages__176tt",inlineLinterMessages:"styles_inlineLinterMessages__133tm",gutter:"styles_gutter__3I9pd",commentButton:"styles_commentButton__tO7N7"}},73:function(module,exports,__webpack_require__){module.exports={node:"styles_node__3Y35w",nodeItem:"styles_nodeItem__m9f81",nodeName:"styles_nodeName__2lcgh",nodeIcons:"styles_nodeIcons__2_5hE",folderAndFileIcons:"styles_folderAndFileIcons__1_6S4",selected:"styles_selected__2pNWE",hasLinterMessages:"styles_hasLinterMessages__3mfgA",hasLinterErrors:"styles_hasLinterErrors__1FeXO",hasLinterWarnings:"styles_hasLinterWarnings__1RyH8",isKnownLibrary:"styles_isKnownLibrary__3-ibF",wasDeleted:"styles_wasDeleted__2dAAV",wasModified:"styles_wasModified__IIqGM",wasAdded:"styles_wasAdded__3KHyX"}},75:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"e",(function(){return mapWithDepth})),__webpack_require__.d(__webpack_exports__,"d",(function(){return getLines})),__webpack_require__.d(__webpack_exports__,"a",(function(){return GLOBAL_LINTER_ANCHOR_ID})),__webpack_require__.d(__webpack_exports__,"c",(function(){return getCodeLineAnchorID})),__webpack_require__.d(__webpack_exports__,"b",(function(){return getCodeLineAnchor}));var _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),classnames__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5),classnames__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__),mapChild=function mapChild(child,i,depth){if(child.tagName){var className=classnames__WEBPACK_IMPORTED_MODULE_2___default()(child.properties&&child.properties.className);return react__WEBPACK_IMPORTED_MODULE_1__.createElement(child.tagName,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({key:"code-child-".concat(depth,"-").concat(i)},child.properties,{className:className}),child.children&&child.children.map(mapWithDepth(depth+1)))}return child.value},mapWithDepth=function mapWithDepth(depth){var _mapChild=arguments.length>1&&void 0!==arguments[1]?arguments[1]:mapChild;return function(child,i){return _mapChild(child,i,depth)}},getLines=function getLines(content){return content?content.replace("\r\n","\n").split("\n"):[]},GLOBAL_LINTER_ANCHOR_ID=0,getCodeLineAnchorID=function getCodeLineAnchorID(line){return"I".concat(line)},getCodeLineAnchor=function getCodeLineAnchor(line){return"#".concat(getCodeLineAnchorID(line))}},76:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ROOT_PATH})),__webpack_require__.d(__webpack_exports__,"b",(function(){return RelativePathPosition})),__webpack_require__.d(__webpack_exports__,"e",(function(){return findRelativePathWithDiff})),__webpack_require__.d(__webpack_exports__,"c",(function(){return actions})),__webpack_require__.d(__webpack_exports__,"f",(function(){return getTree}));__webpack_require__(7),__webpack_require__(17);var RelativePathPosition,_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1),typesafe_actions__WEBPACK_IMPORTED_MODULE_5__=(__webpack_require__(132),__webpack_require__(39),__webpack_require__(10)),_versions__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(11),_utils__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(6),createAction=(__webpack_require__(43),typesafe_actions__WEBPACK_IMPORTED_MODULE_5__.deprecated.createAction),ROOT_PATH="~root~",buildTreePathList=function buildTreePathList(nodes){var treePathList=[];return function extractPaths(node){if("children"in node){var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=node.children[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){extractPaths(_step.value)}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}}else treePathList.push(node.id)}(nodes),treePathList},buildFileTree=function buildFileTree(version){var nodes=function buildFileTreeNodes(version){for(var entries=version.entries,root={id:ROOT_PATH,name:Object(_utils__WEBPACK_IMPORTED_MODULE_7__.j)(version.addon.name),children:[]},maxDepth=entries.reduce((function(max,entry){return entry.depth>max?entry.depth:max}),0),currentDepth=0;currentDepth<=maxDepth;){entries.filter((function(entry){return entry.depth===currentDepth})).forEach((function(entry){var currentNode=root;currentDepth>0&&function(){var parts=entry.path.split("/");parts.pop();for(var _loop=function _loop(i){var foundNode=currentNode.children.find((function(child){return child.name===parts[i]}));if(!foundNode)throw new Error("Could not find parent of entry: ".concat(entry.path));currentNode=foundNode},i=0;i<parts.length;i++)_loop(i)}();var node={id:entry.path,name:entry.filename};"directory"===entry.type&&(node=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},node,{children:[]})),currentNode.children.push(node)})),currentDepth++}return function recursiveSortInPlace(node){node.children.sort((function(a,b){return"children"in a&&"children"in b?a.name.localeCompare(b.name):"children"in a==!1&&"children"in b==!1?a.name.localeCompare(b.name):"children"in b==!1?-1:1})),node.children.forEach((function(child){"children"in child&&recursiveSortInPlace(child)}))}(root),root}(version);return{nodes:nodes,pathList:buildTreePathList(nodes)}};!function(RelativePathPosition){RelativePathPosition[RelativePathPosition.next=0]="next",RelativePathPosition[RelativePathPosition.previous=1]="previous"}(RelativePathPosition||(RelativePathPosition={}));var getRelativePath=function getRelativePath(_ref){var currentPath=_ref.currentPath,pathList=_ref.pathList,position=_ref.position,currentIndex=pathList.indexOf(currentPath);if(currentIndex<0)throw new Error("Cannot find ".concat(currentPath," in pathList: ").concat(pathList));var newIndex=position===RelativePathPosition.previous?currentIndex-1:currentIndex+1;return newIndex<0?newIndex=pathList.length-1:newIndex>=pathList.length&&(newIndex=0),pathList[newIndex]},findRelativePathWithDiff=function findRelativePathWithDiff(_ref2){for(var currentPath=_ref2.currentPath,entryStatusMap=_ref2.entryStatusMap,pathList=_ref2.pathList,position=_ref2.position,version=_ref2.version,path=currentPath,maxAttempts=pathList.length,_loop2=function _loop2(attempt){var nextPath=getRelativePath({currentPath:path,pathList:pathList,position:position}),entry=version.entries.find((function(e){return e.path===nextPath}));if(!entry)throw new Error("Entry missing for path: ".concat(nextPath,", versionId: ").concat(version.id));if(void 0===entryStatusMap[entry.path])throw new Error("Entry status missing for path: ".concat(nextPath,", versionId: ").concat(version.id));if(""!==entryStatusMap[entry.path])return{v:nextPath};path=nextPath},attempt=1;attempt<=maxAttempts;attempt++){var _ret=_loop2();if("object"==typeof _ret)return _ret.v}throw new Error("findRelativePathWithDiff was unable to find a path with a diff using currentPath: ".concat(currentPath))},initialState={comparedToVersionId:null,forVersionId:void 0,tree:void 0},actions={buildTree:createAction("BUILD_TREE",(function(resolve){return function(payload){return resolve(payload)}}))},getTree=function getTree(treeState,versionId){if(treeState.forVersionId===versionId)return treeState.tree};__webpack_exports__.d=function reducer(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:initialState,action=arguments.length>1?arguments[1]:void 0;switch(action.type){case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_5__.getType)(actions.buildTree):var _action$payload=action.payload,comparedToVersionId=_action$payload.comparedToVersionId,version=_action$payload.version,tree=buildFileTree(version);return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},state,{comparedToVersionId:comparedToVersionId,forVersionId:version.id,tree:tree});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_5__.getType)(_versions__WEBPACK_IMPORTED_MODULE_6__.b.loadVersionInfo):var forVersionId=state.forVersionId,_version=action.payload.version;return forVersionId===_version.id&&(forVersionId=void 0),Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},state,{forVersionId:forVersionId});default:return state}}},766:function(module,exports){},82:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return actions}));var _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),typesafe_actions__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(10),createAction=typesafe_actions__WEBPACK_IMPORTED_MODULE_1__.deprecated.createAction,initialState={errors:[],nextErrorId:1},actions={addError:createAction("ADD_ERROR",(function(resolve){return function(payload){return resolve(payload)}})),removeError:createAction("REMOVE_ERROR",(function(resolve){return function(payload){return resolve(payload)}}))};__webpack_exports__.b=function reducer(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:initialState,action=arguments.length>1?arguments[1]:void 0;switch(action.type){case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_1__.getType)(actions.addError):return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},state,{errors:state.errors.concat({id:state.nextErrorId,message:action.payload.error.message}),nextErrorId:state.nextErrorId+1});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_1__.getType)(actions.removeError):return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},state,{errors:state.errors.filter((function(_ref){return _ref.id!==action.payload.id}))});default:return state}}},83:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Header}));var _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),classnames__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5),classnames__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__),react_redux__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(28),_styles_module_scss__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(110),_styles_module_scss__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_styles_module_scss__WEBPACK_IMPORTED_MODULE_4__),Header=function Header(_ref){var children=_ref.children,className=_ref.className;return react__WEBPACK_IMPORTED_MODULE_1__.createElement("header",{className:classnames__WEBPACK_IMPORTED_MODULE_2___default()(_styles_module_scss__WEBPACK_IMPORTED_MODULE_4___default.a.Header,className)},children)};__webpack_exports__.b=Object(react_redux__WEBPACK_IMPORTED_MODULE_3__.connect)((function mapStateToProps(state){return{altSidePanelIsExpanded:state.fullscreenGrid.altSidePanelIsExpanded,mainSidePanelIsExpanded:state.fullscreenGrid.mainSidePanelIsExpanded}}))((function FullscreenGridBase(_ref2){var _makeClassName,children=_ref2.children,className=_ref2.className,altSidePanelIsExpanded=_ref2.altSidePanelIsExpanded,mainSidePanelIsExpanded=_ref2.mainSidePanelIsExpanded;return react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_2___default()(_styles_module_scss__WEBPACK_IMPORTED_MODULE_4___default.a.FullscreenGrid,(_makeClassName={},Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)(_makeClassName,_styles_module_scss__WEBPACK_IMPORTED_MODULE_4___default.a.withMainSidePanelCollapsed,!mainSidePanelIsExpanded&&altSidePanelIsExpanded),Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)(_makeClassName,_styles_module_scss__WEBPACK_IMPORTED_MODULE_4___default.a.withAltSidePanelCollapsed,mainSidePanelIsExpanded&&!altSidePanelIsExpanded),Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)(_makeClassName,_styles_module_scss__WEBPACK_IMPORTED_MODULE_4___default.a.withBothSidePanelsCollapsed,!mainSidePanelIsExpanded&&!altSidePanelIsExpanded),_makeClassName),className)},children)}))},848:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(12),react_storybook_addon_chapters__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(442),react_storybook_addon_chapters__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react_storybook_addon_chapters__WEBPACK_IMPORTED_MODULE_2__),storybook_addon_root_attribute__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(683),_src_configureApplication__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(684),_utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(13);__webpack_require__(1289),__webpack_require__(1290);Object(_src_configureApplication__WEBPACK_IMPORTED_MODULE_4__.a)();var req=__webpack_require__(1291);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.addDecorator)(storybook_addon_root_attribute__WEBPACK_IMPORTED_MODULE_3__.withRootAttribute),Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.addParameters)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({options:{showPanel:!1}},Object(_utils__WEBPACK_IMPORTED_MODULE_5__.e)())),Object(react_storybook_addon_chapters__WEBPACK_IMPORTED_MODULE_2__.setDefaults)({sectionOptions:{showSource:!1}}),Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.setAddon)(react_storybook_addon_chapters__WEBPACK_IMPORTED_MODULE_2___default.a);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.configure)((function loadStories(){return req.keys().forEach(req)}),module)}.call(this,__webpack_require__(32)(module))},85:function(module,__webpack_exports__,__webpack_require__){"use strict";var PanelAttribs,react=__webpack_require__(0),classnames=__webpack_require__(5),classnames_default=__webpack_require__.n(classnames),es=__webpack_require__(28),withRouter=__webpack_require__(250),fullscreenGrid=__webpack_require__(239),defineProperty=__webpack_require__(7),ToggleButton=__webpack_require__(324),utils=__webpack_require__(6),styles_module=__webpack_require__(201),styles_module_default=__webpack_require__.n(styles_module),SidePanel=function SidePanelBase(_ref){var _ref$borderless=_ref.borderless,borderless=void 0!==_ref$borderless&&_ref$borderless,children=_ref.children,className=_ref.className,isExpanded=_ref.isExpanded,onClick=_ref.onClick,toggleLeft=_ref.toggleLeft,collapseText=Object(utils.k)("Collapse this panel");return react.createElement("aside",{"aria-expanded":isExpanded?"true":"false",className:classnames_default()(styles_module_default.a.SidePanel,className,Object(defineProperty.a)({},styles_module_default.a.isCollapsed,!isExpanded))},react.createElement("div",{className:classnames_default()(styles_module_default.a.content,Object(defineProperty.a)({},styles_module_default.a.borderlessContent,borderless))},children),react.createElement(ToggleButton.a,{className:styles_module_default.a.ToggleButton,label:isExpanded?collapseText:null,onClick:onClick,title:isExpanded?collapseText:Object(utils.k)("Expand this panel"),toggleLeft:toggleLeft}))},FullscreenGrid_styles_module=__webpack_require__(110),FullscreenGrid_styles_module_default=__webpack_require__.n(FullscreenGrid_styles_module);!function(PanelAttribs){PanelAttribs.altSidePanel="altSidePanel",PanelAttribs.mainSidePanel="mainSidePanel",PanelAttribs.topContent="topContent"}(PanelAttribs||(PanelAttribs={}));__webpack_exports__.a=Object(withRouter.a)(Object(es.connect)((function mapStateToProps(state){return{altSidePanelIsExpanded:state.fullscreenGrid.altSidePanelIsExpanded,mainSidePanelIsExpanded:state.fullscreenGrid.mainSidePanelIsExpanded}}))((function ContentShellBase(_ref){var altSidePanel=_ref.altSidePanel,altSidePanelClass=_ref.altSidePanelClass,altSidePanelIsExpanded=_ref.altSidePanelIsExpanded,children=_ref.children,className=_ref.className,dispatch=_ref.dispatch,location=_ref.location,mainSidePanel=_ref.mainSidePanel,mainSidePanelClass=_ref.mainSidePanelClass,_ref$mainSidePanelIsB=_ref.mainSidePanelIsBorderless,mainSidePanelIsBorderless=void 0!==_ref$mainSidePanelIsB&&_ref$mainSidePanelIsB,mainSidePanelIsExpanded=_ref.mainSidePanelIsExpanded,topContent=_ref.topContent;return react.createElement(react.Fragment,null,topContent?react.createElement("div",{className:FullscreenGrid_styles_module_default.a.topContent},topContent):null,react.createElement(SidePanel,{borderless:mainSidePanelIsBorderless,className:classnames_default()(FullscreenGrid_styles_module_default.a.mainSidePanel,mainSidePanelClass),isExpanded:mainSidePanelIsExpanded,onClick:function onClick(){return dispatch(fullscreenGrid.a.toggleMainSidePanel())},toggleLeft:mainSidePanelIsExpanded},mainSidePanel),react.createElement("main",{className:classnames_default()(FullscreenGrid_styles_module_default.a.content,className),key:location.key},children),react.createElement(SidePanel,{className:classnames_default()(FullscreenGrid_styles_module_default.a.altSidePanel,altSidePanelClass),isExpanded:altSidePanelIsExpanded,onClick:function onClick(){return dispatch(fullscreenGrid.a.toggleAltSidePanel())},toggleLeft:!altSidePanelIsExpanded},altSidePanel))})))},94:function(module,exports,__webpack_require__){module.exports={table:"styles_table__1-mH5",tableBody:"styles_tableBody__PTWx6",selectedLine:"styles_selectedLine__18JBH",lineNumber:"styles_lineNumber__3BgY8",lineNumberLink:"styles_lineNumberLink__1enZq",code:"styles_code__TPrX0",lineNumberCol:"styles_lineNumberCol__3Kxgw",highlightedCode:"styles_highlightedCode__j1rI_",innerHighlightedCode:"styles_innerHighlightedCode__1cXbq",linterMessages:"styles_linterMessages__1kpKr"}}},[[718,1,2]]]);
//# sourceMappingURL=main.1eb6e5114fe63ce597d3.bundle.js.map